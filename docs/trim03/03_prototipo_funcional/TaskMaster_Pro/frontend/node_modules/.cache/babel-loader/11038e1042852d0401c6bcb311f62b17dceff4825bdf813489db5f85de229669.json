{"ast":null,"code":"require(\"core-js/modules/es.array.push.js\");require(\"core-js/modules/es.iterator.constructor.js\");require(\"core-js/modules/es.iterator.filter.js\");require(\"core-js/modules/es.iterator.for-each.js\");typeof navigator!==\"undefined\"&&function(global,factory){typeof exports==='object'&&typeof module!=='undefined'?module.exports=factory():typeof define==='function'&&define.amd?define(factory):(global=typeof globalThis!=='undefined'?globalThis:global||self,global.lottie=factory());}(this,function(){'use strict';var svgNS='http://www.w3.org/2000/svg';var locationHref='';var _useWebWorker=false;var initialDefaultFrame=-999999;var setWebWorker=function setWebWorker(flag){_useWebWorker=!!flag;};var getWebWorker=function getWebWorker(){return _useWebWorker;};var setLocationHref=function setLocationHref(value){locationHref=value;};var getLocationHref=function getLocationHref(){return locationHref;};function createTag(type){// return {appendChild:function(){},setAttribute:function(){},style:{}}\nreturn document.createElement(type);}function extendPrototype(sources,destination){var i;var len=sources.length;var sourcePrototype;for(i=0;i<len;i+=1){sourcePrototype=sources[i].prototype;for(var attr in sourcePrototype){if(Object.prototype.hasOwnProperty.call(sourcePrototype,attr))destination.prototype[attr]=sourcePrototype[attr];}}}function getDescriptor(object,prop){return Object.getOwnPropertyDescriptor(object,prop);}function createProxyFunction(prototype){function ProxyFunction(){}ProxyFunction.prototype=prototype;return ProxyFunction;}// import Howl from '../../3rd_party/howler';\nvar audioControllerFactory=function(){function AudioController(audioFactory){this.audios=[];this.audioFactory=audioFactory;this._volume=1;this._isMuted=false;}AudioController.prototype={addAudio:function addAudio(audio){this.audios.push(audio);},pause:function pause(){var i;var len=this.audios.length;for(i=0;i<len;i+=1){this.audios[i].pause();}},resume:function resume(){var i;var len=this.audios.length;for(i=0;i<len;i+=1){this.audios[i].resume();}},setRate:function setRate(rateValue){var i;var len=this.audios.length;for(i=0;i<len;i+=1){this.audios[i].setRate(rateValue);}},createAudio:function createAudio(assetPath){if(this.audioFactory){return this.audioFactory(assetPath);}if(window.Howl){return new window.Howl({src:[assetPath]});}return{isPlaying:false,play:function play(){this.isPlaying=true;},seek:function seek(){this.isPlaying=false;},playing:function playing(){},rate:function rate(){},setVolume:function setVolume(){}};},setAudioFactory:function setAudioFactory(audioFactory){this.audioFactory=audioFactory;},setVolume:function setVolume(value){this._volume=value;this._updateVolume();},mute:function mute(){this._isMuted=true;this._updateVolume();},unmute:function unmute(){this._isMuted=false;this._updateVolume();},getVolume:function getVolume(){return this._volume;},_updateVolume:function _updateVolume(){var i;var len=this.audios.length;for(i=0;i<len;i+=1){this.audios[i].volume(this._volume*(this._isMuted?0:1));}}};return function(){return new AudioController();};}();var createTypedArray=function(){function createRegularArray(type,len){var i=0;var arr=[];var value;switch(type){case'int16':case'uint8c':value=1;break;default:value=1.1;break;}for(i=0;i<len;i+=1){arr.push(value);}return arr;}function createTypedArrayFactory(type,len){if(type==='float32'){return new Float32Array(len);}if(type==='int16'){return new Int16Array(len);}if(type==='uint8c'){return new Uint8ClampedArray(len);}return createRegularArray(type,len);}if(typeof Uint8ClampedArray==='function'&&typeof Float32Array==='function'){return createTypedArrayFactory;}return createRegularArray;}();function createSizedArray(len){return Array.apply(null,{length:len});}function _typeof$6(obj){\"@babel/helpers - typeof\";if(typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"){_typeof$6=function _typeof(obj){return typeof obj;};}else{_typeof$6=function _typeof(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;};}return _typeof$6(obj);}var subframeEnabled=true;var expressionsPlugin=null;var expressionsInterfaces=null;var idPrefix$1='';var isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);var _shouldRoundValues=false;var bmPow=Math.pow;var bmSqrt=Math.sqrt;var bmFloor=Math.floor;var bmMax=Math.max;var bmMin=Math.min;var BMMath={};(function(){var propertyNames=['abs','acos','acosh','asin','asinh','atan','atanh','atan2','ceil','cbrt','expm1','clz32','cos','cosh','exp','floor','fround','hypot','imul','log','log1p','log2','log10','max','min','pow','random','round','sign','sin','sinh','sqrt','tan','tanh','trunc','E','LN10','LN2','LOG10E','LOG2E','PI','SQRT1_2','SQRT2'];var i;var len=propertyNames.length;for(i=0;i<len;i+=1){BMMath[propertyNames[i]]=Math[propertyNames[i]];}})();function ProjectInterface$1(){return{};}BMMath.random=Math.random;BMMath.abs=function(val){var tOfVal=_typeof$6(val);if(tOfVal==='object'&&val.length){var absArr=createSizedArray(val.length);var i;var len=val.length;for(i=0;i<len;i+=1){absArr[i]=Math.abs(val[i]);}return absArr;}return Math.abs(val);};var defaultCurveSegments=150;var degToRads=Math.PI/180;var roundCorner=0.5519;function roundValues(flag){_shouldRoundValues=!!flag;}function bmRnd(value){if(_shouldRoundValues){return Math.round(value);}return value;}function styleDiv(element){element.style.position='absolute';element.style.top=0;element.style.left=0;element.style.display='block';element.style.transformOrigin='0 0';element.style.webkitTransformOrigin='0 0';element.style.backfaceVisibility='visible';element.style.webkitBackfaceVisibility='visible';element.style.transformStyle='preserve-3d';element.style.webkitTransformStyle='preserve-3d';element.style.mozTransformStyle='preserve-3d';}function BMEnterFrameEvent(type,currentTime,totalTime,frameMultiplier){this.type=type;this.currentTime=currentTime;this.totalTime=totalTime;this.direction=frameMultiplier<0?-1:1;}function BMCompleteEvent(type,frameMultiplier){this.type=type;this.direction=frameMultiplier<0?-1:1;}function BMCompleteLoopEvent(type,totalLoops,currentLoop,frameMultiplier){this.type=type;this.currentLoop=currentLoop;this.totalLoops=totalLoops;this.direction=frameMultiplier<0?-1:1;}function BMSegmentStartEvent(type,firstFrame,totalFrames){this.type=type;this.firstFrame=firstFrame;this.totalFrames=totalFrames;}function BMDestroyEvent(type,target){this.type=type;this.target=target;}function BMRenderFrameErrorEvent(nativeError,currentTime){this.type='renderFrameError';this.nativeError=nativeError;this.currentTime=currentTime;}function BMConfigErrorEvent(nativeError){this.type='configError';this.nativeError=nativeError;}function BMAnimationConfigErrorEvent(type,nativeError){this.type=type;this.nativeError=nativeError;}var createElementID=function(){var _count=0;return function createID(){_count+=1;return idPrefix$1+'__lottie_element_'+_count;};}();function HSVtoRGB(h,s,v){var r;var g;var b;var i;var f;var p;var q;var t;i=Math.floor(h*6);f=h*6-i;p=v*(1-s);q=v*(1-f*s);t=v*(1-(1-f)*s);switch(i%6){case 0:r=v;g=t;b=p;break;case 1:r=q;g=v;b=p;break;case 2:r=p;g=v;b=t;break;case 3:r=p;g=q;b=v;break;case 4:r=t;g=p;b=v;break;case 5:r=v;g=p;b=q;break;default:break;}return[r,g,b];}function RGBtoHSV(r,g,b){var max=Math.max(r,g,b);var min=Math.min(r,g,b);var d=max-min;var h;var s=max===0?0:d/max;var v=max/255;switch(max){case min:h=0;break;case r:h=g-b+d*(g<b?6:0);h/=6*d;break;case g:h=b-r+d*2;h/=6*d;break;case b:h=r-g+d*4;h/=6*d;break;default:break;}return[h,s,v];}function addSaturationToRGB(color,offset){var hsv=RGBtoHSV(color[0]*255,color[1]*255,color[2]*255);hsv[1]+=offset;if(hsv[1]>1){hsv[1]=1;}else if(hsv[1]<=0){hsv[1]=0;}return HSVtoRGB(hsv[0],hsv[1],hsv[2]);}function addBrightnessToRGB(color,offset){var hsv=RGBtoHSV(color[0]*255,color[1]*255,color[2]*255);hsv[2]+=offset;if(hsv[2]>1){hsv[2]=1;}else if(hsv[2]<0){hsv[2]=0;}return HSVtoRGB(hsv[0],hsv[1],hsv[2]);}function addHueToRGB(color,offset){var hsv=RGBtoHSV(color[0]*255,color[1]*255,color[2]*255);hsv[0]+=offset/360;if(hsv[0]>1){hsv[0]-=1;}else if(hsv[0]<0){hsv[0]+=1;}return HSVtoRGB(hsv[0],hsv[1],hsv[2]);}var rgbToHex=function(){var colorMap=[];var i;var hex;for(i=0;i<256;i+=1){hex=i.toString(16);colorMap[i]=hex.length===1?'0'+hex:hex;}return function(r,g,b){if(r<0){r=0;}if(g<0){g=0;}if(b<0){b=0;}return'#'+colorMap[r]+colorMap[g]+colorMap[b];};}();var setSubframeEnabled=function setSubframeEnabled(flag){subframeEnabled=!!flag;};var getSubframeEnabled=function getSubframeEnabled(){return subframeEnabled;};var setExpressionsPlugin=function setExpressionsPlugin(value){expressionsPlugin=value;};var getExpressionsPlugin=function getExpressionsPlugin(){return expressionsPlugin;};var setExpressionInterfaces=function setExpressionInterfaces(value){expressionsInterfaces=value;};var getExpressionInterfaces=function getExpressionInterfaces(){return expressionsInterfaces;};var setDefaultCurveSegments=function setDefaultCurveSegments(value){defaultCurveSegments=value;};var getDefaultCurveSegments=function getDefaultCurveSegments(){return defaultCurveSegments;};var setIdPrefix=function setIdPrefix(value){idPrefix$1=value;};var getIdPrefix=function getIdPrefix(){return idPrefix$1;};function createNS(type){// return {appendChild:function(){},setAttribute:function(){},style:{}}\nreturn document.createElementNS(svgNS,type);}function _typeof$5(obj){\"@babel/helpers - typeof\";if(typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"){_typeof$5=function _typeof(obj){return typeof obj;};}else{_typeof$5=function _typeof(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;};}return _typeof$5(obj);}var dataManager=function(){var _counterId=1;var processes=[];var workerFn;var workerInstance;var workerProxy={onmessage:function onmessage(){},postMessage:function postMessage(path){workerFn({data:path});}};var _workerSelf={postMessage:function postMessage(data){workerProxy.onmessage({data:data});}};function createWorker(fn){if(window.Worker&&window.Blob&&getWebWorker()){var blob=new Blob(['var _workerSelf = self; self.onmessage = ',fn.toString()],{type:'text/javascript'});// var blob = new Blob(['self.onmessage = ', fn.toString()], { type: 'text/javascript' });\nvar url=URL.createObjectURL(blob);return new Worker(url);}workerFn=fn;return workerProxy;}function setupWorker(){if(!workerInstance){workerInstance=createWorker(function workerStart(e){function dataFunctionManager(){function completeLayers(layers,comps){var layerData;var i;var len=layers.length;var j;var jLen;var k;var kLen;for(i=0;i<len;i+=1){layerData=layers[i];if('ks'in layerData&&!layerData.completed){layerData.completed=true;if(layerData.hasMask){var maskProps=layerData.masksProperties;jLen=maskProps.length;for(j=0;j<jLen;j+=1){if(maskProps[j].pt.k.i){convertPathsToAbsoluteValues(maskProps[j].pt.k);}else{kLen=maskProps[j].pt.k.length;for(k=0;k<kLen;k+=1){if(maskProps[j].pt.k[k].s){convertPathsToAbsoluteValues(maskProps[j].pt.k[k].s[0]);}if(maskProps[j].pt.k[k].e){convertPathsToAbsoluteValues(maskProps[j].pt.k[k].e[0]);}}}}}if(layerData.ty===0){layerData.layers=findCompLayers(layerData.refId,comps);completeLayers(layerData.layers,comps);}else if(layerData.ty===4){completeShapes(layerData.shapes);}else if(layerData.ty===5){completeText(layerData);}}}}function completeChars(chars,assets){if(chars){var i=0;var len=chars.length;for(i=0;i<len;i+=1){if(chars[i].t===1){// var compData = findComp(chars[i].data.refId, assets);\nchars[i].data.layers=findCompLayers(chars[i].data.refId,assets);// chars[i].data.ip = 0;\n// chars[i].data.op = 99999;\n// chars[i].data.st = 0;\n// chars[i].data.sr = 1;\n// chars[i].w = compData.w;\n// chars[i].data.ks = {\n//   a: { k: [0, 0, 0], a: 0 },\n//   p: { k: [0, -compData.h, 0], a: 0 },\n//   r: { k: 0, a: 0 },\n//   s: { k: [100, 100], a: 0 },\n//   o: { k: 100, a: 0 },\n// };\ncompleteLayers(chars[i].data.layers,assets);}}}}function findComp(id,comps){var i=0;var len=comps.length;while(i<len){if(comps[i].id===id){return comps[i];}i+=1;}return null;}function findCompLayers(id,comps){var comp=findComp(id,comps);if(comp){if(!comp.layers.__used){comp.layers.__used=true;return comp.layers;}return JSON.parse(JSON.stringify(comp.layers));}return null;}function completeShapes(arr){var i;var len=arr.length;var j;var jLen;for(i=len-1;i>=0;i-=1){if(arr[i].ty==='sh'){if(arr[i].ks.k.i){convertPathsToAbsoluteValues(arr[i].ks.k);}else{jLen=arr[i].ks.k.length;for(j=0;j<jLen;j+=1){if(arr[i].ks.k[j].s){convertPathsToAbsoluteValues(arr[i].ks.k[j].s[0]);}if(arr[i].ks.k[j].e){convertPathsToAbsoluteValues(arr[i].ks.k[j].e[0]);}}}}else if(arr[i].ty==='gr'){completeShapes(arr[i].it);}}}function convertPathsToAbsoluteValues(path){var i;var len=path.i.length;for(i=0;i<len;i+=1){path.i[i][0]+=path.v[i][0];path.i[i][1]+=path.v[i][1];path.o[i][0]+=path.v[i][0];path.o[i][1]+=path.v[i][1];}}function checkVersion(minimum,animVersionString){var animVersion=animVersionString?animVersionString.split('.'):[100,100,100];if(minimum[0]>animVersion[0]){return true;}if(animVersion[0]>minimum[0]){return false;}if(minimum[1]>animVersion[1]){return true;}if(animVersion[1]>minimum[1]){return false;}if(minimum[2]>animVersion[2]){return true;}if(animVersion[2]>minimum[2]){return false;}return null;}var checkText=function(){var minimumVersion=[4,4,14];function updateTextLayer(textLayer){var documentData=textLayer.t.d;textLayer.t.d={k:[{s:documentData,t:0}]};}function iterateLayers(layers){var i;var len=layers.length;for(i=0;i<len;i+=1){if(layers[i].ty===5){updateTextLayer(layers[i]);}}}return function(animationData){if(checkVersion(minimumVersion,animationData.v)){iterateLayers(animationData.layers);if(animationData.assets){var i;var len=animationData.assets.length;for(i=0;i<len;i+=1){if(animationData.assets[i].layers){iterateLayers(animationData.assets[i].layers);}}}}};}();var checkChars=function(){var minimumVersion=[4,7,99];return function(animationData){if(animationData.chars&&!checkVersion(minimumVersion,animationData.v)){var i;var len=animationData.chars.length;for(i=0;i<len;i+=1){var charData=animationData.chars[i];if(charData.data&&charData.data.shapes){completeShapes(charData.data.shapes);charData.data.ip=0;charData.data.op=99999;charData.data.st=0;charData.data.sr=1;charData.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}};if(!animationData.chars[i].t){charData.data.shapes.push({ty:'no'});charData.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:'tr'});}}}}};}();var checkPathProperties=function(){var minimumVersion=[5,7,15];function updateTextLayer(textLayer){var pathData=textLayer.t.p;if(typeof pathData.a==='number'){pathData.a={a:0,k:pathData.a};}if(typeof pathData.p==='number'){pathData.p={a:0,k:pathData.p};}if(typeof pathData.r==='number'){pathData.r={a:0,k:pathData.r};}}function iterateLayers(layers){var i;var len=layers.length;for(i=0;i<len;i+=1){if(layers[i].ty===5){updateTextLayer(layers[i]);}}}return function(animationData){if(checkVersion(minimumVersion,animationData.v)){iterateLayers(animationData.layers);if(animationData.assets){var i;var len=animationData.assets.length;for(i=0;i<len;i+=1){if(animationData.assets[i].layers){iterateLayers(animationData.assets[i].layers);}}}}};}();var checkColors=function(){var minimumVersion=[4,1,9];function iterateShapes(shapes){var i;var len=shapes.length;var j;var jLen;for(i=0;i<len;i+=1){if(shapes[i].ty==='gr'){iterateShapes(shapes[i].it);}else if(shapes[i].ty==='fl'||shapes[i].ty==='st'){if(shapes[i].c.k&&shapes[i].c.k[0].i){jLen=shapes[i].c.k.length;for(j=0;j<jLen;j+=1){if(shapes[i].c.k[j].s){shapes[i].c.k[j].s[0]/=255;shapes[i].c.k[j].s[1]/=255;shapes[i].c.k[j].s[2]/=255;shapes[i].c.k[j].s[3]/=255;}if(shapes[i].c.k[j].e){shapes[i].c.k[j].e[0]/=255;shapes[i].c.k[j].e[1]/=255;shapes[i].c.k[j].e[2]/=255;shapes[i].c.k[j].e[3]/=255;}}}else{shapes[i].c.k[0]/=255;shapes[i].c.k[1]/=255;shapes[i].c.k[2]/=255;shapes[i].c.k[3]/=255;}}}}function iterateLayers(layers){var i;var len=layers.length;for(i=0;i<len;i+=1){if(layers[i].ty===4){iterateShapes(layers[i].shapes);}}}return function(animationData){if(checkVersion(minimumVersion,animationData.v)){iterateLayers(animationData.layers);if(animationData.assets){var i;var len=animationData.assets.length;for(i=0;i<len;i+=1){if(animationData.assets[i].layers){iterateLayers(animationData.assets[i].layers);}}}}};}();var checkShapes=function(){var minimumVersion=[4,4,18];function completeClosingShapes(arr){var i;var len=arr.length;var j;var jLen;for(i=len-1;i>=0;i-=1){if(arr[i].ty==='sh'){if(arr[i].ks.k.i){arr[i].ks.k.c=arr[i].closed;}else{jLen=arr[i].ks.k.length;for(j=0;j<jLen;j+=1){if(arr[i].ks.k[j].s){arr[i].ks.k[j].s[0].c=arr[i].closed;}if(arr[i].ks.k[j].e){arr[i].ks.k[j].e[0].c=arr[i].closed;}}}}else if(arr[i].ty==='gr'){completeClosingShapes(arr[i].it);}}}function iterateLayers(layers){var layerData;var i;var len=layers.length;var j;var jLen;var k;var kLen;for(i=0;i<len;i+=1){layerData=layers[i];if(layerData.hasMask){var maskProps=layerData.masksProperties;jLen=maskProps.length;for(j=0;j<jLen;j+=1){if(maskProps[j].pt.k.i){maskProps[j].pt.k.c=maskProps[j].cl;}else{kLen=maskProps[j].pt.k.length;for(k=0;k<kLen;k+=1){if(maskProps[j].pt.k[k].s){maskProps[j].pt.k[k].s[0].c=maskProps[j].cl;}if(maskProps[j].pt.k[k].e){maskProps[j].pt.k[k].e[0].c=maskProps[j].cl;}}}}}if(layerData.ty===4){completeClosingShapes(layerData.shapes);}}}return function(animationData){if(checkVersion(minimumVersion,animationData.v)){iterateLayers(animationData.layers);if(animationData.assets){var i;var len=animationData.assets.length;for(i=0;i<len;i+=1){if(animationData.assets[i].layers){iterateLayers(animationData.assets[i].layers);}}}}};}();function completeData(animationData){if(animationData.__complete){return;}checkColors(animationData);checkText(animationData);checkChars(animationData);checkPathProperties(animationData);checkShapes(animationData);completeLayers(animationData.layers,animationData.assets);completeChars(animationData.chars,animationData.assets);animationData.__complete=true;}function completeText(data){if(data.t.a.length===0&&!('m'in data.t.p)){// data.singleShape = true;\n}}var moduleOb={};moduleOb.completeData=completeData;moduleOb.checkColors=checkColors;moduleOb.checkChars=checkChars;moduleOb.checkPathProperties=checkPathProperties;moduleOb.checkShapes=checkShapes;moduleOb.completeLayers=completeLayers;return moduleOb;}if(!_workerSelf.dataManager){_workerSelf.dataManager=dataFunctionManager();}if(!_workerSelf.assetLoader){_workerSelf.assetLoader=function(){function formatResponse(xhr){// using typeof doubles the time of execution of this method,\n// so if available, it's better to use the header to validate the type\nvar contentTypeHeader=xhr.getResponseHeader('content-type');if(contentTypeHeader&&xhr.responseType==='json'&&contentTypeHeader.indexOf('json')!==-1){return xhr.response;}if(xhr.response&&_typeof$5(xhr.response)==='object'){return xhr.response;}if(xhr.response&&typeof xhr.response==='string'){return JSON.parse(xhr.response);}if(xhr.responseText){return JSON.parse(xhr.responseText);}return null;}function loadAsset(path,fullPath,callback,errorCallback){var response;var xhr=new XMLHttpRequest();// set responseType after calling open or IE will break.\ntry{// This crashes on Android WebView prior to KitKat\nxhr.responseType='json';}catch(err){}// eslint-disable-line no-empty\nxhr.onreadystatechange=function(){if(xhr.readyState===4){if(xhr.status===200){response=formatResponse(xhr);callback(response);}else{try{response=formatResponse(xhr);callback(response);}catch(err){if(errorCallback){errorCallback(err);}}}}};try{// Hack to workaround banner validation\nxhr.open(['G','E','T'].join(''),path,true);}catch(error){// Hack to workaround banner validation\nxhr.open(['G','E','T'].join(''),fullPath+'/'+path,true);}xhr.send();}return{load:loadAsset};}();}if(e.data.type==='loadAnimation'){_workerSelf.assetLoader.load(e.data.path,e.data.fullPath,function(data){_workerSelf.dataManager.completeData(data);_workerSelf.postMessage({id:e.data.id,payload:data,status:'success'});},function(){_workerSelf.postMessage({id:e.data.id,status:'error'});});}else if(e.data.type==='complete'){var animation=e.data.animation;_workerSelf.dataManager.completeData(animation);_workerSelf.postMessage({id:e.data.id,payload:animation,status:'success'});}else if(e.data.type==='loadData'){_workerSelf.assetLoader.load(e.data.path,e.data.fullPath,function(data){_workerSelf.postMessage({id:e.data.id,payload:data,status:'success'});},function(){_workerSelf.postMessage({id:e.data.id,status:'error'});});}});workerInstance.onmessage=function(event){var data=event.data;var id=data.id;var process=processes[id];processes[id]=null;if(data.status==='success'){process.onComplete(data.payload);}else if(process.onError){process.onError();}};}}function createProcess(onComplete,onError){_counterId+=1;var id='processId_'+_counterId;processes[id]={onComplete:onComplete,onError:onError};return id;}function loadAnimation(path,onComplete,onError){setupWorker();var processId=createProcess(onComplete,onError);workerInstance.postMessage({type:'loadAnimation',path:path,fullPath:window.location.origin+window.location.pathname,id:processId});}function loadData(path,onComplete,onError){setupWorker();var processId=createProcess(onComplete,onError);workerInstance.postMessage({type:'loadData',path:path,fullPath:window.location.origin+window.location.pathname,id:processId});}function completeAnimation(anim,onComplete,onError){setupWorker();var processId=createProcess(onComplete,onError);workerInstance.postMessage({type:'complete',animation:anim,id:processId});}return{loadAnimation:loadAnimation,loadData:loadData,completeAnimation:completeAnimation};}();var ImagePreloader=function(){var proxyImage=function(){var canvas=createTag('canvas');canvas.width=1;canvas.height=1;var ctx=canvas.getContext('2d');ctx.fillStyle='rgba(0,0,0,0)';ctx.fillRect(0,0,1,1);return canvas;}();function imageLoaded(){this.loadedAssets+=1;if(this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages){if(this.imagesLoadedCb){this.imagesLoadedCb(null);}}}function footageLoaded(){this.loadedFootagesCount+=1;if(this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages){if(this.imagesLoadedCb){this.imagesLoadedCb(null);}}}function getAssetsPath(assetData,assetsPath,originalPath){var path='';if(assetData.e){path=assetData.p;}else if(assetsPath){var imagePath=assetData.p;if(imagePath.indexOf('images/')!==-1){imagePath=imagePath.split('/')[1];}path=assetsPath+imagePath;}else{path=originalPath;path+=assetData.u?assetData.u:'';path+=assetData.p;}return path;}function testImageLoaded(img){var _count=0;var intervalId=setInterval(function(){var box=img.getBBox();if(box.width||_count>500){this._imageLoaded();clearInterval(intervalId);}_count+=1;}.bind(this),50);}function createImageData(assetData){var path=getAssetsPath(assetData,this.assetsPath,this.path);var img=createNS('image');if(isSafari){this.testImageLoaded(img);}else{img.addEventListener('load',this._imageLoaded,false);}img.addEventListener('error',function(){ob.img=proxyImage;this._imageLoaded();}.bind(this),false);img.setAttributeNS('http://www.w3.org/1999/xlink','href',path);if(this._elementHelper.append){this._elementHelper.append(img);}else{this._elementHelper.appendChild(img);}var ob={img:img,assetData:assetData};return ob;}function createImgData(assetData){var path=getAssetsPath(assetData,this.assetsPath,this.path);var img=createTag('img');img.crossOrigin='anonymous';img.addEventListener('load',this._imageLoaded,false);img.addEventListener('error',function(){ob.img=proxyImage;this._imageLoaded();}.bind(this),false);img.src=path;var ob={img:img,assetData:assetData};return ob;}function createFootageData(data){var ob={assetData:data};var path=getAssetsPath(data,this.assetsPath,this.path);dataManager.loadData(path,function(footageData){ob.img=footageData;this._footageLoaded();}.bind(this),function(){ob.img={};this._footageLoaded();}.bind(this));return ob;}function loadAssets(assets,cb){this.imagesLoadedCb=cb;var i;var len=assets.length;for(i=0;i<len;i+=1){if(!assets[i].layers){if(!assets[i].t||assets[i].t==='seq'){this.totalImages+=1;this.images.push(this._createImageData(assets[i]));}else if(assets[i].t===3){this.totalFootages+=1;this.images.push(this.createFootageData(assets[i]));}}}}function setPath(path){this.path=path||'';}function setAssetsPath(path){this.assetsPath=path||'';}function getAsset(assetData){var i=0;var len=this.images.length;while(i<len){if(this.images[i].assetData===assetData){return this.images[i].img;}i+=1;}return null;}function destroy(){this.imagesLoadedCb=null;this.images.length=0;}function loadedImages(){return this.totalImages===this.loadedAssets;}function loadedFootages(){return this.totalFootages===this.loadedFootagesCount;}function setCacheType(type,elementHelper){if(type==='svg'){this._elementHelper=elementHelper;this._createImageData=this.createImageData.bind(this);}else{this._createImageData=this.createImgData.bind(this);}}function ImagePreloaderFactory(){this._imageLoaded=imageLoaded.bind(this);this._footageLoaded=footageLoaded.bind(this);this.testImageLoaded=testImageLoaded.bind(this);this.createFootageData=createFootageData.bind(this);this.assetsPath='';this.path='';this.totalImages=0;this.totalFootages=0;this.loadedAssets=0;this.loadedFootagesCount=0;this.imagesLoadedCb=null;this.images=[];}ImagePreloaderFactory.prototype={loadAssets:loadAssets,setAssetsPath:setAssetsPath,setPath:setPath,loadedImages:loadedImages,loadedFootages:loadedFootages,destroy:destroy,getAsset:getAsset,createImgData:createImgData,createImageData:createImageData,imageLoaded:imageLoaded,footageLoaded:footageLoaded,setCacheType:setCacheType};return ImagePreloaderFactory;}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function triggerEvent(eventName,args){if(this._cbs[eventName]){var callbacks=this._cbs[eventName];for(var i=0;i<callbacks.length;i+=1){callbacks[i](args);}}},addEventListener:function addEventListener(eventName,callback){if(!this._cbs[eventName]){this._cbs[eventName]=[];}this._cbs[eventName].push(callback);return function(){this.removeEventListener(eventName,callback);}.bind(this);},removeEventListener:function removeEventListener(eventName,callback){if(!callback){this._cbs[eventName]=null;}else if(this._cbs[eventName]){var i=0;var len=this._cbs[eventName].length;while(i<len){if(this._cbs[eventName][i]===callback){this._cbs[eventName].splice(i,1);i-=1;len-=1;}i+=1;}if(!this._cbs[eventName].length){this._cbs[eventName]=null;}}}};var markerParser=function(){function parsePayloadLines(payload){var lines=payload.split('\\r\\n');var keys={};var line;var keysCount=0;for(var i=0;i<lines.length;i+=1){line=lines[i].split(':');if(line.length===2){keys[line[0]]=line[1].trim();keysCount+=1;}}if(keysCount===0){throw new Error();}return keys;}return function(_markers){var markers=[];for(var i=0;i<_markers.length;i+=1){var _marker=_markers[i];var markerData={time:_marker.tm,duration:_marker.dr};try{markerData.payload=JSON.parse(_markers[i].cm);}catch(_){try{markerData.payload=parsePayloadLines(_markers[i].cm);}catch(__){markerData.payload={name:_markers[i].cm};}}markers.push(markerData);}return markers;};}();var ProjectInterface=function(){function registerComposition(comp){this.compositions.push(comp);}return function(){function _thisProjectFunction(name){var i=0;var len=this.compositions.length;while(i<len){if(this.compositions[i].data&&this.compositions[i].data.nm===name){if(this.compositions[i].prepareFrame&&this.compositions[i].data.xt){this.compositions[i].prepareFrame(this.currentFrame);}return this.compositions[i].compInterface;}i+=1;}return null;}_thisProjectFunction.compositions=[];_thisProjectFunction.currentFrame=0;_thisProjectFunction.registerComposition=registerComposition;return _thisProjectFunction;};}();var renderers={};var registerRenderer=function registerRenderer(key,value){renderers[key]=value;};function getRenderer(key){return renderers[key];}function getRegisteredRenderer(){// Returns canvas by default for compatibility\nif(renderers.canvas){return'canvas';}// Returns any renderer that is registered\nfor(var key in renderers){if(renderers[key]){return key;}}return'';}function _typeof$4(obj){\"@babel/helpers - typeof\";if(typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"){_typeof$4=function _typeof(obj){return typeof obj;};}else{_typeof$4=function _typeof(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;};}return _typeof$4(obj);}var AnimationItem=function AnimationItem(){this._cbs=[];this.name='';this.path='';this.isLoaded=false;this.currentFrame=0;this.currentRawFrame=0;this.firstFrame=0;this.totalFrames=0;this.frameRate=0;this.frameMult=0;this.playSpeed=1;this.playDirection=1;this.playCount=0;this.animationData={};this.assets=[];this.isPaused=true;this.autoplay=false;this.loop=true;this.renderer=null;this.animationID=createElementID();this.assetsPath='';this.timeCompleted=0;this.segmentPos=0;this.isSubframeEnabled=getSubframeEnabled();this.segments=[];this._idle=true;this._completedLoop=false;this.projectInterface=ProjectInterface();this.imagePreloader=new ImagePreloader();this.audioController=audioControllerFactory();this.markers=[];this.configAnimation=this.configAnimation.bind(this);this.onSetupError=this.onSetupError.bind(this);this.onSegmentComplete=this.onSegmentComplete.bind(this);this.drawnFrameEvent=new BMEnterFrameEvent('drawnFrame',0,0,0);this.expressionsPlugin=getExpressionsPlugin();};extendPrototype([BaseEvent],AnimationItem);AnimationItem.prototype.setParams=function(params){if(params.wrapper||params.container){this.wrapper=params.wrapper||params.container;}var animType='svg';if(params.animType){animType=params.animType;}else if(params.renderer){animType=params.renderer;}var RendererClass=getRenderer(animType);this.renderer=new RendererClass(this,params.rendererSettings);this.imagePreloader.setCacheType(animType,this.renderer.globalData.defs);this.renderer.setProjectInterface(this.projectInterface);this.animType=animType;if(params.loop===''||params.loop===null||params.loop===undefined||params.loop===true){this.loop=true;}else if(params.loop===false){this.loop=false;}else{this.loop=parseInt(params.loop,10);}this.autoplay='autoplay'in params?params.autoplay:true;this.name=params.name?params.name:'';this.autoloadSegments=Object.prototype.hasOwnProperty.call(params,'autoloadSegments')?params.autoloadSegments:true;this.assetsPath=params.assetsPath;this.initialSegment=params.initialSegment;if(params.audioFactory){this.audioController.setAudioFactory(params.audioFactory);}if(params.animationData){this.setupAnimation(params.animationData);}else if(params.path){if(params.path.lastIndexOf('\\\\')!==-1){this.path=params.path.substr(0,params.path.lastIndexOf('\\\\')+1);}else{this.path=params.path.substr(0,params.path.lastIndexOf('/')+1);}this.fileName=params.path.substr(params.path.lastIndexOf('/')+1);this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf('.json'));dataManager.loadAnimation(params.path,this.configAnimation,this.onSetupError);}};AnimationItem.prototype.onSetupError=function(){this.trigger('data_failed');};AnimationItem.prototype.setupAnimation=function(data){dataManager.completeAnimation(data,this.configAnimation);};AnimationItem.prototype.setData=function(wrapper,animationData){if(animationData){if(_typeof$4(animationData)!=='object'){animationData=JSON.parse(animationData);}}var params={wrapper:wrapper,animationData:animationData};var wrapperAttributes=wrapper.attributes;params.path=wrapperAttributes.getNamedItem('data-animation-path')// eslint-disable-line no-nested-ternary\n?wrapperAttributes.getNamedItem('data-animation-path').value:wrapperAttributes.getNamedItem('data-bm-path')// eslint-disable-line no-nested-ternary\n?wrapperAttributes.getNamedItem('data-bm-path').value:wrapperAttributes.getNamedItem('bm-path')?wrapperAttributes.getNamedItem('bm-path').value:'';params.animType=wrapperAttributes.getNamedItem('data-anim-type')// eslint-disable-line no-nested-ternary\n?wrapperAttributes.getNamedItem('data-anim-type').value:wrapperAttributes.getNamedItem('data-bm-type')// eslint-disable-line no-nested-ternary\n?wrapperAttributes.getNamedItem('data-bm-type').value:wrapperAttributes.getNamedItem('bm-type')// eslint-disable-line no-nested-ternary\n?wrapperAttributes.getNamedItem('bm-type').value:wrapperAttributes.getNamedItem('data-bm-renderer')// eslint-disable-line no-nested-ternary\n?wrapperAttributes.getNamedItem('data-bm-renderer').value:wrapperAttributes.getNamedItem('bm-renderer')?wrapperAttributes.getNamedItem('bm-renderer').value:getRegisteredRenderer()||'canvas';var loop=wrapperAttributes.getNamedItem('data-anim-loop')// eslint-disable-line no-nested-ternary\n?wrapperAttributes.getNamedItem('data-anim-loop').value:wrapperAttributes.getNamedItem('data-bm-loop')// eslint-disable-line no-nested-ternary\n?wrapperAttributes.getNamedItem('data-bm-loop').value:wrapperAttributes.getNamedItem('bm-loop')?wrapperAttributes.getNamedItem('bm-loop').value:'';if(loop==='false'){params.loop=false;}else if(loop==='true'){params.loop=true;}else if(loop!==''){params.loop=parseInt(loop,10);}var autoplay=wrapperAttributes.getNamedItem('data-anim-autoplay')// eslint-disable-line no-nested-ternary\n?wrapperAttributes.getNamedItem('data-anim-autoplay').value:wrapperAttributes.getNamedItem('data-bm-autoplay')// eslint-disable-line no-nested-ternary\n?wrapperAttributes.getNamedItem('data-bm-autoplay').value:wrapperAttributes.getNamedItem('bm-autoplay')?wrapperAttributes.getNamedItem('bm-autoplay').value:true;params.autoplay=autoplay!=='false';params.name=wrapperAttributes.getNamedItem('data-name')// eslint-disable-line no-nested-ternary\n?wrapperAttributes.getNamedItem('data-name').value:wrapperAttributes.getNamedItem('data-bm-name')// eslint-disable-line no-nested-ternary\n?wrapperAttributes.getNamedItem('data-bm-name').value:wrapperAttributes.getNamedItem('bm-name')?wrapperAttributes.getNamedItem('bm-name').value:'';var prerender=wrapperAttributes.getNamedItem('data-anim-prerender')// eslint-disable-line no-nested-ternary\n?wrapperAttributes.getNamedItem('data-anim-prerender').value:wrapperAttributes.getNamedItem('data-bm-prerender')// eslint-disable-line no-nested-ternary\n?wrapperAttributes.getNamedItem('data-bm-prerender').value:wrapperAttributes.getNamedItem('bm-prerender')?wrapperAttributes.getNamedItem('bm-prerender').value:'';if(prerender==='false'){params.prerender=false;}if(!params.path){this.trigger('destroy');}else{this.setParams(params);}};AnimationItem.prototype.includeLayers=function(data){if(data.op>this.animationData.op){this.animationData.op=data.op;this.totalFrames=Math.floor(data.op-this.animationData.ip);}var layers=this.animationData.layers;var i;var len=layers.length;var newLayers=data.layers;var j;var jLen=newLayers.length;for(j=0;j<jLen;j+=1){i=0;while(i<len){if(layers[i].id===newLayers[j].id){layers[i]=newLayers[j];break;}i+=1;}}if(data.chars||data.fonts){this.renderer.globalData.fontManager.addChars(data.chars);this.renderer.globalData.fontManager.addFonts(data.fonts,this.renderer.globalData.defs);}if(data.assets){len=data.assets.length;for(i=0;i<len;i+=1){this.animationData.assets.push(data.assets[i]);}}this.animationData.__complete=false;dataManager.completeAnimation(this.animationData,this.onSegmentComplete);};AnimationItem.prototype.onSegmentComplete=function(data){this.animationData=data;var expressionsPlugin=getExpressionsPlugin();if(expressionsPlugin){expressionsPlugin.initExpressions(this);}this.loadNextSegment();};AnimationItem.prototype.loadNextSegment=function(){var segments=this.animationData.segments;if(!segments||segments.length===0||!this.autoloadSegments){this.trigger('data_ready');this.timeCompleted=this.totalFrames;return;}var segment=segments.shift();this.timeCompleted=segment.time*this.frameRate;var segmentPath=this.path+this.fileName+'_'+this.segmentPos+'.json';this.segmentPos+=1;dataManager.loadData(segmentPath,this.includeLayers.bind(this),function(){this.trigger('data_failed');}.bind(this));};AnimationItem.prototype.loadSegments=function(){var segments=this.animationData.segments;if(!segments){this.timeCompleted=this.totalFrames;}this.loadNextSegment();};AnimationItem.prototype.imagesLoaded=function(){this.trigger('loaded_images');this.checkLoaded();};AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath);this.imagePreloader.setPath(this.path);this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this));};AnimationItem.prototype.configAnimation=function(animData){if(!this.renderer){return;}try{this.animationData=animData;if(this.initialSegment){this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]);this.firstFrame=Math.round(this.initialSegment[0]);}else{this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip);this.firstFrame=Math.round(this.animationData.ip);}this.renderer.configAnimation(animData);if(!animData.assets){animData.assets=[];}this.assets=this.animationData.assets;this.frameRate=this.animationData.fr;this.frameMult=this.animationData.fr/1000;this.renderer.searchExtraCompositions(animData.assets);this.markers=markerParser(animData.markers||[]);this.trigger('config_ready');this.preloadImages();this.loadSegments();this.updaFrameModifier();this.waitForFontsLoaded();if(this.isPaused){this.audioController.pause();}}catch(error){this.triggerConfigError(error);}};AnimationItem.prototype.waitForFontsLoaded=function(){if(!this.renderer){return;}if(this.renderer.globalData.fontManager.isLoaded){this.checkLoaded();}else{setTimeout(this.waitForFontsLoaded.bind(this),20);}};AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=='canvas')&&this.imagePreloader.loadedFootages()){this.isLoaded=true;var expressionsPlugin=getExpressionsPlugin();if(expressionsPlugin){expressionsPlugin.initExpressions(this);}this.renderer.initItems();setTimeout(function(){this.trigger('DOMLoaded');}.bind(this),0);this.gotoFrame();if(this.autoplay){this.play();}}};AnimationItem.prototype.resize=function(width,height){// Adding this validation for backwards compatibility in case an event object was being passed down\nvar _width=typeof width==='number'?width:undefined;var _height=typeof height==='number'?height:undefined;this.renderer.updateContainerSize(_width,_height);};AnimationItem.prototype.setSubframe=function(flag){this.isSubframeEnabled=!!flag;};AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame;// eslint-disable-line no-bitwise\nif(this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted){this.currentFrame=this.timeCompleted;}this.trigger('enterFrame');this.renderFrame();this.trigger('drawnFrame');};AnimationItem.prototype.renderFrame=function(){if(this.isLoaded===false||!this.renderer){return;}try{if(this.expressionsPlugin){this.expressionsPlugin.resetFrame();}this.renderer.renderFrame(this.currentFrame+this.firstFrame);}catch(error){this.triggerRenderFrameError(error);}};AnimationItem.prototype.play=function(name){if(name&&this.name!==name){return;}if(this.isPaused===true){this.isPaused=false;this.trigger('_play');this.audioController.resume();if(this._idle){this._idle=false;this.trigger('_active');}}};AnimationItem.prototype.pause=function(name){if(name&&this.name!==name){return;}if(this.isPaused===false){this.isPaused=true;this.trigger('_pause');this._idle=true;this.trigger('_idle');this.audioController.pause();}};AnimationItem.prototype.togglePause=function(name){if(name&&this.name!==name){return;}if(this.isPaused===true){this.play();}else{this.pause();}};AnimationItem.prototype.stop=function(name){if(name&&this.name!==name){return;}this.pause();this.playCount=0;this._completedLoop=false;this.setCurrentRawFrameValue(0);};AnimationItem.prototype.getMarkerData=function(markerName){var marker;for(var i=0;i<this.markers.length;i+=1){marker=this.markers[i];if(marker.payload&&marker.payload.name===markerName){return marker;}}return null;};AnimationItem.prototype.goToAndStop=function(value,isFrame,name){if(name&&this.name!==name){return;}var numValue=Number(value);if(isNaN(numValue)){var marker=this.getMarkerData(value);if(marker){this.goToAndStop(marker.time,true);}}else if(isFrame){this.setCurrentRawFrameValue(value);}else{this.setCurrentRawFrameValue(value*this.frameModifier);}this.pause();};AnimationItem.prototype.goToAndPlay=function(value,isFrame,name){if(name&&this.name!==name){return;}var numValue=Number(value);if(isNaN(numValue)){var marker=this.getMarkerData(value);if(marker){if(!marker.duration){this.goToAndStop(marker.time,true);}else{this.playSegments([marker.time,marker.time+marker.duration],true);}}}else{this.goToAndStop(numValue,isFrame,name);}this.play();};AnimationItem.prototype.advanceTime=function(value){if(this.isPaused===true||this.isLoaded===false){return;}var nextValue=this.currentRawFrame+value*this.frameModifier;var _isComplete=false;// Checking if nextValue > totalFrames - 1 for addressing non looping and looping animations.\n// If animation won't loop, it should stop at totalFrames - 1. If it will loop it should complete the last frame and then loop.\nif(nextValue>=this.totalFrames-1&&this.frameModifier>0){if(!this.loop||this.playCount===this.loop){if(!this.checkSegments(nextValue>this.totalFrames?nextValue%this.totalFrames:0)){_isComplete=true;nextValue=this.totalFrames-1;}}else if(nextValue>=this.totalFrames){this.playCount+=1;if(!this.checkSegments(nextValue%this.totalFrames)){this.setCurrentRawFrameValue(nextValue%this.totalFrames);this._completedLoop=true;this.trigger('loopComplete');}}else{this.setCurrentRawFrameValue(nextValue);}}else if(nextValue<0){if(!this.checkSegments(nextValue%this.totalFrames)){if(this.loop&&!(this.playCount--<=0&&this.loop!==true)){// eslint-disable-line no-plusplus\nthis.setCurrentRawFrameValue(this.totalFrames+nextValue%this.totalFrames);if(!this._completedLoop){this._completedLoop=true;}else{this.trigger('loopComplete');}}else{_isComplete=true;nextValue=0;}}}else{this.setCurrentRawFrameValue(nextValue);}if(_isComplete){this.setCurrentRawFrameValue(nextValue);this.pause();this.trigger('complete');}};AnimationItem.prototype.adjustSegment=function(arr,offset){this.playCount=0;if(arr[1]<arr[0]){if(this.frameModifier>0){if(this.playSpeed<0){this.setSpeed(-this.playSpeed);}else{this.setDirection(-1);}}this.totalFrames=arr[0]-arr[1];this.timeCompleted=this.totalFrames;this.firstFrame=arr[1];this.setCurrentRawFrameValue(this.totalFrames-0.001-offset);}else if(arr[1]>arr[0]){if(this.frameModifier<0){if(this.playSpeed<0){this.setSpeed(-this.playSpeed);}else{this.setDirection(1);}}this.totalFrames=arr[1]-arr[0];this.timeCompleted=this.totalFrames;this.firstFrame=arr[0];this.setCurrentRawFrameValue(0.001+offset);}this.trigger('segmentStart');};AnimationItem.prototype.setSegment=function(init,end){var pendingFrame=-1;if(this.isPaused){if(this.currentRawFrame+this.firstFrame<init){pendingFrame=init;}else if(this.currentRawFrame+this.firstFrame>end){pendingFrame=end-init;}}this.firstFrame=init;this.totalFrames=end-init;this.timeCompleted=this.totalFrames;if(pendingFrame!==-1){this.goToAndStop(pendingFrame,true);}};AnimationItem.prototype.playSegments=function(arr,forceFlag){if(forceFlag){this.segments.length=0;}if(_typeof$4(arr[0])==='object'){var i;var len=arr.length;for(i=0;i<len;i+=1){this.segments.push(arr[i]);}}else{this.segments.push(arr);}if(this.segments.length&&forceFlag){this.adjustSegment(this.segments.shift(),0);}if(this.isPaused){this.play();}};AnimationItem.prototype.resetSegments=function(forceFlag){this.segments.length=0;this.segments.push([this.animationData.ip,this.animationData.op]);if(forceFlag){this.checkSegments(0);}};AnimationItem.prototype.checkSegments=function(offset){if(this.segments.length){this.adjustSegment(this.segments.shift(),offset);return true;}return false;};AnimationItem.prototype.destroy=function(name){if(name&&this.name!==name||!this.renderer){return;}this.renderer.destroy();this.imagePreloader.destroy();this.trigger('destroy');this._cbs=null;this.onEnterFrame=null;this.onLoopComplete=null;this.onComplete=null;this.onSegmentStart=null;this.onDestroy=null;this.renderer=null;this.expressionsPlugin=null;this.imagePreloader=null;this.projectInterface=null;};AnimationItem.prototype.setCurrentRawFrameValue=function(value){this.currentRawFrame=value;this.gotoFrame();};AnimationItem.prototype.setSpeed=function(val){this.playSpeed=val;this.updaFrameModifier();};AnimationItem.prototype.setDirection=function(val){this.playDirection=val<0?-1:1;this.updaFrameModifier();};AnimationItem.prototype.setLoop=function(isLooping){this.loop=isLooping;};AnimationItem.prototype.setVolume=function(val,name){if(name&&this.name!==name){return;}this.audioController.setVolume(val);};AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume();};AnimationItem.prototype.mute=function(name){if(name&&this.name!==name){return;}this.audioController.mute();};AnimationItem.prototype.unmute=function(name){if(name&&this.name!==name){return;}this.audioController.unmute();};AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection;this.audioController.setRate(this.playSpeed*this.playDirection);};AnimationItem.prototype.getPath=function(){return this.path;};AnimationItem.prototype.getAssetsPath=function(assetData){var path='';if(assetData.e){path=assetData.p;}else if(this.assetsPath){var imagePath=assetData.p;if(imagePath.indexOf('images/')!==-1){imagePath=imagePath.split('/')[1];}path=this.assetsPath+imagePath;}else{path=this.path;path+=assetData.u?assetData.u:'';path+=assetData.p;}return path;};AnimationItem.prototype.getAssetData=function(id){var i=0;var len=this.assets.length;while(i<len){if(id===this.assets[i].id){return this.assets[i];}i+=1;}return null;};AnimationItem.prototype.hide=function(){this.renderer.hide();};AnimationItem.prototype.show=function(){this.renderer.show();};AnimationItem.prototype.getDuration=function(isFrame){return isFrame?this.totalFrames:this.totalFrames/this.frameRate;};AnimationItem.prototype.updateDocumentData=function(path,documentData,index){try{var element=this.renderer.getElementByPath(path);element.updateDocumentData(documentData,index);}catch(error){// TODO: decide how to handle catch case\n}};AnimationItem.prototype.trigger=function(name){if(this._cbs&&this._cbs[name]){switch(name){case'enterFrame':this.triggerEvent(name,new BMEnterFrameEvent(name,this.currentFrame,this.totalFrames,this.frameModifier));break;case'drawnFrame':this.drawnFrameEvent.currentTime=this.currentFrame;this.drawnFrameEvent.totalTime=this.totalFrames;this.drawnFrameEvent.direction=this.frameModifier;this.triggerEvent(name,this.drawnFrameEvent);break;case'loopComplete':this.triggerEvent(name,new BMCompleteLoopEvent(name,this.loop,this.playCount,this.frameMult));break;case'complete':this.triggerEvent(name,new BMCompleteEvent(name,this.frameMult));break;case'segmentStart':this.triggerEvent(name,new BMSegmentStartEvent(name,this.firstFrame,this.totalFrames));break;case'destroy':this.triggerEvent(name,new BMDestroyEvent(name,this));break;default:this.triggerEvent(name);}}if(name==='enterFrame'&&this.onEnterFrame){this.onEnterFrame.call(this,new BMEnterFrameEvent(name,this.currentFrame,this.totalFrames,this.frameMult));}if(name==='loopComplete'&&this.onLoopComplete){this.onLoopComplete.call(this,new BMCompleteLoopEvent(name,this.loop,this.playCount,this.frameMult));}if(name==='complete'&&this.onComplete){this.onComplete.call(this,new BMCompleteEvent(name,this.frameMult));}if(name==='segmentStart'&&this.onSegmentStart){this.onSegmentStart.call(this,new BMSegmentStartEvent(name,this.firstFrame,this.totalFrames));}if(name==='destroy'&&this.onDestroy){this.onDestroy.call(this,new BMDestroyEvent(name,this));}};AnimationItem.prototype.triggerRenderFrameError=function(nativeError){var error=new BMRenderFrameErrorEvent(nativeError,this.currentFrame);this.triggerEvent('error',error);if(this.onError){this.onError.call(this,error);}};AnimationItem.prototype.triggerConfigError=function(nativeError){var error=new BMConfigErrorEvent(nativeError,this.currentFrame);this.triggerEvent('error',error);if(this.onError){this.onError.call(this,error);}};var animationManager=function(){var moduleOb={};var registeredAnimations=[];var initTime=0;var len=0;var playingAnimationsNum=0;var _stopped=true;var _isFrozen=false;function removeElement(ev){var i=0;var animItem=ev.target;while(i<len){if(registeredAnimations[i].animation===animItem){registeredAnimations.splice(i,1);i-=1;len-=1;if(!animItem.isPaused){subtractPlayingCount();}}i+=1;}}function registerAnimation(element,animationData){if(!element){return null;}var i=0;while(i<len){if(registeredAnimations[i].elem===element&&registeredAnimations[i].elem!==null){return registeredAnimations[i].animation;}i+=1;}var animItem=new AnimationItem();setupAnimation(animItem,element);animItem.setData(element,animationData);return animItem;}function getRegisteredAnimations(){var i;var lenAnims=registeredAnimations.length;var animations=[];for(i=0;i<lenAnims;i+=1){animations.push(registeredAnimations[i].animation);}return animations;}function addPlayingCount(){playingAnimationsNum+=1;activate();}function subtractPlayingCount(){playingAnimationsNum-=1;}function setupAnimation(animItem,element){animItem.addEventListener('destroy',removeElement);animItem.addEventListener('_active',addPlayingCount);animItem.addEventListener('_idle',subtractPlayingCount);registeredAnimations.push({elem:element,animation:animItem});len+=1;}function loadAnimation(params){var animItem=new AnimationItem();setupAnimation(animItem,null);animItem.setParams(params);return animItem;}function setSpeed(val,animation){var i;for(i=0;i<len;i+=1){registeredAnimations[i].animation.setSpeed(val,animation);}}function setDirection(val,animation){var i;for(i=0;i<len;i+=1){registeredAnimations[i].animation.setDirection(val,animation);}}function play(animation){var i;for(i=0;i<len;i+=1){registeredAnimations[i].animation.play(animation);}}function resume(nowTime){var elapsedTime=nowTime-initTime;var i;for(i=0;i<len;i+=1){registeredAnimations[i].animation.advanceTime(elapsedTime);}initTime=nowTime;if(playingAnimationsNum&&!_isFrozen){window.requestAnimationFrame(resume);}else{_stopped=true;}}function first(nowTime){initTime=nowTime;window.requestAnimationFrame(resume);}function pause(animation){var i;for(i=0;i<len;i+=1){registeredAnimations[i].animation.pause(animation);}}function goToAndStop(value,isFrame,animation){var i;for(i=0;i<len;i+=1){registeredAnimations[i].animation.goToAndStop(value,isFrame,animation);}}function stop(animation){var i;for(i=0;i<len;i+=1){registeredAnimations[i].animation.stop(animation);}}function togglePause(animation){var i;for(i=0;i<len;i+=1){registeredAnimations[i].animation.togglePause(animation);}}function destroy(animation){var i;for(i=len-1;i>=0;i-=1){registeredAnimations[i].animation.destroy(animation);}}function searchAnimations(animationData,standalone,renderer){var animElements=[].concat([].slice.call(document.getElementsByClassName('lottie')),[].slice.call(document.getElementsByClassName('bodymovin')));var i;var lenAnims=animElements.length;for(i=0;i<lenAnims;i+=1){if(renderer){animElements[i].setAttribute('data-bm-type',renderer);}registerAnimation(animElements[i],animationData);}if(standalone&&lenAnims===0){if(!renderer){renderer='svg';}var body=document.getElementsByTagName('body')[0];body.innerText='';var div=createTag('div');div.style.width='100%';div.style.height='100%';div.setAttribute('data-bm-type',renderer);body.appendChild(div);registerAnimation(div,animationData);}}function resize(){var i;for(i=0;i<len;i+=1){registeredAnimations[i].animation.resize();}}function activate(){if(!_isFrozen&&playingAnimationsNum){if(_stopped){window.requestAnimationFrame(first);_stopped=false;}}}function freeze(){_isFrozen=true;}function unfreeze(){_isFrozen=false;activate();}function setVolume(val,animation){var i;for(i=0;i<len;i+=1){registeredAnimations[i].animation.setVolume(val,animation);}}function mute(animation){var i;for(i=0;i<len;i+=1){registeredAnimations[i].animation.mute(animation);}}function unmute(animation){var i;for(i=0;i<len;i+=1){registeredAnimations[i].animation.unmute(animation);}}moduleOb.registerAnimation=registerAnimation;moduleOb.loadAnimation=loadAnimation;moduleOb.setSpeed=setSpeed;moduleOb.setDirection=setDirection;moduleOb.play=play;moduleOb.pause=pause;moduleOb.stop=stop;moduleOb.togglePause=togglePause;moduleOb.searchAnimations=searchAnimations;moduleOb.resize=resize;// moduleOb.start = start;\nmoduleOb.goToAndStop=goToAndStop;moduleOb.destroy=destroy;moduleOb.freeze=freeze;moduleOb.unfreeze=unfreeze;moduleOb.setVolume=setVolume;moduleOb.mute=mute;moduleOb.unmute=unmute;moduleOb.getRegisteredAnimations=getRegisteredAnimations;return moduleOb;}();/* eslint-disable */var BezierFactory=function(){/**\r\n       * BezierEasing - use bezier curve for transition easing function\r\n       * by Gatan Renaudeau 2014 - 2015  MIT License\r\n       *\r\n       * Credits: is based on Firefox's nsSMILKeySpline.cpp\r\n       * Usage:\r\n       * var spline = BezierEasing([ 0.25, 0.1, 0.25, 1.0 ])\r\n       * spline.get(x) => returns the easing value | x must be in [0, 1] range\r\n       *\r\n       */var ob={};ob.getBezierEasing=getBezierEasing;var beziers={};function getBezierEasing(a,b,c,d,nm){var str=nm||('bez_'+a+'_'+b+'_'+c+'_'+d).replace(/\\./g,'p');if(beziers[str]){return beziers[str];}var bezEasing=new BezierEasing([a,b,c,d]);beziers[str]=bezEasing;return bezEasing;}// These values are established by empiricism with tests (tradeoff: performance VS precision)\nvar NEWTON_ITERATIONS=4;var NEWTON_MIN_SLOPE=0.001;var SUBDIVISION_PRECISION=0.0000001;var SUBDIVISION_MAX_ITERATIONS=10;var kSplineTableSize=11;var kSampleStepSize=1.0/(kSplineTableSize-1.0);var float32ArraySupported=typeof Float32Array==='function';function A(aA1,aA2){return 1.0-3.0*aA2+3.0*aA1;}function B(aA1,aA2){return 3.0*aA2-6.0*aA1;}function C(aA1){return 3.0*aA1;}// Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\nfunction calcBezier(aT,aA1,aA2){return((A(aA1,aA2)*aT+B(aA1,aA2))*aT+C(aA1))*aT;}// Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\nfunction getSlope(aT,aA1,aA2){return 3.0*A(aA1,aA2)*aT*aT+2.0*B(aA1,aA2)*aT+C(aA1);}function binarySubdivide(aX,aA,aB,mX1,mX2){var currentX,currentT,i=0;do{currentT=aA+(aB-aA)/2.0;currentX=calcBezier(currentT,mX1,mX2)-aX;if(currentX>0.0){aB=currentT;}else{aA=currentT;}}while(Math.abs(currentX)>SUBDIVISION_PRECISION&&++i<SUBDIVISION_MAX_ITERATIONS);return currentT;}function newtonRaphsonIterate(aX,aGuessT,mX1,mX2){for(var i=0;i<NEWTON_ITERATIONS;++i){var currentSlope=getSlope(aGuessT,mX1,mX2);if(currentSlope===0.0)return aGuessT;var currentX=calcBezier(aGuessT,mX1,mX2)-aX;aGuessT-=currentX/currentSlope;}return aGuessT;}/**\r\n       * points is an array of [ mX1, mY1, mX2, mY2 ]\r\n       */function BezierEasing(points){this._p=points;this._mSampleValues=float32ArraySupported?new Float32Array(kSplineTableSize):new Array(kSplineTableSize);this._precomputed=false;this.get=this.get.bind(this);}BezierEasing.prototype={get:function get(x){var mX1=this._p[0],mY1=this._p[1],mX2=this._p[2],mY2=this._p[3];if(!this._precomputed)this._precompute();if(mX1===mY1&&mX2===mY2)return x;// linear\n// Because JavaScript number are imprecise, we should guarantee the extremes are right.\nif(x===0)return 0;if(x===1)return 1;return calcBezier(this._getTForX(x),mY1,mY2);},// Private part\n_precompute:function _precompute(){var mX1=this._p[0],mY1=this._p[1],mX2=this._p[2],mY2=this._p[3];this._precomputed=true;if(mX1!==mY1||mX2!==mY2){this._calcSampleValues();}},_calcSampleValues:function _calcSampleValues(){var mX1=this._p[0],mX2=this._p[2];for(var i=0;i<kSplineTableSize;++i){this._mSampleValues[i]=calcBezier(i*kSampleStepSize,mX1,mX2);}},/**\r\n           * getTForX chose the fastest heuristic to determine the percentage value precisely from a given X projection.\r\n           */_getTForX:function _getTForX(aX){var mX1=this._p[0],mX2=this._p[2],mSampleValues=this._mSampleValues;var intervalStart=0.0;var currentSample=1;var lastSample=kSplineTableSize-1;for(;currentSample!==lastSample&&mSampleValues[currentSample]<=aX;++currentSample){intervalStart+=kSampleStepSize;}--currentSample;// Interpolate to provide an initial guess for t\nvar dist=(aX-mSampleValues[currentSample])/(mSampleValues[currentSample+1]-mSampleValues[currentSample]);var guessForT=intervalStart+dist*kSampleStepSize;var initialSlope=getSlope(guessForT,mX1,mX2);if(initialSlope>=NEWTON_MIN_SLOPE){return newtonRaphsonIterate(aX,guessForT,mX1,mX2);}if(initialSlope===0.0){return guessForT;}return binarySubdivide(aX,intervalStart,intervalStart+kSampleStepSize,mX1,mX2);}};return ob;}();var pooling=function(){function _double(arr){return arr.concat(createSizedArray(arr.length));}return{\"double\":_double};}();var poolFactory=function(){return function(initialLength,_create,_release){var _length=0;var _maxLength=initialLength;var pool=createSizedArray(_maxLength);var ob={newElement:newElement,release:release};function newElement(){var element;if(_length){_length-=1;element=pool[_length];}else{element=_create();}return element;}function release(element){if(_length===_maxLength){pool=pooling[\"double\"](pool);_maxLength*=2;}if(_release){_release(element);}pool[_length]=element;_length+=1;}return ob;};}();var bezierLengthPool=function(){function create(){return{addedLength:0,percents:createTypedArray('float32',getDefaultCurveSegments()),lengths:createTypedArray('float32',getDefaultCurveSegments())};}return poolFactory(8,create);}();var segmentsLengthPool=function(){function create(){return{lengths:[],totalLength:0};}function release(element){var i;var len=element.lengths.length;for(i=0;i<len;i+=1){bezierLengthPool.release(element.lengths[i]);}element.lengths.length=0;}return poolFactory(8,create,release);}();function bezFunction(){var math=Math;function pointOnLine2D(x1,y1,x2,y2,x3,y3){var det1=x1*y2+y1*x3+x2*y3-x3*y2-y3*x1-x2*y1;return det1>-0.001&&det1<0.001;}function pointOnLine3D(x1,y1,z1,x2,y2,z2,x3,y3,z3){if(z1===0&&z2===0&&z3===0){return pointOnLine2D(x1,y1,x2,y2,x3,y3);}var dist1=math.sqrt(math.pow(x2-x1,2)+math.pow(y2-y1,2)+math.pow(z2-z1,2));var dist2=math.sqrt(math.pow(x3-x1,2)+math.pow(y3-y1,2)+math.pow(z3-z1,2));var dist3=math.sqrt(math.pow(x3-x2,2)+math.pow(y3-y2,2)+math.pow(z3-z2,2));var diffDist;if(dist1>dist2){if(dist1>dist3){diffDist=dist1-dist2-dist3;}else{diffDist=dist3-dist2-dist1;}}else if(dist3>dist2){diffDist=dist3-dist2-dist1;}else{diffDist=dist2-dist1-dist3;}return diffDist>-0.0001&&diffDist<0.0001;}var getBezierLength=function(){return function(pt1,pt2,pt3,pt4){var curveSegments=getDefaultCurveSegments();var k;var i;var len;var ptCoord;var perc;var addedLength=0;var ptDistance;var point=[];var lastPoint=[];var lengthData=bezierLengthPool.newElement();len=pt3.length;for(k=0;k<curveSegments;k+=1){perc=k/(curveSegments-1);ptDistance=0;for(i=0;i<len;i+=1){ptCoord=bmPow(1-perc,3)*pt1[i]+3*bmPow(1-perc,2)*perc*pt3[i]+3*(1-perc)*bmPow(perc,2)*pt4[i]+bmPow(perc,3)*pt2[i];point[i]=ptCoord;if(lastPoint[i]!==null){ptDistance+=bmPow(point[i]-lastPoint[i],2);}lastPoint[i]=point[i];}if(ptDistance){ptDistance=bmSqrt(ptDistance);addedLength+=ptDistance;}lengthData.percents[k]=perc;lengthData.lengths[k]=addedLength;}lengthData.addedLength=addedLength;return lengthData;};}();function getSegmentsLength(shapeData){var segmentsLength=segmentsLengthPool.newElement();var closed=shapeData.c;var pathV=shapeData.v;var pathO=shapeData.o;var pathI=shapeData.i;var i;var len=shapeData._length;var lengths=segmentsLength.lengths;var totalLength=0;for(i=0;i<len-1;i+=1){lengths[i]=getBezierLength(pathV[i],pathV[i+1],pathO[i],pathI[i+1]);totalLength+=lengths[i].addedLength;}if(closed&&len){lengths[i]=getBezierLength(pathV[i],pathV[0],pathO[i],pathI[0]);totalLength+=lengths[i].addedLength;}segmentsLength.totalLength=totalLength;return segmentsLength;}function BezierData(length){this.segmentLength=0;this.points=new Array(length);}function PointData(partial,point){this.partialLength=partial;this.point=point;}var buildBezierData=function(){var storedData={};return function(pt1,pt2,pt3,pt4){var bezierName=(pt1[0]+'_'+pt1[1]+'_'+pt2[0]+'_'+pt2[1]+'_'+pt3[0]+'_'+pt3[1]+'_'+pt4[0]+'_'+pt4[1]).replace(/\\./g,'p');if(!storedData[bezierName]){var curveSegments=getDefaultCurveSegments();var k;var i;var len;var ptCoord;var perc;var addedLength=0;var ptDistance;var point;var lastPoint=null;if(pt1.length===2&&(pt1[0]!==pt2[0]||pt1[1]!==pt2[1])&&pointOnLine2D(pt1[0],pt1[1],pt2[0],pt2[1],pt1[0]+pt3[0],pt1[1]+pt3[1])&&pointOnLine2D(pt1[0],pt1[1],pt2[0],pt2[1],pt2[0]+pt4[0],pt2[1]+pt4[1])){curveSegments=2;}var bezierData=new BezierData(curveSegments);len=pt3.length;for(k=0;k<curveSegments;k+=1){point=createSizedArray(len);perc=k/(curveSegments-1);ptDistance=0;for(i=0;i<len;i+=1){ptCoord=bmPow(1-perc,3)*pt1[i]+3*bmPow(1-perc,2)*perc*(pt1[i]+pt3[i])+3*(1-perc)*bmPow(perc,2)*(pt2[i]+pt4[i])+bmPow(perc,3)*pt2[i];point[i]=ptCoord;if(lastPoint!==null){ptDistance+=bmPow(point[i]-lastPoint[i],2);}}ptDistance=bmSqrt(ptDistance);addedLength+=ptDistance;bezierData.points[k]=new PointData(ptDistance,point);lastPoint=point;}bezierData.segmentLength=addedLength;storedData[bezierName]=bezierData;}return storedData[bezierName];};}();function getDistancePerc(perc,bezierData){var percents=bezierData.percents;var lengths=bezierData.lengths;var len=percents.length;var initPos=bmFloor((len-1)*perc);var lengthPos=perc*bezierData.addedLength;var lPerc=0;if(initPos===len-1||initPos===0||lengthPos===lengths[initPos]){return percents[initPos];}var dir=lengths[initPos]>lengthPos?-1:1;var flag=true;while(flag){if(lengths[initPos]<=lengthPos&&lengths[initPos+1]>lengthPos){lPerc=(lengthPos-lengths[initPos])/(lengths[initPos+1]-lengths[initPos]);flag=false;}else{initPos+=dir;}if(initPos<0||initPos>=len-1){// FIX for TypedArrays that don't store floating point values with enough accuracy\nif(initPos===len-1){return percents[initPos];}flag=false;}}return percents[initPos]+(percents[initPos+1]-percents[initPos])*lPerc;}function getPointInSegment(pt1,pt2,pt3,pt4,percent,bezierData){var t1=getDistancePerc(percent,bezierData);var u1=1-t1;var ptX=math.round((u1*u1*u1*pt1[0]+(t1*u1*u1+u1*t1*u1+u1*u1*t1)*pt3[0]+(t1*t1*u1+u1*t1*t1+t1*u1*t1)*pt4[0]+t1*t1*t1*pt2[0])*1000)/1000;var ptY=math.round((u1*u1*u1*pt1[1]+(t1*u1*u1+u1*t1*u1+u1*u1*t1)*pt3[1]+(t1*t1*u1+u1*t1*t1+t1*u1*t1)*pt4[1]+t1*t1*t1*pt2[1])*1000)/1000;return[ptX,ptY];}var bezierSegmentPoints=createTypedArray('float32',8);function getNewSegment(pt1,pt2,pt3,pt4,startPerc,endPerc,bezierData){if(startPerc<0){startPerc=0;}else if(startPerc>1){startPerc=1;}var t0=getDistancePerc(startPerc,bezierData);endPerc=endPerc>1?1:endPerc;var t1=getDistancePerc(endPerc,bezierData);var i;var len=pt1.length;var u0=1-t0;var u1=1-t1;var u0u0u0=u0*u0*u0;var t0u0u0_3=t0*u0*u0*3;// eslint-disable-line camelcase\nvar t0t0u0_3=t0*t0*u0*3;// eslint-disable-line camelcase\nvar t0t0t0=t0*t0*t0;//\nvar u0u0u1=u0*u0*u1;var t0u0u1_3=t0*u0*u1+u0*t0*u1+u0*u0*t1;// eslint-disable-line camelcase\nvar t0t0u1_3=t0*t0*u1+u0*t0*t1+t0*u0*t1;// eslint-disable-line camelcase\nvar t0t0t1=t0*t0*t1;//\nvar u0u1u1=u0*u1*u1;var t0u1u1_3=t0*u1*u1+u0*t1*u1+u0*u1*t1;// eslint-disable-line camelcase\nvar t0t1u1_3=t0*t1*u1+u0*t1*t1+t0*u1*t1;// eslint-disable-line camelcase\nvar t0t1t1=t0*t1*t1;//\nvar u1u1u1=u1*u1*u1;var t1u1u1_3=t1*u1*u1+u1*t1*u1+u1*u1*t1;// eslint-disable-line camelcase\nvar t1t1u1_3=t1*t1*u1+u1*t1*t1+t1*u1*t1;// eslint-disable-line camelcase\nvar t1t1t1=t1*t1*t1;for(i=0;i<len;i+=1){bezierSegmentPoints[i*4]=math.round((u0u0u0*pt1[i]+t0u0u0_3*pt3[i]+t0t0u0_3*pt4[i]+t0t0t0*pt2[i])*1000)/1000;// eslint-disable-line camelcase\nbezierSegmentPoints[i*4+1]=math.round((u0u0u1*pt1[i]+t0u0u1_3*pt3[i]+t0t0u1_3*pt4[i]+t0t0t1*pt2[i])*1000)/1000;// eslint-disable-line camelcase\nbezierSegmentPoints[i*4+2]=math.round((u0u1u1*pt1[i]+t0u1u1_3*pt3[i]+t0t1u1_3*pt4[i]+t0t1t1*pt2[i])*1000)/1000;// eslint-disable-line camelcase\nbezierSegmentPoints[i*4+3]=math.round((u1u1u1*pt1[i]+t1u1u1_3*pt3[i]+t1t1u1_3*pt4[i]+t1t1t1*pt2[i])*1000)/1000;// eslint-disable-line camelcase\n}return bezierSegmentPoints;}return{getSegmentsLength:getSegmentsLength,getNewSegment:getNewSegment,getPointInSegment:getPointInSegment,buildBezierData:buildBezierData,pointOnLine2D:pointOnLine2D,pointOnLine3D:pointOnLine3D};}var bez=bezFunction();var initFrame=initialDefaultFrame;var mathAbs=Math.abs;function interpolateValue(frameNum,caching){var offsetTime=this.offsetTime;var newValue;if(this.propType==='multidimensional'){newValue=createTypedArray('float32',this.pv.length);}var iterationIndex=caching.lastIndex;var i=iterationIndex;var len=this.keyframes.length-1;var flag=true;var keyData;var nextKeyData;var keyframeMetadata;while(flag){keyData=this.keyframes[i];nextKeyData=this.keyframes[i+1];if(i===len-1&&frameNum>=nextKeyData.t-offsetTime){if(keyData.h){keyData=nextKeyData;}iterationIndex=0;break;}if(nextKeyData.t-offsetTime>frameNum){iterationIndex=i;break;}if(i<len-1){i+=1;}else{iterationIndex=0;flag=false;}}keyframeMetadata=this.keyframesMetadata[i]||{};var k;var kLen;var perc;var jLen;var j;var fnc;var nextKeyTime=nextKeyData.t-offsetTime;var keyTime=keyData.t-offsetTime;var endValue;if(keyData.to){if(!keyframeMetadata.bezierData){keyframeMetadata.bezierData=bez.buildBezierData(keyData.s,nextKeyData.s||keyData.e,keyData.to,keyData.ti);}var bezierData=keyframeMetadata.bezierData;if(frameNum>=nextKeyTime||frameNum<keyTime){var ind=frameNum>=nextKeyTime?bezierData.points.length-1:0;kLen=bezierData.points[ind].point.length;for(k=0;k<kLen;k+=1){newValue[k]=bezierData.points[ind].point[k];}// caching._lastKeyframeIndex = -1;\n}else{if(keyframeMetadata.__fnct){fnc=keyframeMetadata.__fnct;}else{fnc=BezierFactory.getBezierEasing(keyData.o.x,keyData.o.y,keyData.i.x,keyData.i.y,keyData.n).get;keyframeMetadata.__fnct=fnc;}perc=fnc((frameNum-keyTime)/(nextKeyTime-keyTime));var distanceInLine=bezierData.segmentLength*perc;var segmentPerc;var addedLength=caching.lastFrame<frameNum&&caching._lastKeyframeIndex===i?caching._lastAddedLength:0;j=caching.lastFrame<frameNum&&caching._lastKeyframeIndex===i?caching._lastPoint:0;flag=true;jLen=bezierData.points.length;while(flag){addedLength+=bezierData.points[j].partialLength;if(distanceInLine===0||perc===0||j===bezierData.points.length-1){kLen=bezierData.points[j].point.length;for(k=0;k<kLen;k+=1){newValue[k]=bezierData.points[j].point[k];}break;}else if(distanceInLine>=addedLength&&distanceInLine<addedLength+bezierData.points[j+1].partialLength){segmentPerc=(distanceInLine-addedLength)/bezierData.points[j+1].partialLength;kLen=bezierData.points[j].point.length;for(k=0;k<kLen;k+=1){newValue[k]=bezierData.points[j].point[k]+(bezierData.points[j+1].point[k]-bezierData.points[j].point[k])*segmentPerc;}break;}if(j<jLen-1){j+=1;}else{flag=false;}}caching._lastPoint=j;caching._lastAddedLength=addedLength-bezierData.points[j].partialLength;caching._lastKeyframeIndex=i;}}else{var outX;var outY;var inX;var inY;var keyValue;len=keyData.s.length;endValue=nextKeyData.s||keyData.e;if(this.sh&&keyData.h!==1){if(frameNum>=nextKeyTime){newValue[0]=endValue[0];newValue[1]=endValue[1];newValue[2]=endValue[2];}else if(frameNum<=keyTime){newValue[0]=keyData.s[0];newValue[1]=keyData.s[1];newValue[2]=keyData.s[2];}else{var quatStart=createQuaternion(keyData.s);var quatEnd=createQuaternion(endValue);var time=(frameNum-keyTime)/(nextKeyTime-keyTime);quaternionToEuler(newValue,slerp(quatStart,quatEnd,time));}}else{for(i=0;i<len;i+=1){if(keyData.h!==1){if(frameNum>=nextKeyTime){perc=1;}else if(frameNum<keyTime){perc=0;}else{if(keyData.o.x.constructor===Array){if(!keyframeMetadata.__fnct){keyframeMetadata.__fnct=[];}if(!keyframeMetadata.__fnct[i]){outX=keyData.o.x[i]===undefined?keyData.o.x[0]:keyData.o.x[i];outY=keyData.o.y[i]===undefined?keyData.o.y[0]:keyData.o.y[i];inX=keyData.i.x[i]===undefined?keyData.i.x[0]:keyData.i.x[i];inY=keyData.i.y[i]===undefined?keyData.i.y[0]:keyData.i.y[i];fnc=BezierFactory.getBezierEasing(outX,outY,inX,inY).get;keyframeMetadata.__fnct[i]=fnc;}else{fnc=keyframeMetadata.__fnct[i];}}else if(!keyframeMetadata.__fnct){outX=keyData.o.x;outY=keyData.o.y;inX=keyData.i.x;inY=keyData.i.y;fnc=BezierFactory.getBezierEasing(outX,outY,inX,inY).get;keyData.keyframeMetadata=fnc;}else{fnc=keyframeMetadata.__fnct;}perc=fnc((frameNum-keyTime)/(nextKeyTime-keyTime));}}endValue=nextKeyData.s||keyData.e;keyValue=keyData.h===1?keyData.s[i]:keyData.s[i]+(endValue[i]-keyData.s[i])*perc;if(this.propType==='multidimensional'){newValue[i]=keyValue;}else{newValue=keyValue;}}}}caching.lastIndex=iterationIndex;return newValue;}// based on @Toji's https://github.com/toji/gl-matrix/\nfunction slerp(a,b,t){var out=[];var ax=a[0];var ay=a[1];var az=a[2];var aw=a[3];var bx=b[0];var by=b[1];var bz=b[2];var bw=b[3];var omega;var cosom;var sinom;var scale0;var scale1;cosom=ax*bx+ay*by+az*bz+aw*bw;if(cosom<0.0){cosom=-cosom;bx=-bx;by=-by;bz=-bz;bw=-bw;}if(1.0-cosom>0.000001){omega=Math.acos(cosom);sinom=Math.sin(omega);scale0=Math.sin((1.0-t)*omega)/sinom;scale1=Math.sin(t*omega)/sinom;}else{scale0=1.0-t;scale1=t;}out[0]=scale0*ax+scale1*bx;out[1]=scale0*ay+scale1*by;out[2]=scale0*az+scale1*bz;out[3]=scale0*aw+scale1*bw;return out;}function quaternionToEuler(out,quat){var qx=quat[0];var qy=quat[1];var qz=quat[2];var qw=quat[3];var heading=Math.atan2(2*qy*qw-2*qx*qz,1-2*qy*qy-2*qz*qz);var attitude=Math.asin(2*qx*qy+2*qz*qw);var bank=Math.atan2(2*qx*qw-2*qy*qz,1-2*qx*qx-2*qz*qz);out[0]=heading/degToRads;out[1]=attitude/degToRads;out[2]=bank/degToRads;}function createQuaternion(values){var heading=values[0]*degToRads;var attitude=values[1]*degToRads;var bank=values[2]*degToRads;var c1=Math.cos(heading/2);var c2=Math.cos(attitude/2);var c3=Math.cos(bank/2);var s1=Math.sin(heading/2);var s2=Math.sin(attitude/2);var s3=Math.sin(bank/2);var w=c1*c2*c3-s1*s2*s3;var x=s1*s2*c3+c1*c2*s3;var y=s1*c2*c3+c1*s2*s3;var z=c1*s2*c3-s1*c2*s3;return[x,y,z,w];}function getValueAtCurrentTime(){var frameNum=this.comp.renderedFrame-this.offsetTime;var initTime=this.keyframes[0].t-this.offsetTime;var endTime=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(frameNum===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=endTime&&frameNum>=endTime||this._caching.lastFrame<initTime&&frameNum<initTime))){if(this._caching.lastFrame>=frameNum){this._caching._lastKeyframeIndex=-1;this._caching.lastIndex=0;}var renderResult=this.interpolateValue(frameNum,this._caching);this.pv=renderResult;}this._caching.lastFrame=frameNum;return this.pv;}function setVValue(val){var multipliedValue;if(this.propType==='unidimensional'){multipliedValue=val*this.mult;if(mathAbs(this.v-multipliedValue)>0.00001){this.v=multipliedValue;this._mdf=true;}}else{var i=0;var len=this.v.length;while(i<len){multipliedValue=val[i]*this.mult;if(mathAbs(this.v[i]-multipliedValue)>0.00001){this.v[i]=multipliedValue;this._mdf=true;}i+=1;}}}function processEffectsSequence(){if(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length){return;}if(this.lock){this.setVValue(this.pv);return;}this.lock=true;this._mdf=this._isFirstFrame;var i;var len=this.effectsSequence.length;var finalValue=this.kf?this.pv:this.data.k;for(i=0;i<len;i+=1){finalValue=this.effectsSequence[i](finalValue);}this.setVValue(finalValue);this._isFirstFrame=false;this.lock=false;this.frameId=this.elem.globalData.frameId;}function addEffect(effectFunction){this.effectsSequence.push(effectFunction);this.container.addDynamicProperty(this);}function ValueProperty(elem,data,mult,container){this.propType='unidimensional';this.mult=mult||1;this.data=data;this.v=mult?data.k*mult:data.k;this.pv=data.k;this._mdf=false;this.elem=elem;this.container=container;this.comp=elem.comp;this.k=false;this.kf=false;this.vel=0;this.effectsSequence=[];this._isFirstFrame=true;this.getValue=processEffectsSequence;this.setVValue=setVValue;this.addEffect=addEffect;}function MultiDimensionalProperty(elem,data,mult,container){this.propType='multidimensional';this.mult=mult||1;this.data=data;this._mdf=false;this.elem=elem;this.container=container;this.comp=elem.comp;this.k=false;this.kf=false;this.frameId=-1;var i;var len=data.k.length;this.v=createTypedArray('float32',len);this.pv=createTypedArray('float32',len);this.vel=createTypedArray('float32',len);for(i=0;i<len;i+=1){this.v[i]=data.k[i]*this.mult;this.pv[i]=data.k[i];}this._isFirstFrame=true;this.effectsSequence=[];this.getValue=processEffectsSequence;this.setVValue=setVValue;this.addEffect=addEffect;}function KeyframedValueProperty(elem,data,mult,container){this.propType='unidimensional';this.keyframes=data.k;this.keyframesMetadata=[];this.offsetTime=elem.data.st;this.frameId=-1;this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1};this.k=true;this.kf=true;this.data=data;this.mult=mult||1;this.elem=elem;this.container=container;this.comp=elem.comp;this.v=initFrame;this.pv=initFrame;this._isFirstFrame=true;this.getValue=processEffectsSequence;this.setVValue=setVValue;this.interpolateValue=interpolateValue;this.effectsSequence=[getValueAtCurrentTime.bind(this)];this.addEffect=addEffect;}function KeyframedMultidimensionalProperty(elem,data,mult,container){this.propType='multidimensional';var i;var len=data.k.length;var s;var e;var to;var ti;for(i=0;i<len-1;i+=1){if(data.k[i].to&&data.k[i].s&&data.k[i+1]&&data.k[i+1].s){s=data.k[i].s;e=data.k[i+1].s;to=data.k[i].to;ti=data.k[i].ti;if(s.length===2&&!(s[0]===e[0]&&s[1]===e[1])&&bez.pointOnLine2D(s[0],s[1],e[0],e[1],s[0]+to[0],s[1]+to[1])&&bez.pointOnLine2D(s[0],s[1],e[0],e[1],e[0]+ti[0],e[1]+ti[1])||s.length===3&&!(s[0]===e[0]&&s[1]===e[1]&&s[2]===e[2])&&bez.pointOnLine3D(s[0],s[1],s[2],e[0],e[1],e[2],s[0]+to[0],s[1]+to[1],s[2]+to[2])&&bez.pointOnLine3D(s[0],s[1],s[2],e[0],e[1],e[2],e[0]+ti[0],e[1]+ti[1],e[2]+ti[2])){data.k[i].to=null;data.k[i].ti=null;}if(s[0]===e[0]&&s[1]===e[1]&&to[0]===0&&to[1]===0&&ti[0]===0&&ti[1]===0){if(s.length===2||s[2]===e[2]&&to[2]===0&&ti[2]===0){data.k[i].to=null;data.k[i].ti=null;}}}}this.effectsSequence=[getValueAtCurrentTime.bind(this)];this.data=data;this.keyframes=data.k;this.keyframesMetadata=[];this.offsetTime=elem.data.st;this.k=true;this.kf=true;this._isFirstFrame=true;this.mult=mult||1;this.elem=elem;this.container=container;this.comp=elem.comp;this.getValue=processEffectsSequence;this.setVValue=setVValue;this.interpolateValue=interpolateValue;this.frameId=-1;var arrLen=data.k[0].s.length;this.v=createTypedArray('float32',arrLen);this.pv=createTypedArray('float32',arrLen);for(i=0;i<arrLen;i+=1){this.v[i]=initFrame;this.pv[i]=initFrame;}this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray('float32',arrLen)};this.addEffect=addEffect;}var PropertyFactory=function(){function getProp(elem,data,type,mult,container){if(data.sid){data=elem.globalData.slotManager.getProp(data);}var p;if(!data.k.length){p=new ValueProperty(elem,data,mult,container);}else if(typeof data.k[0]==='number'){p=new MultiDimensionalProperty(elem,data,mult,container);}else{switch(type){case 0:p=new KeyframedValueProperty(elem,data,mult,container);break;case 1:p=new KeyframedMultidimensionalProperty(elem,data,mult,container);break;default:break;}}if(p.effectsSequence.length){container.addDynamicProperty(p);}return p;}var ob={getProp:getProp};return ob;}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function addDynamicProperty(prop){if(this.dynamicProperties.indexOf(prop)===-1){this.dynamicProperties.push(prop);this.container.addDynamicProperty(this);this._isAnimated=true;}},iterateDynamicProperties:function iterateDynamicProperties(){this._mdf=false;var i;var len=this.dynamicProperties.length;for(i=0;i<len;i+=1){this.dynamicProperties[i].getValue();if(this.dynamicProperties[i]._mdf){this._mdf=true;}}},initDynamicPropertyContainer:function initDynamicPropertyContainer(container){this.container=container;this.dynamicProperties=[];this._mdf=false;this._isAnimated=false;}};var pointPool=function(){function create(){return createTypedArray('float32',2);}return poolFactory(8,create);}();function ShapePath(){this.c=false;this._length=0;this._maxLength=8;this.v=createSizedArray(this._maxLength);this.o=createSizedArray(this._maxLength);this.i=createSizedArray(this._maxLength);}ShapePath.prototype.setPathData=function(closed,len){this.c=closed;this.setLength(len);var i=0;while(i<len){this.v[i]=pointPool.newElement();this.o[i]=pointPool.newElement();this.i[i]=pointPool.newElement();i+=1;}};ShapePath.prototype.setLength=function(len){while(this._maxLength<len){this.doubleArrayLength();}this._length=len;};ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength));this.i=this.i.concat(createSizedArray(this._maxLength));this.o=this.o.concat(createSizedArray(this._maxLength));this._maxLength*=2;};ShapePath.prototype.setXYAt=function(x,y,type,pos,replace){var arr;this._length=Math.max(this._length,pos+1);if(this._length>=this._maxLength){this.doubleArrayLength();}switch(type){case'v':arr=this.v;break;case'i':arr=this.i;break;case'o':arr=this.o;break;default:arr=[];break;}if(!arr[pos]||arr[pos]&&!replace){arr[pos]=pointPool.newElement();}arr[pos][0]=x;arr[pos][1]=y;};ShapePath.prototype.setTripleAt=function(vX,vY,oX,oY,iX,iY,pos,replace){this.setXYAt(vX,vY,'v',pos,replace);this.setXYAt(oX,oY,'o',pos,replace);this.setXYAt(iX,iY,'i',pos,replace);};ShapePath.prototype.reverse=function(){var newPath=new ShapePath();newPath.setPathData(this.c,this._length);var vertices=this.v;var outPoints=this.o;var inPoints=this.i;var init=0;if(this.c){newPath.setTripleAt(vertices[0][0],vertices[0][1],inPoints[0][0],inPoints[0][1],outPoints[0][0],outPoints[0][1],0,false);init=1;}var cnt=this._length-1;var len=this._length;var i;for(i=init;i<len;i+=1){newPath.setTripleAt(vertices[cnt][0],vertices[cnt][1],inPoints[cnt][0],inPoints[cnt][1],outPoints[cnt][0],outPoints[cnt][1],i,false);cnt-=1;}return newPath;};ShapePath.prototype.length=function(){return this._length;};var shapePool=function(){function create(){return new ShapePath();}function release(shapePath){var len=shapePath._length;var i;for(i=0;i<len;i+=1){pointPool.release(shapePath.v[i]);pointPool.release(shapePath.i[i]);pointPool.release(shapePath.o[i]);shapePath.v[i]=null;shapePath.i[i]=null;shapePath.o[i]=null;}shapePath._length=0;shapePath.c=false;}function clone(shape){var cloned=factory.newElement();var i;var len=shape._length===undefined?shape.v.length:shape._length;cloned.setLength(len);cloned.c=shape.c;for(i=0;i<len;i+=1){cloned.setTripleAt(shape.v[i][0],shape.v[i][1],shape.o[i][0],shape.o[i][1],shape.i[i][0],shape.i[i][1],i);}return cloned;}var factory=poolFactory(4,create,release);factory.clone=clone;return factory;}();function ShapeCollection(){this._length=0;this._maxLength=4;this.shapes=createSizedArray(this._maxLength);}ShapeCollection.prototype.addShape=function(shapeData){if(this._length===this._maxLength){this.shapes=this.shapes.concat(createSizedArray(this._maxLength));this._maxLength*=2;}this.shapes[this._length]=shapeData;this._length+=1;};ShapeCollection.prototype.releaseShapes=function(){var i;for(i=0;i<this._length;i+=1){shapePool.release(this.shapes[i]);}this._length=0;};var shapeCollectionPool=function(){var ob={newShapeCollection:newShapeCollection,release:release};var _length=0;var _maxLength=4;var pool=createSizedArray(_maxLength);function newShapeCollection(){var shapeCollection;if(_length){_length-=1;shapeCollection=pool[_length];}else{shapeCollection=new ShapeCollection();}return shapeCollection;}function release(shapeCollection){var i;var len=shapeCollection._length;for(i=0;i<len;i+=1){shapePool.release(shapeCollection.shapes[i]);}shapeCollection._length=0;if(_length===_maxLength){pool=pooling[\"double\"](pool);_maxLength*=2;}pool[_length]=shapeCollection;_length+=1;}return ob;}();var ShapePropertyFactory=function(){var initFrame=-999999;function interpolateShape(frameNum,previousValue,caching){var iterationIndex=caching.lastIndex;var keyPropS;var keyPropE;var isHold;var j;var k;var jLen;var kLen;var perc;var vertexValue;var kf=this.keyframes;if(frameNum<kf[0].t-this.offsetTime){keyPropS=kf[0].s[0];isHold=true;iterationIndex=0;}else if(frameNum>=kf[kf.length-1].t-this.offsetTime){keyPropS=kf[kf.length-1].s?kf[kf.length-1].s[0]:kf[kf.length-2].e[0];/* if(kf[kf.length - 1].s){\r\n                  keyPropS = kf[kf.length - 1].s[0];\r\n              }else{\r\n                  keyPropS = kf[kf.length - 2].e[0];\r\n              } */isHold=true;}else{var i=iterationIndex;var len=kf.length-1;var flag=true;var keyData;var nextKeyData;var keyframeMetadata;while(flag){keyData=kf[i];nextKeyData=kf[i+1];if(nextKeyData.t-this.offsetTime>frameNum){break;}if(i<len-1){i+=1;}else{flag=false;}}keyframeMetadata=this.keyframesMetadata[i]||{};isHold=keyData.h===1;iterationIndex=i;if(!isHold){if(frameNum>=nextKeyData.t-this.offsetTime){perc=1;}else if(frameNum<keyData.t-this.offsetTime){perc=0;}else{var fnc;if(keyframeMetadata.__fnct){fnc=keyframeMetadata.__fnct;}else{fnc=BezierFactory.getBezierEasing(keyData.o.x,keyData.o.y,keyData.i.x,keyData.i.y).get;keyframeMetadata.__fnct=fnc;}perc=fnc((frameNum-(keyData.t-this.offsetTime))/(nextKeyData.t-this.offsetTime-(keyData.t-this.offsetTime)));}keyPropE=nextKeyData.s?nextKeyData.s[0]:keyData.e[0];}keyPropS=keyData.s[0];}jLen=previousValue._length;kLen=keyPropS.i[0].length;caching.lastIndex=iterationIndex;for(j=0;j<jLen;j+=1){for(k=0;k<kLen;k+=1){vertexValue=isHold?keyPropS.i[j][k]:keyPropS.i[j][k]+(keyPropE.i[j][k]-keyPropS.i[j][k])*perc;previousValue.i[j][k]=vertexValue;vertexValue=isHold?keyPropS.o[j][k]:keyPropS.o[j][k]+(keyPropE.o[j][k]-keyPropS.o[j][k])*perc;previousValue.o[j][k]=vertexValue;vertexValue=isHold?keyPropS.v[j][k]:keyPropS.v[j][k]+(keyPropE.v[j][k]-keyPropS.v[j][k])*perc;previousValue.v[j][k]=vertexValue;}}}function interpolateShapeCurrentTime(){var frameNum=this.comp.renderedFrame-this.offsetTime;var initTime=this.keyframes[0].t-this.offsetTime;var endTime=this.keyframes[this.keyframes.length-1].t-this.offsetTime;var lastFrame=this._caching.lastFrame;if(!(lastFrame!==initFrame&&(lastFrame<initTime&&frameNum<initTime||lastFrame>endTime&&frameNum>endTime))){/// /\nthis._caching.lastIndex=lastFrame<frameNum?this._caching.lastIndex:0;this.interpolateShape(frameNum,this.pv,this._caching);/// /\n}this._caching.lastFrame=frameNum;return this.pv;}function resetShape(){this.paths=this.localShapeCollection;}function shapesEqual(shape1,shape2){if(shape1._length!==shape2._length||shape1.c!==shape2.c){return false;}var i;var len=shape1._length;for(i=0;i<len;i+=1){if(shape1.v[i][0]!==shape2.v[i][0]||shape1.v[i][1]!==shape2.v[i][1]||shape1.o[i][0]!==shape2.o[i][0]||shape1.o[i][1]!==shape2.o[i][1]||shape1.i[i][0]!==shape2.i[i][0]||shape1.i[i][1]!==shape2.i[i][1]){return false;}}return true;}function setVValue(newPath){if(!shapesEqual(this.v,newPath)){this.v=shapePool.clone(newPath);this.localShapeCollection.releaseShapes();this.localShapeCollection.addShape(this.v);this._mdf=true;this.paths=this.localShapeCollection;}}function processEffectsSequence(){if(this.elem.globalData.frameId===this.frameId){return;}if(!this.effectsSequence.length){this._mdf=false;return;}if(this.lock){this.setVValue(this.pv);return;}this.lock=true;this._mdf=false;var finalValue;if(this.kf){finalValue=this.pv;}else if(this.data.ks){finalValue=this.data.ks.k;}else{finalValue=this.data.pt.k;}var i;var len=this.effectsSequence.length;for(i=0;i<len;i+=1){finalValue=this.effectsSequence[i](finalValue);}this.setVValue(finalValue);this.lock=false;this.frameId=this.elem.globalData.frameId;}function ShapeProperty(elem,data,type){this.propType='shape';this.comp=elem.comp;this.container=elem;this.elem=elem;this.data=data;this.k=false;this.kf=false;this._mdf=false;var pathData=type===3?data.pt.k:data.ks.k;this.v=shapePool.clone(pathData);this.pv=shapePool.clone(this.v);this.localShapeCollection=shapeCollectionPool.newShapeCollection();this.paths=this.localShapeCollection;this.paths.addShape(this.v);this.reset=resetShape;this.effectsSequence=[];}function addEffect(effectFunction){this.effectsSequence.push(effectFunction);this.container.addDynamicProperty(this);}ShapeProperty.prototype.interpolateShape=interpolateShape;ShapeProperty.prototype.getValue=processEffectsSequence;ShapeProperty.prototype.setVValue=setVValue;ShapeProperty.prototype.addEffect=addEffect;function KeyframedShapeProperty(elem,data,type){this.propType='shape';this.comp=elem.comp;this.elem=elem;this.container=elem;this.offsetTime=elem.data.st;this.keyframes=type===3?data.pt.k:data.ks.k;this.keyframesMetadata=[];this.k=true;this.kf=true;var len=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement();this.v.setPathData(this.keyframes[0].s[0].c,len);this.pv=shapePool.clone(this.v);this.localShapeCollection=shapeCollectionPool.newShapeCollection();this.paths=this.localShapeCollection;this.paths.addShape(this.v);this.lastFrame=initFrame;this.reset=resetShape;this._caching={lastFrame:initFrame,lastIndex:0};this.effectsSequence=[interpolateShapeCurrentTime.bind(this)];}KeyframedShapeProperty.prototype.getValue=processEffectsSequence;KeyframedShapeProperty.prototype.interpolateShape=interpolateShape;KeyframedShapeProperty.prototype.setVValue=setVValue;KeyframedShapeProperty.prototype.addEffect=addEffect;var EllShapeProperty=function(){var cPoint=roundCorner;function EllShapePropertyFactory(elem,data){this.v=shapePool.newElement();this.v.setPathData(true,4);this.localShapeCollection=shapeCollectionPool.newShapeCollection();this.paths=this.localShapeCollection;this.localShapeCollection.addShape(this.v);this.d=data.d;this.elem=elem;this.comp=elem.comp;this.frameId=-1;this.initDynamicPropertyContainer(elem);this.p=PropertyFactory.getProp(elem,data.p,1,0,this);this.s=PropertyFactory.getProp(elem,data.s,1,0,this);if(this.dynamicProperties.length){this.k=true;}else{this.k=false;this.convertEllToPath();}}EllShapePropertyFactory.prototype={reset:resetShape,getValue:function getValue(){if(this.elem.globalData.frameId===this.frameId){return;}this.frameId=this.elem.globalData.frameId;this.iterateDynamicProperties();if(this._mdf){this.convertEllToPath();}},convertEllToPath:function convertEllToPath(){var p0=this.p.v[0];var p1=this.p.v[1];var s0=this.s.v[0]/2;var s1=this.s.v[1]/2;var _cw=this.d!==3;var _v=this.v;_v.v[0][0]=p0;_v.v[0][1]=p1-s1;_v.v[1][0]=_cw?p0+s0:p0-s0;_v.v[1][1]=p1;_v.v[2][0]=p0;_v.v[2][1]=p1+s1;_v.v[3][0]=_cw?p0-s0:p0+s0;_v.v[3][1]=p1;_v.i[0][0]=_cw?p0-s0*cPoint:p0+s0*cPoint;_v.i[0][1]=p1-s1;_v.i[1][0]=_cw?p0+s0:p0-s0;_v.i[1][1]=p1-s1*cPoint;_v.i[2][0]=_cw?p0+s0*cPoint:p0-s0*cPoint;_v.i[2][1]=p1+s1;_v.i[3][0]=_cw?p0-s0:p0+s0;_v.i[3][1]=p1+s1*cPoint;_v.o[0][0]=_cw?p0+s0*cPoint:p0-s0*cPoint;_v.o[0][1]=p1-s1;_v.o[1][0]=_cw?p0+s0:p0-s0;_v.o[1][1]=p1+s1*cPoint;_v.o[2][0]=_cw?p0-s0*cPoint:p0+s0*cPoint;_v.o[2][1]=p1+s1;_v.o[3][0]=_cw?p0-s0:p0+s0;_v.o[3][1]=p1-s1*cPoint;}};extendPrototype([DynamicPropertyContainer],EllShapePropertyFactory);return EllShapePropertyFactory;}();var StarShapeProperty=function(){function StarShapePropertyFactory(elem,data){this.v=shapePool.newElement();this.v.setPathData(true,0);this.elem=elem;this.comp=elem.comp;this.data=data;this.frameId=-1;this.d=data.d;this.initDynamicPropertyContainer(elem);if(data.sy===1){this.ir=PropertyFactory.getProp(elem,data.ir,0,0,this);this.is=PropertyFactory.getProp(elem,data.is,0,0.01,this);this.convertToPath=this.convertStarToPath;}else{this.convertToPath=this.convertPolygonToPath;}this.pt=PropertyFactory.getProp(elem,data.pt,0,0,this);this.p=PropertyFactory.getProp(elem,data.p,1,0,this);this.r=PropertyFactory.getProp(elem,data.r,0,degToRads,this);this.or=PropertyFactory.getProp(elem,data.or,0,0,this);this.os=PropertyFactory.getProp(elem,data.os,0,0.01,this);this.localShapeCollection=shapeCollectionPool.newShapeCollection();this.localShapeCollection.addShape(this.v);this.paths=this.localShapeCollection;if(this.dynamicProperties.length){this.k=true;}else{this.k=false;this.convertToPath();}}StarShapePropertyFactory.prototype={reset:resetShape,getValue:function getValue(){if(this.elem.globalData.frameId===this.frameId){return;}this.frameId=this.elem.globalData.frameId;this.iterateDynamicProperties();if(this._mdf){this.convertToPath();}},convertStarToPath:function convertStarToPath(){var numPts=Math.floor(this.pt.v)*2;var angle=Math.PI*2/numPts;/* this.v.v.length = numPts;\r\n                  this.v.i.length = numPts;\r\n                  this.v.o.length = numPts; */var longFlag=true;var longRad=this.or.v;var shortRad=this.ir.v;var longRound=this.os.v;var shortRound=this.is.v;var longPerimSegment=2*Math.PI*longRad/(numPts*2);var shortPerimSegment=2*Math.PI*shortRad/(numPts*2);var i;var rad;var roundness;var perimSegment;var currentAng=-Math.PI/2;currentAng+=this.r.v;var dir=this.data.d===3?-1:1;this.v._length=0;for(i=0;i<numPts;i+=1){rad=longFlag?longRad:shortRad;roundness=longFlag?longRound:shortRound;perimSegment=longFlag?longPerimSegment:shortPerimSegment;var x=rad*Math.cos(currentAng);var y=rad*Math.sin(currentAng);var ox=x===0&&y===0?0:y/Math.sqrt(x*x+y*y);var oy=x===0&&y===0?0:-x/Math.sqrt(x*x+y*y);x+=+this.p.v[0];y+=+this.p.v[1];this.v.setTripleAt(x,y,x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir,x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir,i,true);/* this.v.v[i] = [x,y];\r\n                      this.v.i[i] = [x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir];\r\n                      this.v.o[i] = [x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir];\r\n                      this.v._length = numPts; */longFlag=!longFlag;currentAng+=angle*dir;}},convertPolygonToPath:function convertPolygonToPath(){var numPts=Math.floor(this.pt.v);var angle=Math.PI*2/numPts;var rad=this.or.v;var roundness=this.os.v;var perimSegment=2*Math.PI*rad/(numPts*4);var i;var currentAng=-Math.PI*0.5;var dir=this.data.d===3?-1:1;currentAng+=this.r.v;this.v._length=0;for(i=0;i<numPts;i+=1){var x=rad*Math.cos(currentAng);var y=rad*Math.sin(currentAng);var ox=x===0&&y===0?0:y/Math.sqrt(x*x+y*y);var oy=x===0&&y===0?0:-x/Math.sqrt(x*x+y*y);x+=+this.p.v[0];y+=+this.p.v[1];this.v.setTripleAt(x,y,x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir,x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir,i,true);currentAng+=angle*dir;}this.paths.length=0;this.paths[0]=this.v;}};extendPrototype([DynamicPropertyContainer],StarShapePropertyFactory);return StarShapePropertyFactory;}();var RectShapeProperty=function(){function RectShapePropertyFactory(elem,data){this.v=shapePool.newElement();this.v.c=true;this.localShapeCollection=shapeCollectionPool.newShapeCollection();this.localShapeCollection.addShape(this.v);this.paths=this.localShapeCollection;this.elem=elem;this.comp=elem.comp;this.frameId=-1;this.d=data.d;this.initDynamicPropertyContainer(elem);this.p=PropertyFactory.getProp(elem,data.p,1,0,this);this.s=PropertyFactory.getProp(elem,data.s,1,0,this);this.r=PropertyFactory.getProp(elem,data.r,0,0,this);if(this.dynamicProperties.length){this.k=true;}else{this.k=false;this.convertRectToPath();}}RectShapePropertyFactory.prototype={convertRectToPath:function convertRectToPath(){var p0=this.p.v[0];var p1=this.p.v[1];var v0=this.s.v[0]/2;var v1=this.s.v[1]/2;var round=bmMin(v0,v1,this.r.v);var cPoint=round*(1-roundCorner);this.v._length=0;if(this.d===2||this.d===1){this.v.setTripleAt(p0+v0,p1-v1+round,p0+v0,p1-v1+round,p0+v0,p1-v1+cPoint,0,true);this.v.setTripleAt(p0+v0,p1+v1-round,p0+v0,p1+v1-cPoint,p0+v0,p1+v1-round,1,true);if(round!==0){this.v.setTripleAt(p0+v0-round,p1+v1,p0+v0-round,p1+v1,p0+v0-cPoint,p1+v1,2,true);this.v.setTripleAt(p0-v0+round,p1+v1,p0-v0+cPoint,p1+v1,p0-v0+round,p1+v1,3,true);this.v.setTripleAt(p0-v0,p1+v1-round,p0-v0,p1+v1-round,p0-v0,p1+v1-cPoint,4,true);this.v.setTripleAt(p0-v0,p1-v1+round,p0-v0,p1-v1+cPoint,p0-v0,p1-v1+round,5,true);this.v.setTripleAt(p0-v0+round,p1-v1,p0-v0+round,p1-v1,p0-v0+cPoint,p1-v1,6,true);this.v.setTripleAt(p0+v0-round,p1-v1,p0+v0-cPoint,p1-v1,p0+v0-round,p1-v1,7,true);}else{this.v.setTripleAt(p0-v0,p1+v1,p0-v0+cPoint,p1+v1,p0-v0,p1+v1,2);this.v.setTripleAt(p0-v0,p1-v1,p0-v0,p1-v1+cPoint,p0-v0,p1-v1,3);}}else{this.v.setTripleAt(p0+v0,p1-v1+round,p0+v0,p1-v1+cPoint,p0+v0,p1-v1+round,0,true);if(round!==0){this.v.setTripleAt(p0+v0-round,p1-v1,p0+v0-round,p1-v1,p0+v0-cPoint,p1-v1,1,true);this.v.setTripleAt(p0-v0+round,p1-v1,p0-v0+cPoint,p1-v1,p0-v0+round,p1-v1,2,true);this.v.setTripleAt(p0-v0,p1-v1+round,p0-v0,p1-v1+round,p0-v0,p1-v1+cPoint,3,true);this.v.setTripleAt(p0-v0,p1+v1-round,p0-v0,p1+v1-cPoint,p0-v0,p1+v1-round,4,true);this.v.setTripleAt(p0-v0+round,p1+v1,p0-v0+round,p1+v1,p0-v0+cPoint,p1+v1,5,true);this.v.setTripleAt(p0+v0-round,p1+v1,p0+v0-cPoint,p1+v1,p0+v0-round,p1+v1,6,true);this.v.setTripleAt(p0+v0,p1+v1-round,p0+v0,p1+v1-round,p0+v0,p1+v1-cPoint,7,true);}else{this.v.setTripleAt(p0-v0,p1-v1,p0-v0+cPoint,p1-v1,p0-v0,p1-v1,1,true);this.v.setTripleAt(p0-v0,p1+v1,p0-v0,p1+v1-cPoint,p0-v0,p1+v1,2,true);this.v.setTripleAt(p0+v0,p1+v1,p0+v0-cPoint,p1+v1,p0+v0,p1+v1,3,true);}}},getValue:function getValue(){if(this.elem.globalData.frameId===this.frameId){return;}this.frameId=this.elem.globalData.frameId;this.iterateDynamicProperties();if(this._mdf){this.convertRectToPath();}},reset:resetShape};extendPrototype([DynamicPropertyContainer],RectShapePropertyFactory);return RectShapePropertyFactory;}();function getShapeProp(elem,data,type){var prop;if(type===3||type===4){var dataProp=type===3?data.pt:data.ks;var keys=dataProp.k;if(keys.length){prop=new KeyframedShapeProperty(elem,data,type);}else{prop=new ShapeProperty(elem,data,type);}}else if(type===5){prop=new RectShapeProperty(elem,data);}else if(type===6){prop=new EllShapeProperty(elem,data);}else if(type===7){prop=new StarShapeProperty(elem,data);}if(prop.k){elem.addDynamicProperty(prop);}return prop;}function getConstructorFunction(){return ShapeProperty;}function getKeyframedConstructorFunction(){return KeyframedShapeProperty;}var ob={};ob.getShapeProp=getShapeProp;ob.getConstructorFunction=getConstructorFunction;ob.getKeyframedConstructorFunction=getKeyframedConstructorFunction;return ob;}();/*!\r\n   Transformation Matrix v2.0\r\n   (c) Epistemex 2014-2015\r\n   www.epistemex.com\r\n   By Ken Fyrstenberg\r\n   Contributions by leeoniya.\r\n   License: MIT, header required.\r\n   *//**\r\n   * 2D transformation matrix object initialized with identity matrix.\r\n   *\r\n   * The matrix can synchronize a canvas context by supplying the context\r\n   * as an argument, or later apply current absolute transform to an\r\n   * existing context.\r\n   *\r\n   * All values are handled as floating point values.\r\n   *\r\n   * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\r\n   * @prop {number} a - scale x\r\n   * @prop {number} b - shear y\r\n   * @prop {number} c - shear x\r\n   * @prop {number} d - scale y\r\n   * @prop {number} e - translate x\r\n   * @prop {number} f - translate y\r\n   * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\r\n   * @constructor\r\n   */var Matrix=function(){var _cos=Math.cos;var _sin=Math.sin;var _tan=Math.tan;var _rnd=Math.round;function reset(){this.props[0]=1;this.props[1]=0;this.props[2]=0;this.props[3]=0;this.props[4]=0;this.props[5]=1;this.props[6]=0;this.props[7]=0;this.props[8]=0;this.props[9]=0;this.props[10]=1;this.props[11]=0;this.props[12]=0;this.props[13]=0;this.props[14]=0;this.props[15]=1;return this;}function rotate(angle){if(angle===0){return this;}var mCos=_cos(angle);var mSin=_sin(angle);return this._t(mCos,-mSin,0,0,mSin,mCos,0,0,0,0,1,0,0,0,0,1);}function rotateX(angle){if(angle===0){return this;}var mCos=_cos(angle);var mSin=_sin(angle);return this._t(1,0,0,0,0,mCos,-mSin,0,0,mSin,mCos,0,0,0,0,1);}function rotateY(angle){if(angle===0){return this;}var mCos=_cos(angle);var mSin=_sin(angle);return this._t(mCos,0,mSin,0,0,1,0,0,-mSin,0,mCos,0,0,0,0,1);}function rotateZ(angle){if(angle===0){return this;}var mCos=_cos(angle);var mSin=_sin(angle);return this._t(mCos,-mSin,0,0,mSin,mCos,0,0,0,0,1,0,0,0,0,1);}function shear(sx,sy){return this._t(1,sy,sx,1,0,0);}function skew(ax,ay){return this.shear(_tan(ax),_tan(ay));}function skewFromAxis(ax,angle){var mCos=_cos(angle);var mSin=_sin(angle);return this._t(mCos,mSin,0,0,-mSin,mCos,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,_tan(ax),1,0,0,0,0,1,0,0,0,0,1)._t(mCos,-mSin,0,0,mSin,mCos,0,0,0,0,1,0,0,0,0,1);// return this._t(mCos, mSin, -mSin, mCos, 0, 0)._t(1, 0, _tan(ax), 1, 0, 0)._t(mCos, -mSin, mSin, mCos, 0, 0);\n}function scale(sx,sy,sz){if(!sz&&sz!==0){sz=1;}if(sx===1&&sy===1&&sz===1){return this;}return this._t(sx,0,0,0,0,sy,0,0,0,0,sz,0,0,0,0,1);}function setTransform(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){this.props[0]=a;this.props[1]=b;this.props[2]=c;this.props[3]=d;this.props[4]=e;this.props[5]=f;this.props[6]=g;this.props[7]=h;this.props[8]=i;this.props[9]=j;this.props[10]=k;this.props[11]=l;this.props[12]=m;this.props[13]=n;this.props[14]=o;this.props[15]=p;return this;}function translate(tx,ty,tz){tz=tz||0;if(tx!==0||ty!==0||tz!==0){return this._t(1,0,0,0,0,1,0,0,0,0,1,0,tx,ty,tz,1);}return this;}function transform(a2,b2,c2,d2,e2,f2,g2,h2,i2,j2,k2,l2,m2,n2,o2,p2){var _p=this.props;if(a2===1&&b2===0&&c2===0&&d2===0&&e2===0&&f2===1&&g2===0&&h2===0&&i2===0&&j2===0&&k2===1&&l2===0){// NOTE: commenting this condition because TurboFan deoptimizes code when present\n// if(m2 !== 0 || n2 !== 0 || o2 !== 0){\n_p[12]=_p[12]*a2+_p[15]*m2;_p[13]=_p[13]*f2+_p[15]*n2;_p[14]=_p[14]*k2+_p[15]*o2;_p[15]*=p2;// }\nthis._identityCalculated=false;return this;}var a1=_p[0];var b1=_p[1];var c1=_p[2];var d1=_p[3];var e1=_p[4];var f1=_p[5];var g1=_p[6];var h1=_p[7];var i1=_p[8];var j1=_p[9];var k1=_p[10];var l1=_p[11];var m1=_p[12];var n1=_p[13];var o1=_p[14];var p1=_p[15];/* matrix order (canvas compatible):\r\n           * ace\r\n           * bdf\r\n           * 001\r\n           */_p[0]=a1*a2+b1*e2+c1*i2+d1*m2;_p[1]=a1*b2+b1*f2+c1*j2+d1*n2;_p[2]=a1*c2+b1*g2+c1*k2+d1*o2;_p[3]=a1*d2+b1*h2+c1*l2+d1*p2;_p[4]=e1*a2+f1*e2+g1*i2+h1*m2;_p[5]=e1*b2+f1*f2+g1*j2+h1*n2;_p[6]=e1*c2+f1*g2+g1*k2+h1*o2;_p[7]=e1*d2+f1*h2+g1*l2+h1*p2;_p[8]=i1*a2+j1*e2+k1*i2+l1*m2;_p[9]=i1*b2+j1*f2+k1*j2+l1*n2;_p[10]=i1*c2+j1*g2+k1*k2+l1*o2;_p[11]=i1*d2+j1*h2+k1*l2+l1*p2;_p[12]=m1*a2+n1*e2+o1*i2+p1*m2;_p[13]=m1*b2+n1*f2+o1*j2+p1*n2;_p[14]=m1*c2+n1*g2+o1*k2+p1*o2;_p[15]=m1*d2+n1*h2+o1*l2+p1*p2;this._identityCalculated=false;return this;}function multiply(matrix){var matrixProps=matrix.props;return this.transform(matrixProps[0],matrixProps[1],matrixProps[2],matrixProps[3],matrixProps[4],matrixProps[5],matrixProps[6],matrixProps[7],matrixProps[8],matrixProps[9],matrixProps[10],matrixProps[11],matrixProps[12],matrixProps[13],matrixProps[14],matrixProps[15]);}function isIdentity(){if(!this._identityCalculated){this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1);this._identityCalculated=true;}return this._identity;}function equals(matr){var i=0;while(i<16){if(matr.props[i]!==this.props[i]){return false;}i+=1;}return true;}function clone(matr){var i;for(i=0;i<16;i+=1){matr.props[i]=this.props[i];}return matr;}function cloneFromProps(props){var i;for(i=0;i<16;i+=1){this.props[i]=props[i];}}function applyToPoint(x,y,z){return{x:x*this.props[0]+y*this.props[4]+z*this.props[8]+this.props[12],y:x*this.props[1]+y*this.props[5]+z*this.props[9]+this.props[13],z:x*this.props[2]+y*this.props[6]+z*this.props[10]+this.props[14]};/* return {\r\n           x: x * me.a + y * me.c + me.e,\r\n           y: x * me.b + y * me.d + me.f\r\n           }; */}function applyToX(x,y,z){return x*this.props[0]+y*this.props[4]+z*this.props[8]+this.props[12];}function applyToY(x,y,z){return x*this.props[1]+y*this.props[5]+z*this.props[9]+this.props[13];}function applyToZ(x,y,z){return x*this.props[2]+y*this.props[6]+z*this.props[10]+this.props[14];}function getInverseMatrix(){var determinant=this.props[0]*this.props[5]-this.props[1]*this.props[4];var a=this.props[5]/determinant;var b=-this.props[1]/determinant;var c=-this.props[4]/determinant;var d=this.props[0]/determinant;var e=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/determinant;var f=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/determinant;var inverseMatrix=new Matrix();inverseMatrix.props[0]=a;inverseMatrix.props[1]=b;inverseMatrix.props[4]=c;inverseMatrix.props[5]=d;inverseMatrix.props[12]=e;inverseMatrix.props[13]=f;return inverseMatrix;}function inversePoint(pt){var inverseMatrix=this.getInverseMatrix();return inverseMatrix.applyToPointArray(pt[0],pt[1],pt[2]||0);}function inversePoints(pts){var i;var len=pts.length;var retPts=[];for(i=0;i<len;i+=1){retPts[i]=inversePoint(pts[i]);}return retPts;}function applyToTriplePoints(pt1,pt2,pt3){var arr=createTypedArray('float32',6);if(this.isIdentity()){arr[0]=pt1[0];arr[1]=pt1[1];arr[2]=pt2[0];arr[3]=pt2[1];arr[4]=pt3[0];arr[5]=pt3[1];}else{var p0=this.props[0];var p1=this.props[1];var p4=this.props[4];var p5=this.props[5];var p12=this.props[12];var p13=this.props[13];arr[0]=pt1[0]*p0+pt1[1]*p4+p12;arr[1]=pt1[0]*p1+pt1[1]*p5+p13;arr[2]=pt2[0]*p0+pt2[1]*p4+p12;arr[3]=pt2[0]*p1+pt2[1]*p5+p13;arr[4]=pt3[0]*p0+pt3[1]*p4+p12;arr[5]=pt3[0]*p1+pt3[1]*p5+p13;}return arr;}function applyToPointArray(x,y,z){var arr;if(this.isIdentity()){arr=[x,y,z];}else{arr=[x*this.props[0]+y*this.props[4]+z*this.props[8]+this.props[12],x*this.props[1]+y*this.props[5]+z*this.props[9]+this.props[13],x*this.props[2]+y*this.props[6]+z*this.props[10]+this.props[14]];}return arr;}function applyToPointStringified(x,y){if(this.isIdentity()){return x+','+y;}var _p=this.props;return Math.round((x*_p[0]+y*_p[4]+_p[12])*100)/100+','+Math.round((x*_p[1]+y*_p[5]+_p[13])*100)/100;}function toCSS(){// Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\n/* if(this.isIdentity()) {\r\n              return '';\r\n          } */var i=0;var props=this.props;var cssValue='matrix3d(';var v=10000;while(i<16){cssValue+=_rnd(props[i]*v)/v;cssValue+=i===15?')':',';i+=1;}return cssValue;}function roundMatrixProperty(val){var v=10000;if(val<0.000001&&val>0||val>-0.000001&&val<0){return _rnd(val*v)/v;}return val;}function to2dCSS(){// Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\n/* if(this.isIdentity()) {\r\n              return '';\r\n          } */var props=this.props;var _a=roundMatrixProperty(props[0]);var _b=roundMatrixProperty(props[1]);var _c=roundMatrixProperty(props[4]);var _d=roundMatrixProperty(props[5]);var _e=roundMatrixProperty(props[12]);var _f=roundMatrixProperty(props[13]);return'matrix('+_a+','+_b+','+_c+','+_d+','+_e+','+_f+')';}return function(){this.reset=reset;this.rotate=rotate;this.rotateX=rotateX;this.rotateY=rotateY;this.rotateZ=rotateZ;this.skew=skew;this.skewFromAxis=skewFromAxis;this.shear=shear;this.scale=scale;this.setTransform=setTransform;this.translate=translate;this.transform=transform;this.multiply=multiply;this.applyToPoint=applyToPoint;this.applyToX=applyToX;this.applyToY=applyToY;this.applyToZ=applyToZ;this.applyToPointArray=applyToPointArray;this.applyToTriplePoints=applyToTriplePoints;this.applyToPointStringified=applyToPointStringified;this.toCSS=toCSS;this.to2dCSS=to2dCSS;this.clone=clone;this.cloneFromProps=cloneFromProps;this.equals=equals;this.inversePoints=inversePoints;this.inversePoint=inversePoint;this.getInverseMatrix=getInverseMatrix;this._t=this.transform;this.isIdentity=isIdentity;this._identity=true;this._identityCalculated=false;this.props=createTypedArray('float32',16);this.reset();};}();function _typeof$3(obj){\"@babel/helpers - typeof\";if(typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"){_typeof$3=function _typeof(obj){return typeof obj;};}else{_typeof$3=function _typeof(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;};}return _typeof$3(obj);}var lottie={};var standalone='__[STANDALONE]__';var animationData='__[ANIMATIONDATA]__';var renderer='';function setLocation(href){setLocationHref(href);}function searchAnimations(){if(standalone===true){animationManager.searchAnimations(animationData,standalone,renderer);}else{animationManager.searchAnimations();}}function setSubframeRendering(flag){setSubframeEnabled(flag);}function setPrefix(prefix){setIdPrefix(prefix);}function loadAnimation(params){if(standalone===true){params.animationData=JSON.parse(animationData);}return animationManager.loadAnimation(params);}function setQuality(value){if(typeof value==='string'){switch(value){case'high':setDefaultCurveSegments(200);break;default:case'medium':setDefaultCurveSegments(50);break;case'low':setDefaultCurveSegments(10);break;}}else if(!isNaN(value)&&value>1){setDefaultCurveSegments(value);}if(getDefaultCurveSegments()>=50){roundValues(false);}else{roundValues(true);}}function inBrowser(){return typeof navigator!=='undefined';}function installPlugin(type,plugin){if(type==='expressions'){setExpressionsPlugin(plugin);}}function getFactory(name){switch(name){case'propertyFactory':return PropertyFactory;case'shapePropertyFactory':return ShapePropertyFactory;case'matrix':return Matrix;default:return null;}}lottie.play=animationManager.play;lottie.pause=animationManager.pause;lottie.setLocationHref=setLocation;lottie.togglePause=animationManager.togglePause;lottie.setSpeed=animationManager.setSpeed;lottie.setDirection=animationManager.setDirection;lottie.stop=animationManager.stop;lottie.searchAnimations=searchAnimations;lottie.registerAnimation=animationManager.registerAnimation;lottie.loadAnimation=loadAnimation;lottie.setSubframeRendering=setSubframeRendering;lottie.resize=animationManager.resize;// lottie.start = start;\nlottie.goToAndStop=animationManager.goToAndStop;lottie.destroy=animationManager.destroy;lottie.setQuality=setQuality;lottie.inBrowser=inBrowser;lottie.installPlugin=installPlugin;lottie.freeze=animationManager.freeze;lottie.unfreeze=animationManager.unfreeze;lottie.setVolume=animationManager.setVolume;lottie.mute=animationManager.mute;lottie.unmute=animationManager.unmute;lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations;lottie.useWebWorker=setWebWorker;lottie.setIDPrefix=setPrefix;lottie.__getFactory=getFactory;lottie.version='5.12.2';function checkReady(){if(document.readyState==='complete'){clearInterval(readyStateCheckInterval);searchAnimations();}}function getQueryVariable(variable){var vars=queryString.split('&');for(var i=0;i<vars.length;i+=1){var pair=vars[i].split('=');if(decodeURIComponent(pair[0])==variable){// eslint-disable-line eqeqeq\nreturn decodeURIComponent(pair[1]);}}return null;}var queryString='';if(standalone){var scripts=document.getElementsByTagName('script');var index=scripts.length-1;var myScript=scripts[index]||{src:''};queryString=myScript.src?myScript.src.replace(/^[^\\?]+\\??/,''):'';// eslint-disable-line no-useless-escape\nrenderer=getQueryVariable('renderer');}var readyStateCheckInterval=setInterval(checkReady,100);// this adds bodymovin to the window object for backwards compatibility\ntry{if(!((typeof exports===\"undefined\"?\"undefined\":_typeof$3(exports))==='object'&&typeof module!=='undefined')&&!(typeof define==='function'&&define.amd)// eslint-disable-line no-undef\n){window.bodymovin=lottie;}}catch(err){//\n}var ShapeModifiers=function(){var ob={};var modifiers={};ob.registerModifier=registerModifier;ob.getModifier=getModifier;function registerModifier(nm,factory){if(!modifiers[nm]){modifiers[nm]=factory;}}function getModifier(nm,elem,data){return new modifiers[nm](elem,data);}return ob;}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){};ShapeModifier.prototype.addShapeToModifier=function(){};ShapeModifier.prototype.addShape=function(data){if(!this.closed){// Adding shape to dynamic properties. It covers the case where a shape has no effects applied, to reset it's _mdf state on every tick.\ndata.sh.container.addDynamicProperty(data.sh);var shapeData={shape:data.sh,data:data,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(shapeData);this.addShapeToModifier(shapeData);if(this._isAnimated){data.setAsAnimated();}}};ShapeModifier.prototype.init=function(elem,data){this.shapes=[];this.elem=elem;this.initDynamicPropertyContainer(elem);this.initModifierProperties(elem,data);this.frameId=initialDefaultFrame;this.closed=false;this.k=false;if(this.dynamicProperties.length){this.k=true;}else{this.getValue(true);}};ShapeModifier.prototype.processKeys=function(){if(this.elem.globalData.frameId===this.frameId){return;}this.frameId=this.elem.globalData.frameId;this.iterateDynamicProperties();};extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier);TrimModifier.prototype.initModifierProperties=function(elem,data){this.s=PropertyFactory.getProp(elem,data.s,0,0.01,this);this.e=PropertyFactory.getProp(elem,data.e,0,0.01,this);this.o=PropertyFactory.getProp(elem,data.o,0,0,this);this.sValue=0;this.eValue=0;this.getValue=this.processKeys;this.m=data.m;this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length;};TrimModifier.prototype.addShapeToModifier=function(shapeData){shapeData.pathsData=[];};TrimModifier.prototype.calculateShapeEdges=function(s,e,shapeLength,addedLength,totalModifierLength){var segments=[];if(e<=1){segments.push({s:s,e:e});}else if(s>=1){segments.push({s:s-1,e:e-1});}else{segments.push({s:s,e:1});segments.push({s:0,e:e-1});}var shapeSegments=[];var i;var len=segments.length;var segmentOb;for(i=0;i<len;i+=1){segmentOb=segments[i];if(!(segmentOb.e*totalModifierLength<addedLength||segmentOb.s*totalModifierLength>addedLength+shapeLength)){var shapeS;var shapeE;if(segmentOb.s*totalModifierLength<=addedLength){shapeS=0;}else{shapeS=(segmentOb.s*totalModifierLength-addedLength)/shapeLength;}if(segmentOb.e*totalModifierLength>=addedLength+shapeLength){shapeE=1;}else{shapeE=(segmentOb.e*totalModifierLength-addedLength)/shapeLength;}shapeSegments.push([shapeS,shapeE]);}}if(!shapeSegments.length){shapeSegments.push([0,0]);}return shapeSegments;};TrimModifier.prototype.releasePathsData=function(pathsData){var i;var len=pathsData.length;for(i=0;i<len;i+=1){segmentsLengthPool.release(pathsData[i]);}pathsData.length=0;return pathsData;};TrimModifier.prototype.processShapes=function(_isFirstFrame){var s;var e;if(this._mdf||_isFirstFrame){var o=this.o.v%360/360;if(o<0){o+=1;}if(this.s.v>1){s=1+o;}else if(this.s.v<0){s=0+o;}else{s=this.s.v+o;}if(this.e.v>1){e=1+o;}else if(this.e.v<0){e=0+o;}else{e=this.e.v+o;}if(s>e){var _s=s;s=e;e=_s;}s=Math.round(s*10000)*0.0001;e=Math.round(e*10000)*0.0001;this.sValue=s;this.eValue=e;}else{s=this.sValue;e=this.eValue;}var shapePaths;var i;var len=this.shapes.length;var j;var jLen;var pathsData;var pathData;var totalShapeLength;var totalModifierLength=0;if(e===s){for(i=0;i<len;i+=1){this.shapes[i].localShapeCollection.releaseShapes();this.shapes[i].shape._mdf=true;this.shapes[i].shape.paths=this.shapes[i].localShapeCollection;if(this._mdf){this.shapes[i].pathsData.length=0;}}}else if(!(e===1&&s===0||e===0&&s===1)){var segments=[];var shapeData;var localShapeCollection;for(i=0;i<len;i+=1){shapeData=this.shapes[i];// if shape hasn't changed and trim properties haven't changed, cached previous path can be used\nif(!shapeData.shape._mdf&&!this._mdf&&!_isFirstFrame&&this.m!==2){shapeData.shape.paths=shapeData.localShapeCollection;}else{shapePaths=shapeData.shape.paths;jLen=shapePaths._length;totalShapeLength=0;if(!shapeData.shape._mdf&&shapeData.pathsData.length){totalShapeLength=shapeData.totalShapeLength;}else{pathsData=this.releasePathsData(shapeData.pathsData);for(j=0;j<jLen;j+=1){pathData=bez.getSegmentsLength(shapePaths.shapes[j]);pathsData.push(pathData);totalShapeLength+=pathData.totalLength;}shapeData.totalShapeLength=totalShapeLength;shapeData.pathsData=pathsData;}totalModifierLength+=totalShapeLength;shapeData.shape._mdf=true;}}var shapeS=s;var shapeE=e;var addedLength=0;var edges;for(i=len-1;i>=0;i-=1){shapeData=this.shapes[i];if(shapeData.shape._mdf){localShapeCollection=shapeData.localShapeCollection;localShapeCollection.releaseShapes();// if m === 2 means paths are trimmed individually so edges need to be found for this specific shape relative to whoel group\nif(this.m===2&&len>1){edges=this.calculateShapeEdges(s,e,shapeData.totalShapeLength,addedLength,totalModifierLength);addedLength+=shapeData.totalShapeLength;}else{edges=[[shapeS,shapeE]];}jLen=edges.length;for(j=0;j<jLen;j+=1){shapeS=edges[j][0];shapeE=edges[j][1];segments.length=0;if(shapeE<=1){segments.push({s:shapeData.totalShapeLength*shapeS,e:shapeData.totalShapeLength*shapeE});}else if(shapeS>=1){segments.push({s:shapeData.totalShapeLength*(shapeS-1),e:shapeData.totalShapeLength*(shapeE-1)});}else{segments.push({s:shapeData.totalShapeLength*shapeS,e:shapeData.totalShapeLength});segments.push({s:0,e:shapeData.totalShapeLength*(shapeE-1)});}var newShapesData=this.addShapes(shapeData,segments[0]);if(segments[0].s!==segments[0].e){if(segments.length>1){var lastShapeInCollection=shapeData.shape.paths.shapes[shapeData.shape.paths._length-1];if(lastShapeInCollection.c){var lastShape=newShapesData.pop();this.addPaths(newShapesData,localShapeCollection);newShapesData=this.addShapes(shapeData,segments[1],lastShape);}else{this.addPaths(newShapesData,localShapeCollection);newShapesData=this.addShapes(shapeData,segments[1]);}}this.addPaths(newShapesData,localShapeCollection);}}shapeData.shape.paths=localShapeCollection;}}}else if(this._mdf){for(i=0;i<len;i+=1){// Releasign Trim Cached paths data when no trim applied in case shapes are modified inbetween.\n// Don't remove this even if it's losing cached info.\nthis.shapes[i].pathsData.length=0;this.shapes[i].shape._mdf=true;}}};TrimModifier.prototype.addPaths=function(newPaths,localShapeCollection){var i;var len=newPaths.length;for(i=0;i<len;i+=1){localShapeCollection.addShape(newPaths[i]);}};TrimModifier.prototype.addSegment=function(pt1,pt2,pt3,pt4,shapePath,pos,newShape){shapePath.setXYAt(pt2[0],pt2[1],'o',pos);shapePath.setXYAt(pt3[0],pt3[1],'i',pos+1);if(newShape){shapePath.setXYAt(pt1[0],pt1[1],'v',pos);}shapePath.setXYAt(pt4[0],pt4[1],'v',pos+1);};TrimModifier.prototype.addSegmentFromArray=function(points,shapePath,pos,newShape){shapePath.setXYAt(points[1],points[5],'o',pos);shapePath.setXYAt(points[2],points[6],'i',pos+1);if(newShape){shapePath.setXYAt(points[0],points[4],'v',pos);}shapePath.setXYAt(points[3],points[7],'v',pos+1);};TrimModifier.prototype.addShapes=function(shapeData,shapeSegment,shapePath){var pathsData=shapeData.pathsData;var shapePaths=shapeData.shape.paths.shapes;var i;var len=shapeData.shape.paths._length;var j;var jLen;var addedLength=0;var currentLengthData;var segmentCount;var lengths;var segment;var shapes=[];var initPos;var newShape=true;if(!shapePath){shapePath=shapePool.newElement();segmentCount=0;initPos=0;}else{segmentCount=shapePath._length;initPos=shapePath._length;}shapes.push(shapePath);for(i=0;i<len;i+=1){lengths=pathsData[i].lengths;shapePath.c=shapePaths[i].c;jLen=shapePaths[i].c?lengths.length:lengths.length+1;for(j=1;j<jLen;j+=1){currentLengthData=lengths[j-1];if(addedLength+currentLengthData.addedLength<shapeSegment.s){addedLength+=currentLengthData.addedLength;shapePath.c=false;}else if(addedLength>shapeSegment.e){shapePath.c=false;break;}else{if(shapeSegment.s<=addedLength&&shapeSegment.e>=addedLength+currentLengthData.addedLength){this.addSegment(shapePaths[i].v[j-1],shapePaths[i].o[j-1],shapePaths[i].i[j],shapePaths[i].v[j],shapePath,segmentCount,newShape);newShape=false;}else{segment=bez.getNewSegment(shapePaths[i].v[j-1],shapePaths[i].v[j],shapePaths[i].o[j-1],shapePaths[i].i[j],(shapeSegment.s-addedLength)/currentLengthData.addedLength,(shapeSegment.e-addedLength)/currentLengthData.addedLength,lengths[j-1]);this.addSegmentFromArray(segment,shapePath,segmentCount,newShape);// this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\nnewShape=false;shapePath.c=false;}addedLength+=currentLengthData.addedLength;segmentCount+=1;}}if(shapePaths[i].c&&lengths.length){currentLengthData=lengths[j-1];if(addedLength<=shapeSegment.e){var segmentLength=lengths[j-1].addedLength;if(shapeSegment.s<=addedLength&&shapeSegment.e>=addedLength+segmentLength){this.addSegment(shapePaths[i].v[j-1],shapePaths[i].o[j-1],shapePaths[i].i[0],shapePaths[i].v[0],shapePath,segmentCount,newShape);newShape=false;}else{segment=bez.getNewSegment(shapePaths[i].v[j-1],shapePaths[i].v[0],shapePaths[i].o[j-1],shapePaths[i].i[0],(shapeSegment.s-addedLength)/segmentLength,(shapeSegment.e-addedLength)/segmentLength,lengths[j-1]);this.addSegmentFromArray(segment,shapePath,segmentCount,newShape);// this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\nnewShape=false;shapePath.c=false;}}else{shapePath.c=false;}addedLength+=currentLengthData.addedLength;segmentCount+=1;}if(shapePath._length){shapePath.setXYAt(shapePath.v[initPos][0],shapePath.v[initPos][1],'i',initPos);shapePath.setXYAt(shapePath.v[shapePath._length-1][0],shapePath.v[shapePath._length-1][1],'o',shapePath._length-1);}if(addedLength>shapeSegment.e){break;}if(i<len-1){shapePath=shapePool.newElement();newShape=true;shapes.push(shapePath);segmentCount=0;}}return shapes;};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier);PuckerAndBloatModifier.prototype.initModifierProperties=function(elem,data){this.getValue=this.processKeys;this.amount=PropertyFactory.getProp(elem,data.a,0,null,this);this._isAnimated=!!this.amount.effectsSequence.length;};PuckerAndBloatModifier.prototype.processPath=function(path,amount){var percent=amount/100;var centerPoint=[0,0];var pathLength=path._length;var i=0;for(i=0;i<pathLength;i+=1){centerPoint[0]+=path.v[i][0];centerPoint[1]+=path.v[i][1];}centerPoint[0]/=pathLength;centerPoint[1]/=pathLength;var clonedPath=shapePool.newElement();clonedPath.c=path.c;var vX;var vY;var oX;var oY;var iX;var iY;for(i=0;i<pathLength;i+=1){vX=path.v[i][0]+(centerPoint[0]-path.v[i][0])*percent;vY=path.v[i][1]+(centerPoint[1]-path.v[i][1])*percent;oX=path.o[i][0]+(centerPoint[0]-path.o[i][0])*-percent;oY=path.o[i][1]+(centerPoint[1]-path.o[i][1])*-percent;iX=path.i[i][0]+(centerPoint[0]-path.i[i][0])*-percent;iY=path.i[i][1]+(centerPoint[1]-path.i[i][1])*-percent;clonedPath.setTripleAt(vX,vY,oX,oY,iX,iY,i);}return clonedPath;};PuckerAndBloatModifier.prototype.processShapes=function(_isFirstFrame){var shapePaths;var i;var len=this.shapes.length;var j;var jLen;var amount=this.amount.v;if(amount!==0){var shapeData;var localShapeCollection;for(i=0;i<len;i+=1){shapeData=this.shapes[i];localShapeCollection=shapeData.localShapeCollection;if(!(!shapeData.shape._mdf&&!this._mdf&&!_isFirstFrame)){localShapeCollection.releaseShapes();shapeData.shape._mdf=true;shapePaths=shapeData.shape.paths.shapes;jLen=shapeData.shape.paths._length;for(j=0;j<jLen;j+=1){localShapeCollection.addShape(this.processPath(shapePaths[j],amount));}}shapeData.shape.paths=shapeData.localShapeCollection;}}if(!this.dynamicProperties.length){this._mdf=false;}};var TransformPropertyFactory=function(){var defaultVector=[0,0];function applyToMatrix(mat){var _mdf=this._mdf;this.iterateDynamicProperties();this._mdf=this._mdf||_mdf;if(this.a){mat.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]);}if(this.s){mat.scale(this.s.v[0],this.s.v[1],this.s.v[2]);}if(this.sk){mat.skewFromAxis(-this.sk.v,this.sa.v);}if(this.r){mat.rotate(-this.r.v);}else{mat.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);}if(this.data.p.s){if(this.data.p.z){mat.translate(this.px.v,this.py.v,-this.pz.v);}else{mat.translate(this.px.v,this.py.v,0);}}else{mat.translate(this.p.v[0],this.p.v[1],-this.p.v[2]);}}function processKeys(forceRender){if(this.elem.globalData.frameId===this.frameId){return;}if(this._isDirty){this.precalculateMatrix();this._isDirty=false;}this.iterateDynamicProperties();if(this._mdf||forceRender){var frameRate;this.v.cloneFromProps(this.pre.props);if(this.appliedTransformations<1){this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]);}if(this.appliedTransformations<2){this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]);}if(this.sk&&this.appliedTransformations<3){this.v.skewFromAxis(-this.sk.v,this.sa.v);}if(this.r&&this.appliedTransformations<4){this.v.rotate(-this.r.v);}else if(!this.r&&this.appliedTransformations<4){this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);}if(this.autoOriented){var v1;var v2;frameRate=this.elem.globalData.frameRate;if(this.p&&this.p.keyframes&&this.p.getValueAtTime){if(this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t){v1=this.p.getValueAtTime((this.p.keyframes[0].t+0.01)/frameRate,0);v2=this.p.getValueAtTime(this.p.keyframes[0].t/frameRate,0);}else if(this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t){v1=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/frameRate,0);v2=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-0.05)/frameRate,0);}else{v1=this.p.pv;v2=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-0.01)/frameRate,this.p.offsetTime);}}else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){v1=[];v2=[];var px=this.px;var py=this.py;if(px._caching.lastFrame+px.offsetTime<=px.keyframes[0].t){v1[0]=px.getValueAtTime((px.keyframes[0].t+0.01)/frameRate,0);v1[1]=py.getValueAtTime((py.keyframes[0].t+0.01)/frameRate,0);v2[0]=px.getValueAtTime(px.keyframes[0].t/frameRate,0);v2[1]=py.getValueAtTime(py.keyframes[0].t/frameRate,0);}else if(px._caching.lastFrame+px.offsetTime>=px.keyframes[px.keyframes.length-1].t){v1[0]=px.getValueAtTime(px.keyframes[px.keyframes.length-1].t/frameRate,0);v1[1]=py.getValueAtTime(py.keyframes[py.keyframes.length-1].t/frameRate,0);v2[0]=px.getValueAtTime((px.keyframes[px.keyframes.length-1].t-0.01)/frameRate,0);v2[1]=py.getValueAtTime((py.keyframes[py.keyframes.length-1].t-0.01)/frameRate,0);}else{v1=[px.pv,py.pv];v2[0]=px.getValueAtTime((px._caching.lastFrame+px.offsetTime-0.01)/frameRate,px.offsetTime);v2[1]=py.getValueAtTime((py._caching.lastFrame+py.offsetTime-0.01)/frameRate,py.offsetTime);}}else{v2=defaultVector;v1=v2;}this.v.rotate(-Math.atan2(v1[1]-v2[1],v1[0]-v2[0]));}if(this.data.p&&this.data.p.s){if(this.data.p.z){this.v.translate(this.px.v,this.py.v,-this.pz.v);}else{this.v.translate(this.px.v,this.py.v,0);}}else{this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2]);}}this.frameId=this.elem.globalData.frameId;}function precalculateMatrix(){this.appliedTransformations=0;this.pre.reset();if(!this.a.effectsSequence.length){this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]);this.appliedTransformations=1;}else{return;}if(!this.s.effectsSequence.length){this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]);this.appliedTransformations=2;}else{return;}if(this.sk){if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length){this.pre.skewFromAxis(-this.sk.v,this.sa.v);this.appliedTransformations=3;}else{return;}}if(this.r){if(!this.r.effectsSequence.length){this.pre.rotate(-this.r.v);this.appliedTransformations=4;}}else if(!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length){this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);this.appliedTransformations=4;}}function autoOrient(){//\n// var prevP = this.getValueAtTime();\n}function addDynamicProperty(prop){this._addDynamicProperty(prop);this.elem.addDynamicProperty(prop);this._isDirty=true;}function TransformProperty(elem,data,container){this.elem=elem;this.frameId=-1;this.propType='transform';this.data=data;this.v=new Matrix();// Precalculated matrix with non animated properties\nthis.pre=new Matrix();this.appliedTransformations=0;this.initDynamicPropertyContainer(container||elem);if(data.p&&data.p.s){this.px=PropertyFactory.getProp(elem,data.p.x,0,0,this);this.py=PropertyFactory.getProp(elem,data.p.y,0,0,this);if(data.p.z){this.pz=PropertyFactory.getProp(elem,data.p.z,0,0,this);}}else{this.p=PropertyFactory.getProp(elem,data.p||{k:[0,0,0]},1,0,this);}if(data.rx){this.rx=PropertyFactory.getProp(elem,data.rx,0,degToRads,this);this.ry=PropertyFactory.getProp(elem,data.ry,0,degToRads,this);this.rz=PropertyFactory.getProp(elem,data.rz,0,degToRads,this);if(data.or.k[0].ti){var i;var len=data.or.k.length;for(i=0;i<len;i+=1){data.or.k[i].to=null;data.or.k[i].ti=null;}}this.or=PropertyFactory.getProp(elem,data.or,1,degToRads,this);// sh Indicates it needs to be capped between -180 and 180\nthis.or.sh=true;}else{this.r=PropertyFactory.getProp(elem,data.r||{k:0},0,degToRads,this);}if(data.sk){this.sk=PropertyFactory.getProp(elem,data.sk,0,degToRads,this);this.sa=PropertyFactory.getProp(elem,data.sa,0,degToRads,this);}this.a=PropertyFactory.getProp(elem,data.a||{k:[0,0,0]},1,0,this);this.s=PropertyFactory.getProp(elem,data.s||{k:[100,100,100]},1,0.01,this);// Opacity is not part of the transform properties, that's why it won't use this.dynamicProperties. That way transforms won't get updated if opacity changes.\nif(data.o){this.o=PropertyFactory.getProp(elem,data.o,0,0.01,elem);}else{this.o={_mdf:false,v:1};}this._isDirty=true;if(!this.dynamicProperties.length){this.getValue(true);}}TransformProperty.prototype={applyToMatrix:applyToMatrix,getValue:processKeys,precalculateMatrix:precalculateMatrix,autoOrient:autoOrient};extendPrototype([DynamicPropertyContainer],TransformProperty);TransformProperty.prototype.addDynamicProperty=addDynamicProperty;TransformProperty.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function getTransformProperty(elem,data,container){return new TransformProperty(elem,data,container);}return{getTransformProperty:getTransformProperty};}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier);RepeaterModifier.prototype.initModifierProperties=function(elem,data){this.getValue=this.processKeys;this.c=PropertyFactory.getProp(elem,data.c,0,null,this);this.o=PropertyFactory.getProp(elem,data.o,0,null,this);this.tr=TransformPropertyFactory.getTransformProperty(elem,data.tr,this);this.so=PropertyFactory.getProp(elem,data.tr.so,0,0.01,this);this.eo=PropertyFactory.getProp(elem,data.tr.eo,0,0.01,this);this.data=data;if(!this.dynamicProperties.length){this.getValue(true);}this._isAnimated=!!this.dynamicProperties.length;this.pMatrix=new Matrix();this.rMatrix=new Matrix();this.sMatrix=new Matrix();this.tMatrix=new Matrix();this.matrix=new Matrix();};RepeaterModifier.prototype.applyTransforms=function(pMatrix,rMatrix,sMatrix,transform,perc,inv){var dir=inv?-1:1;var scaleX=transform.s.v[0]+(1-transform.s.v[0])*(1-perc);var scaleY=transform.s.v[1]+(1-transform.s.v[1])*(1-perc);pMatrix.translate(transform.p.v[0]*dir*perc,transform.p.v[1]*dir*perc,transform.p.v[2]);rMatrix.translate(-transform.a.v[0],-transform.a.v[1],transform.a.v[2]);rMatrix.rotate(-transform.r.v*dir*perc);rMatrix.translate(transform.a.v[0],transform.a.v[1],transform.a.v[2]);sMatrix.translate(-transform.a.v[0],-transform.a.v[1],transform.a.v[2]);sMatrix.scale(inv?1/scaleX:scaleX,inv?1/scaleY:scaleY);sMatrix.translate(transform.a.v[0],transform.a.v[1],transform.a.v[2]);};RepeaterModifier.prototype.init=function(elem,arr,pos,elemsData){this.elem=elem;this.arr=arr;this.pos=pos;this.elemsData=elemsData;this._currentCopies=0;this._elements=[];this._groups=[];this.frameId=-1;this.initDynamicPropertyContainer(elem);this.initModifierProperties(elem,arr[pos]);while(pos>0){pos-=1;// this._elements.unshift(arr.splice(pos,1)[0]);\nthis._elements.unshift(arr[pos]);}if(this.dynamicProperties.length){this.k=true;}else{this.getValue(true);}};RepeaterModifier.prototype.resetElements=function(elements){var i;var len=elements.length;for(i=0;i<len;i+=1){elements[i]._processed=false;if(elements[i].ty==='gr'){this.resetElements(elements[i].it);}}};RepeaterModifier.prototype.cloneElements=function(elements){var newElements=JSON.parse(JSON.stringify(elements));this.resetElements(newElements);return newElements;};RepeaterModifier.prototype.changeGroupRender=function(elements,renderFlag){var i;var len=elements.length;for(i=0;i<len;i+=1){elements[i]._render=renderFlag;if(elements[i].ty==='gr'){this.changeGroupRender(elements[i].it,renderFlag);}}};RepeaterModifier.prototype.processShapes=function(_isFirstFrame){var items;var itemsTransform;var i;var dir;var cont;var hasReloaded=false;if(this._mdf||_isFirstFrame){var copies=Math.ceil(this.c.v);if(this._groups.length<copies){while(this._groups.length<copies){var group={it:this.cloneElements(this._elements),ty:'gr'};group.it.push({a:{a:0,ix:1,k:[0,0]},nm:'Transform',o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:'tr'});this.arr.splice(0,0,group);this._groups.splice(0,0,group);this._currentCopies+=1;}this.elem.reloadShapes();hasReloaded=true;}cont=0;var renderFlag;for(i=0;i<=this._groups.length-1;i+=1){renderFlag=cont<copies;this._groups[i]._render=renderFlag;this.changeGroupRender(this._groups[i].it,renderFlag);if(!renderFlag){var elems=this.elemsData[i].it;var transformData=elems[elems.length-1];if(transformData.transform.op.v!==0){transformData.transform.op._mdf=true;transformData.transform.op.v=0;}else{transformData.transform.op._mdf=false;}}cont+=1;}this._currentCopies=copies;/// /\nvar offset=this.o.v;var offsetModulo=offset%1;var roundOffset=offset>0?Math.floor(offset):Math.ceil(offset);var pProps=this.pMatrix.props;var rProps=this.rMatrix.props;var sProps=this.sMatrix.props;this.pMatrix.reset();this.rMatrix.reset();this.sMatrix.reset();this.tMatrix.reset();this.matrix.reset();var iteration=0;if(offset>0){while(iteration<roundOffset){this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,false);iteration+=1;}if(offsetModulo){this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,offsetModulo,false);iteration+=offsetModulo;}}else if(offset<0){while(iteration>roundOffset){this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,true);iteration-=1;}if(offsetModulo){this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-offsetModulo,true);iteration-=offsetModulo;}}i=this.data.m===1?0:this._currentCopies-1;dir=this.data.m===1?1:-1;cont=this._currentCopies;var j;var jLen;while(cont){items=this.elemsData[i].it;itemsTransform=items[items.length-1].transform.mProps.v.props;jLen=itemsTransform.length;items[items.length-1].transform.mProps._mdf=true;items[items.length-1].transform.op._mdf=true;items[items.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(i/(this._currentCopies-1));if(iteration!==0){if(i!==0&&dir===1||i!==this._currentCopies-1&&dir===-1){this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,false);}this.matrix.transform(rProps[0],rProps[1],rProps[2],rProps[3],rProps[4],rProps[5],rProps[6],rProps[7],rProps[8],rProps[9],rProps[10],rProps[11],rProps[12],rProps[13],rProps[14],rProps[15]);this.matrix.transform(sProps[0],sProps[1],sProps[2],sProps[3],sProps[4],sProps[5],sProps[6],sProps[7],sProps[8],sProps[9],sProps[10],sProps[11],sProps[12],sProps[13],sProps[14],sProps[15]);this.matrix.transform(pProps[0],pProps[1],pProps[2],pProps[3],pProps[4],pProps[5],pProps[6],pProps[7],pProps[8],pProps[9],pProps[10],pProps[11],pProps[12],pProps[13],pProps[14],pProps[15]);for(j=0;j<jLen;j+=1){itemsTransform[j]=this.matrix.props[j];}this.matrix.reset();}else{this.matrix.reset();for(j=0;j<jLen;j+=1){itemsTransform[j]=this.matrix.props[j];}}iteration+=1;cont-=1;i+=dir;}}else{cont=this._currentCopies;i=0;dir=1;while(cont){items=this.elemsData[i].it;itemsTransform=items[items.length-1].transform.mProps.v.props;items[items.length-1].transform.mProps._mdf=false;items[items.length-1].transform.op._mdf=false;cont-=1;i+=dir;}}return hasReloaded;};RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier);RoundCornersModifier.prototype.initModifierProperties=function(elem,data){this.getValue=this.processKeys;this.rd=PropertyFactory.getProp(elem,data.r,0,null,this);this._isAnimated=!!this.rd.effectsSequence.length;};RoundCornersModifier.prototype.processPath=function(path,round){var clonedPath=shapePool.newElement();clonedPath.c=path.c;var i;var len=path._length;var currentV;var currentI;var currentO;var closerV;var distance;var newPosPerc;var index=0;var vX;var vY;var oX;var oY;var iX;var iY;for(i=0;i<len;i+=1){currentV=path.v[i];currentO=path.o[i];currentI=path.i[i];if(currentV[0]===currentO[0]&&currentV[1]===currentO[1]&&currentV[0]===currentI[0]&&currentV[1]===currentI[1]){if((i===0||i===len-1)&&!path.c){clonedPath.setTripleAt(currentV[0],currentV[1],currentO[0],currentO[1],currentI[0],currentI[1],index);/* clonedPath.v[index] = currentV;\r\n                  clonedPath.o[index] = currentO;\r\n                  clonedPath.i[index] = currentI; */index+=1;}else{if(i===0){closerV=path.v[len-1];}else{closerV=path.v[i-1];}distance=Math.sqrt(Math.pow(currentV[0]-closerV[0],2)+Math.pow(currentV[1]-closerV[1],2));newPosPerc=distance?Math.min(distance/2,round)/distance:0;iX=currentV[0]+(closerV[0]-currentV[0])*newPosPerc;vX=iX;iY=currentV[1]-(currentV[1]-closerV[1])*newPosPerc;vY=iY;oX=vX-(vX-currentV[0])*roundCorner;oY=vY-(vY-currentV[1])*roundCorner;clonedPath.setTripleAt(vX,vY,oX,oY,iX,iY,index);index+=1;if(i===len-1){closerV=path.v[0];}else{closerV=path.v[i+1];}distance=Math.sqrt(Math.pow(currentV[0]-closerV[0],2)+Math.pow(currentV[1]-closerV[1],2));newPosPerc=distance?Math.min(distance/2,round)/distance:0;oX=currentV[0]+(closerV[0]-currentV[0])*newPosPerc;vX=oX;oY=currentV[1]+(closerV[1]-currentV[1])*newPosPerc;vY=oY;iX=vX-(vX-currentV[0])*roundCorner;iY=vY-(vY-currentV[1])*roundCorner;clonedPath.setTripleAt(vX,vY,oX,oY,iX,iY,index);index+=1;}}else{clonedPath.setTripleAt(path.v[i][0],path.v[i][1],path.o[i][0],path.o[i][1],path.i[i][0],path.i[i][1],index);index+=1;}}return clonedPath;};RoundCornersModifier.prototype.processShapes=function(_isFirstFrame){var shapePaths;var i;var len=this.shapes.length;var j;var jLen;var rd=this.rd.v;if(rd!==0){var shapeData;var localShapeCollection;for(i=0;i<len;i+=1){shapeData=this.shapes[i];localShapeCollection=shapeData.localShapeCollection;if(!(!shapeData.shape._mdf&&!this._mdf&&!_isFirstFrame)){localShapeCollection.releaseShapes();shapeData.shape._mdf=true;shapePaths=shapeData.shape.paths.shapes;jLen=shapeData.shape.paths._length;for(j=0;j<jLen;j+=1){localShapeCollection.addShape(this.processPath(shapePaths[j],rd));}}shapeData.shape.paths=shapeData.localShapeCollection;}}if(!this.dynamicProperties.length){this._mdf=false;}};function floatEqual(a,b){return Math.abs(a-b)*100000<=Math.min(Math.abs(a),Math.abs(b));}function floatZero(f){return Math.abs(f)<=0.00001;}function lerp(p0,p1,amount){return p0*(1-amount)+p1*amount;}function lerpPoint(p0,p1,amount){return[lerp(p0[0],p1[0],amount),lerp(p0[1],p1[1],amount)];}function quadRoots(a,b,c){// no root\nif(a===0)return[];var s=b*b-4*a*c;// Complex roots\nif(s<0)return[];var singleRoot=-b/(2*a);// 1 root\nif(s===0)return[singleRoot];var delta=Math.sqrt(s)/(2*a);// 2 roots\nreturn[singleRoot-delta,singleRoot+delta];}function polynomialCoefficients(p0,p1,p2,p3){return[-p0+3*p1-3*p2+p3,3*p0-6*p1+3*p2,-3*p0+3*p1,p0];}function singlePoint(p){return new PolynomialBezier(p,p,p,p,false);}function PolynomialBezier(p0,p1,p2,p3,linearize){if(linearize&&pointEqual(p0,p1)){p1=lerpPoint(p0,p3,1/3);}if(linearize&&pointEqual(p2,p3)){p2=lerpPoint(p0,p3,2/3);}var coeffx=polynomialCoefficients(p0[0],p1[0],p2[0],p3[0]);var coeffy=polynomialCoefficients(p0[1],p1[1],p2[1],p3[1]);this.a=[coeffx[0],coeffy[0]];this.b=[coeffx[1],coeffy[1]];this.c=[coeffx[2],coeffy[2]];this.d=[coeffx[3],coeffy[3]];this.points=[p0,p1,p2,p3];}PolynomialBezier.prototype.point=function(t){return[((this.a[0]*t+this.b[0])*t+this.c[0])*t+this.d[0],((this.a[1]*t+this.b[1])*t+this.c[1])*t+this.d[1]];};PolynomialBezier.prototype.derivative=function(t){return[(3*t*this.a[0]+2*this.b[0])*t+this.c[0],(3*t*this.a[1]+2*this.b[1])*t+this.c[1]];};PolynomialBezier.prototype.tangentAngle=function(t){var p=this.derivative(t);return Math.atan2(p[1],p[0]);};PolynomialBezier.prototype.normalAngle=function(t){var p=this.derivative(t);return Math.atan2(p[0],p[1]);};PolynomialBezier.prototype.inflectionPoints=function(){var denom=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(denom))return[];var tcusp=-0.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/denom;var square=tcusp*tcusp-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/denom;if(square<0)return[];var root=Math.sqrt(square);if(floatZero(root)){if(root>0&&root<1)return[tcusp];return[];}return[tcusp-root,tcusp+root].filter(function(r){return r>0&&r<1;});};PolynomialBezier.prototype.split=function(t){if(t<=0)return[singlePoint(this.points[0]),this];if(t>=1)return[this,singlePoint(this.points[this.points.length-1])];var p10=lerpPoint(this.points[0],this.points[1],t);var p11=lerpPoint(this.points[1],this.points[2],t);var p12=lerpPoint(this.points[2],this.points[3],t);var p20=lerpPoint(p10,p11,t);var p21=lerpPoint(p11,p12,t);var p3=lerpPoint(p20,p21,t);return[new PolynomialBezier(this.points[0],p10,p20,p3,true),new PolynomialBezier(p3,p21,p12,this.points[3],true)];};function extrema(bez,comp){var min=bez.points[0][comp];var max=bez.points[bez.points.length-1][comp];if(min>max){var e=max;max=min;min=e;}// Derivative roots to find min/max\nvar f=quadRoots(3*bez.a[comp],2*bez.b[comp],bez.c[comp]);for(var i=0;i<f.length;i+=1){if(f[i]>0&&f[i]<1){var val=bez.point(f[i])[comp];if(val<min)min=val;else if(val>max)max=val;}}return{min:min,max:max};}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)};};PolynomialBezier.prototype.boundingBox=function(){var bounds=this.bounds();return{left:bounds.x.min,right:bounds.x.max,top:bounds.y.min,bottom:bounds.y.max,width:bounds.x.max-bounds.x.min,height:bounds.y.max-bounds.y.min,cx:(bounds.x.max+bounds.x.min)/2,cy:(bounds.y.max+bounds.y.min)/2};};function intersectData(bez,t1,t2){var box=bez.boundingBox();return{cx:box.cx,cy:box.cy,width:box.width,height:box.height,bez:bez,t:(t1+t2)/2,t1:t1,t2:t2};}function splitData(data){var split=data.bez.split(0.5);return[intersectData(split[0],data.t1,data.t),intersectData(split[1],data.t,data.t2)];}function boxIntersect(b1,b2){return Math.abs(b1.cx-b2.cx)*2<b1.width+b2.width&&Math.abs(b1.cy-b2.cy)*2<b1.height+b2.height;}function intersectsImpl(d1,d2,depth,tolerance,intersections,maxRecursion){if(!boxIntersect(d1,d2))return;if(depth>=maxRecursion||d1.width<=tolerance&&d1.height<=tolerance&&d2.width<=tolerance&&d2.height<=tolerance){intersections.push([d1.t,d2.t]);return;}var d1s=splitData(d1);var d2s=splitData(d2);intersectsImpl(d1s[0],d2s[0],depth+1,tolerance,intersections,maxRecursion);intersectsImpl(d1s[0],d2s[1],depth+1,tolerance,intersections,maxRecursion);intersectsImpl(d1s[1],d2s[0],depth+1,tolerance,intersections,maxRecursion);intersectsImpl(d1s[1],d2s[1],depth+1,tolerance,intersections,maxRecursion);}PolynomialBezier.prototype.intersections=function(other,tolerance,maxRecursion){if(tolerance===undefined)tolerance=2;if(maxRecursion===undefined)maxRecursion=7;var intersections=[];intersectsImpl(intersectData(this,0,1),intersectData(other,0,1),0,tolerance,intersections,maxRecursion);return intersections;};PolynomialBezier.shapeSegment=function(shapePath,index){var nextIndex=(index+1)%shapePath.length();return new PolynomialBezier(shapePath.v[index],shapePath.o[index],shapePath.i[nextIndex],shapePath.v[nextIndex],true);};PolynomialBezier.shapeSegmentInverted=function(shapePath,index){var nextIndex=(index+1)%shapePath.length();return new PolynomialBezier(shapePath.v[nextIndex],shapePath.i[nextIndex],shapePath.o[index],shapePath.v[index],true);};function crossProduct(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]];}function lineIntersection(start1,end1,start2,end2){var v1=[start1[0],start1[1],1];var v2=[end1[0],end1[1],1];var v3=[start2[0],start2[1],1];var v4=[end2[0],end2[1],1];var r=crossProduct(crossProduct(v1,v2),crossProduct(v3,v4));if(floatZero(r[2]))return null;return[r[0]/r[2],r[1]/r[2]];}function polarOffset(p,angle,length){return[p[0]+Math.cos(angle)*length,p[1]-Math.sin(angle)*length];}function pointDistance(p1,p2){return Math.hypot(p1[0]-p2[0],p1[1]-p2[1]);}function pointEqual(p1,p2){return floatEqual(p1[0],p2[0])&&floatEqual(p1[1],p2[1]);}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier);ZigZagModifier.prototype.initModifierProperties=function(elem,data){this.getValue=this.processKeys;this.amplitude=PropertyFactory.getProp(elem,data.s,0,null,this);this.frequency=PropertyFactory.getProp(elem,data.r,0,null,this);this.pointsType=PropertyFactory.getProp(elem,data.pt,0,null,this);this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0;};function setPoint(outputBezier,point,angle,direction,amplitude,outAmplitude,inAmplitude){var angO=angle-Math.PI/2;var angI=angle+Math.PI/2;var px=point[0]+Math.cos(angle)*direction*amplitude;var py=point[1]-Math.sin(angle)*direction*amplitude;outputBezier.setTripleAt(px,py,px+Math.cos(angO)*outAmplitude,py-Math.sin(angO)*outAmplitude,px+Math.cos(angI)*inAmplitude,py-Math.sin(angI)*inAmplitude,outputBezier.length());}function getPerpendicularVector(pt1,pt2){var vector=[pt2[0]-pt1[0],pt2[1]-pt1[1]];var rot=-Math.PI*0.5;var rotatedVector=[Math.cos(rot)*vector[0]-Math.sin(rot)*vector[1],Math.sin(rot)*vector[0]+Math.cos(rot)*vector[1]];return rotatedVector;}function getProjectingAngle(path,cur){var prevIndex=cur===0?path.length()-1:cur-1;var nextIndex=(cur+1)%path.length();var prevPoint=path.v[prevIndex];var nextPoint=path.v[nextIndex];var pVector=getPerpendicularVector(prevPoint,nextPoint);return Math.atan2(0,1)-Math.atan2(pVector[1],pVector[0]);}function zigZagCorner(outputBezier,path,cur,amplitude,frequency,pointType,direction){var angle=getProjectingAngle(path,cur);var point=path.v[cur%path._length];var prevPoint=path.v[cur===0?path._length-1:cur-1];var nextPoint=path.v[(cur+1)%path._length];var prevDist=pointType===2?Math.sqrt(Math.pow(point[0]-prevPoint[0],2)+Math.pow(point[1]-prevPoint[1],2)):0;var nextDist=pointType===2?Math.sqrt(Math.pow(point[0]-nextPoint[0],2)+Math.pow(point[1]-nextPoint[1],2)):0;setPoint(outputBezier,path.v[cur%path._length],angle,direction,amplitude,nextDist/((frequency+1)*2),prevDist/((frequency+1)*2),pointType);}function zigZagSegment(outputBezier,segment,amplitude,frequency,pointType,direction){for(var i=0;i<frequency;i+=1){var t=(i+1)/(frequency+1);var dist=pointType===2?Math.sqrt(Math.pow(segment.points[3][0]-segment.points[0][0],2)+Math.pow(segment.points[3][1]-segment.points[0][1],2)):0;var angle=segment.normalAngle(t);var point=segment.point(t);setPoint(outputBezier,point,angle,direction,amplitude,dist/((frequency+1)*2),dist/((frequency+1)*2),pointType);direction=-direction;}return direction;}ZigZagModifier.prototype.processPath=function(path,amplitude,frequency,pointType){var count=path._length;var clonedPath=shapePool.newElement();clonedPath.c=path.c;if(!path.c){count-=1;}if(count===0)return clonedPath;var direction=-1;var segment=PolynomialBezier.shapeSegment(path,0);zigZagCorner(clonedPath,path,0,amplitude,frequency,pointType,direction);for(var i=0;i<count;i+=1){direction=zigZagSegment(clonedPath,segment,amplitude,frequency,pointType,-direction);if(i===count-1&&!path.c){segment=null;}else{segment=PolynomialBezier.shapeSegment(path,(i+1)%count);}zigZagCorner(clonedPath,path,i+1,amplitude,frequency,pointType,direction);}return clonedPath;};ZigZagModifier.prototype.processShapes=function(_isFirstFrame){var shapePaths;var i;var len=this.shapes.length;var j;var jLen;var amplitude=this.amplitude.v;var frequency=Math.max(0,Math.round(this.frequency.v));var pointType=this.pointsType.v;if(amplitude!==0){var shapeData;var localShapeCollection;for(i=0;i<len;i+=1){shapeData=this.shapes[i];localShapeCollection=shapeData.localShapeCollection;if(!(!shapeData.shape._mdf&&!this._mdf&&!_isFirstFrame)){localShapeCollection.releaseShapes();shapeData.shape._mdf=true;shapePaths=shapeData.shape.paths.shapes;jLen=shapeData.shape.paths._length;for(j=0;j<jLen;j+=1){localShapeCollection.addShape(this.processPath(shapePaths[j],amplitude,frequency,pointType));}}shapeData.shape.paths=shapeData.localShapeCollection;}}if(!this.dynamicProperties.length){this._mdf=false;}};function linearOffset(p1,p2,amount){var angle=Math.atan2(p2[0]-p1[0],p2[1]-p1[1]);return[polarOffset(p1,angle,amount),polarOffset(p2,angle,amount)];}function offsetSegment(segment,amount){var p0;var p1a;var p1b;var p2b;var p2a;var p3;var e;e=linearOffset(segment.points[0],segment.points[1],amount);p0=e[0];p1a=e[1];e=linearOffset(segment.points[1],segment.points[2],amount);p1b=e[0];p2b=e[1];e=linearOffset(segment.points[2],segment.points[3],amount);p2a=e[0];p3=e[1];var p1=lineIntersection(p0,p1a,p1b,p2b);if(p1===null)p1=p1a;var p2=lineIntersection(p2a,p3,p1b,p2b);if(p2===null)p2=p2a;return new PolynomialBezier(p0,p1,p2,p3);}function joinLines(outputBezier,seg1,seg2,lineJoin,miterLimit){var p0=seg1.points[3];var p1=seg2.points[0];// Bevel\nif(lineJoin===3)return p0;// Connected, they don't need a joint\nif(pointEqual(p0,p1))return p0;// Round\nif(lineJoin===2){var angleOut=-seg1.tangentAngle(1);var angleIn=-seg2.tangentAngle(0)+Math.PI;var center=lineIntersection(p0,polarOffset(p0,angleOut+Math.PI/2,100),p1,polarOffset(p1,angleOut+Math.PI/2,100));var radius=center?pointDistance(center,p0):pointDistance(p0,p1)/2;var tan=polarOffset(p0,angleOut,2*radius*roundCorner);outputBezier.setXYAt(tan[0],tan[1],'o',outputBezier.length()-1);tan=polarOffset(p1,angleIn,2*radius*roundCorner);outputBezier.setTripleAt(p1[0],p1[1],p1[0],p1[1],tan[0],tan[1],outputBezier.length());return p1;}// Miter\nvar t0=pointEqual(p0,seg1.points[2])?seg1.points[0]:seg1.points[2];var t1=pointEqual(p1,seg2.points[1])?seg2.points[3]:seg2.points[1];var intersection=lineIntersection(t0,p0,p1,t1);if(intersection&&pointDistance(intersection,p0)<miterLimit){outputBezier.setTripleAt(intersection[0],intersection[1],intersection[0],intersection[1],intersection[0],intersection[1],outputBezier.length());return intersection;}return p0;}function getIntersection(a,b){var intersect=a.intersections(b);if(intersect.length&&floatEqual(intersect[0][0],1))intersect.shift();if(intersect.length)return intersect[0];return null;}function pruneSegmentIntersection(a,b){var outa=a.slice();var outb=b.slice();var intersect=getIntersection(a[a.length-1],b[0]);if(intersect){outa[a.length-1]=a[a.length-1].split(intersect[0])[0];outb[0]=b[0].split(intersect[1])[1];}if(a.length>1&&b.length>1){intersect=getIntersection(a[0],b[b.length-1]);if(intersect){return[[a[0].split(intersect[0])[0]],[b[b.length-1].split(intersect[1])[1]]];}}return[outa,outb];}function pruneIntersections(segments){var e;for(var i=1;i<segments.length;i+=1){e=pruneSegmentIntersection(segments[i-1],segments[i]);segments[i-1]=e[0];segments[i]=e[1];}if(segments.length>1){e=pruneSegmentIntersection(segments[segments.length-1],segments[0]);segments[segments.length-1]=e[0];segments[0]=e[1];}return segments;}function offsetSegmentSplit(segment,amount){/*\r\n      We split each bezier segment into smaller pieces based\r\n      on inflection points, this ensures the control point\r\n      polygon is convex.\r\n        (A cubic bezier can have none, one, or two inflection points)\r\n    */var flex=segment.inflectionPoints();var left;var right;var split;var mid;if(flex.length===0){return[offsetSegment(segment,amount)];}if(flex.length===1||floatEqual(flex[1],1)){split=segment.split(flex[0]);left=split[0];right=split[1];return[offsetSegment(left,amount),offsetSegment(right,amount)];}split=segment.split(flex[0]);left=split[0];var t=(flex[1]-flex[0])/(1-flex[0]);split=split[1].split(t);mid=split[0];right=split[1];return[offsetSegment(left,amount),offsetSegment(mid,amount),offsetSegment(right,amount)];}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier);OffsetPathModifier.prototype.initModifierProperties=function(elem,data){this.getValue=this.processKeys;this.amount=PropertyFactory.getProp(elem,data.a,0,null,this);this.miterLimit=PropertyFactory.getProp(elem,data.ml,0,null,this);this.lineJoin=data.lj;this._isAnimated=this.amount.effectsSequence.length!==0;};OffsetPathModifier.prototype.processPath=function(inputBezier,amount,lineJoin,miterLimit){var outputBezier=shapePool.newElement();outputBezier.c=inputBezier.c;var count=inputBezier.length();if(!inputBezier.c){count-=1;}var i;var j;var segment;var multiSegments=[];for(i=0;i<count;i+=1){segment=PolynomialBezier.shapeSegment(inputBezier,i);multiSegments.push(offsetSegmentSplit(segment,amount));}if(!inputBezier.c){for(i=count-1;i>=0;i-=1){segment=PolynomialBezier.shapeSegmentInverted(inputBezier,i);multiSegments.push(offsetSegmentSplit(segment,amount));}}multiSegments=pruneIntersections(multiSegments);// Add bezier segments to the output and apply line joints\nvar lastPoint=null;var lastSeg=null;for(i=0;i<multiSegments.length;i+=1){var multiSegment=multiSegments[i];if(lastSeg)lastPoint=joinLines(outputBezier,lastSeg,multiSegment[0],lineJoin,miterLimit);lastSeg=multiSegment[multiSegment.length-1];for(j=0;j<multiSegment.length;j+=1){segment=multiSegment[j];if(lastPoint&&pointEqual(segment.points[0],lastPoint)){outputBezier.setXYAt(segment.points[1][0],segment.points[1][1],'o',outputBezier.length()-1);}else{outputBezier.setTripleAt(segment.points[0][0],segment.points[0][1],segment.points[1][0],segment.points[1][1],segment.points[0][0],segment.points[0][1],outputBezier.length());}outputBezier.setTripleAt(segment.points[3][0],segment.points[3][1],segment.points[3][0],segment.points[3][1],segment.points[2][0],segment.points[2][1],outputBezier.length());lastPoint=segment.points[3];}}if(multiSegments.length)joinLines(outputBezier,lastSeg,multiSegments[0][0],lineJoin,miterLimit);return outputBezier;};OffsetPathModifier.prototype.processShapes=function(_isFirstFrame){var shapePaths;var i;var len=this.shapes.length;var j;var jLen;var amount=this.amount.v;var miterLimit=this.miterLimit.v;var lineJoin=this.lineJoin;if(amount!==0){var shapeData;var localShapeCollection;for(i=0;i<len;i+=1){shapeData=this.shapes[i];localShapeCollection=shapeData.localShapeCollection;if(!(!shapeData.shape._mdf&&!this._mdf&&!_isFirstFrame)){localShapeCollection.releaseShapes();shapeData.shape._mdf=true;shapePaths=shapeData.shape.paths.shapes;jLen=shapeData.shape.paths._length;for(j=0;j<jLen;j+=1){localShapeCollection.addShape(this.processPath(shapePaths[j],amount,lineJoin,miterLimit));}}shapeData.shape.paths=shapeData.localShapeCollection;}}if(!this.dynamicProperties.length){this._mdf=false;}};function getFontProperties(fontData){var styles=fontData.fStyle?fontData.fStyle.split(' '):[];var fWeight='normal';var fStyle='normal';var len=styles.length;var styleName;for(var i=0;i<len;i+=1){styleName=styles[i].toLowerCase();switch(styleName){case'italic':fStyle='italic';break;case'bold':fWeight='700';break;case'black':fWeight='900';break;case'medium':fWeight='500';break;case'regular':case'normal':fWeight='400';break;case'light':case'thin':fWeight='200';break;default:break;}}return{style:fStyle,weight:fontData.fWeight||fWeight};}var FontManager=function(){var maxWaitingTime=5000;var emptyChar={w:0,size:0,shapes:[],data:{shapes:[]}};var combinedCharacters=[];// Hindi characters\ncombinedCharacters=combinedCharacters.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var BLACK_FLAG_CODE_POINT=127988;var CANCEL_TAG_CODE_POINT=917631;var A_TAG_CODE_POINT=917601;var Z_TAG_CODE_POINT=917626;var VARIATION_SELECTOR_16_CODE_POINT=65039;var ZERO_WIDTH_JOINER_CODE_POINT=8205;var REGIONAL_CHARACTER_A_CODE_POINT=127462;var REGIONAL_CHARACTER_Z_CODE_POINT=127487;var surrogateModifiers=['d83cdffb','d83cdffc','d83cdffd','d83cdffe','d83cdfff'];function trimFontOptions(font){var familyArray=font.split(',');var i;var len=familyArray.length;var enabledFamilies=[];for(i=0;i<len;i+=1){if(familyArray[i]!=='sans-serif'&&familyArray[i]!=='monospace'){enabledFamilies.push(familyArray[i]);}}return enabledFamilies.join(',');}function setUpNode(font,family){var parentNode=createTag('span');// Node is invisible to screen readers.\nparentNode.setAttribute('aria-hidden',true);parentNode.style.fontFamily=family;var node=createTag('span');// Characters that vary significantly among different fonts\nnode.innerText='giItT1WQy@!-/#';// Visible - so we can measure it - but not on the screen\nparentNode.style.position='absolute';parentNode.style.left='-10000px';parentNode.style.top='-10000px';// Large font size makes even subtle changes obvious\nparentNode.style.fontSize='300px';// Reset any font properties\nparentNode.style.fontVariant='normal';parentNode.style.fontStyle='normal';parentNode.style.fontWeight='normal';parentNode.style.letterSpacing='0';parentNode.appendChild(node);document.body.appendChild(parentNode);// Remember width with no applied web font\nvar width=node.offsetWidth;node.style.fontFamily=trimFontOptions(font)+', '+family;return{node:node,w:width,parent:parentNode};}function checkLoadedFonts(){var i;var len=this.fonts.length;var node;var w;var loadedCount=len;for(i=0;i<len;i+=1){if(this.fonts[i].loaded){loadedCount-=1;}else if(this.fonts[i].fOrigin==='n'||this.fonts[i].origin===0){this.fonts[i].loaded=true;}else{node=this.fonts[i].monoCase.node;w=this.fonts[i].monoCase.w;if(node.offsetWidth!==w){loadedCount-=1;this.fonts[i].loaded=true;}else{node=this.fonts[i].sansCase.node;w=this.fonts[i].sansCase.w;if(node.offsetWidth!==w){loadedCount-=1;this.fonts[i].loaded=true;}}if(this.fonts[i].loaded){this.fonts[i].sansCase.parent.parentNode.removeChild(this.fonts[i].sansCase.parent);this.fonts[i].monoCase.parent.parentNode.removeChild(this.fonts[i].monoCase.parent);}}}if(loadedCount!==0&&Date.now()-this.initTime<maxWaitingTime){setTimeout(this.checkLoadedFontsBinded,20);}else{setTimeout(this.setIsLoadedBinded,10);}}function createHelper(fontData,def){var engine=document.body&&def?'svg':'canvas';var helper;var fontProps=getFontProperties(fontData);if(engine==='svg'){var tHelper=createNS('text');tHelper.style.fontSize='100px';// tHelper.style.fontFamily = fontData.fFamily;\ntHelper.setAttribute('font-family',fontData.fFamily);tHelper.setAttribute('font-style',fontProps.style);tHelper.setAttribute('font-weight',fontProps.weight);tHelper.textContent='1';if(fontData.fClass){tHelper.style.fontFamily='inherit';tHelper.setAttribute('class',fontData.fClass);}else{tHelper.style.fontFamily=fontData.fFamily;}def.appendChild(tHelper);helper=tHelper;}else{var tCanvasHelper=new OffscreenCanvas(500,500).getContext('2d');tCanvasHelper.font=fontProps.style+' '+fontProps.weight+' 100px '+fontData.fFamily;helper=tCanvasHelper;}function measure(text){if(engine==='svg'){helper.textContent=text;return helper.getComputedTextLength();}return helper.measureText(text).width;}return{measureText:measure};}function addFonts(fontData,defs){if(!fontData){this.isLoaded=true;return;}if(this.chars){this.isLoaded=true;this.fonts=fontData.list;return;}if(!document.body){this.isLoaded=true;fontData.list.forEach(function(data){data.helper=createHelper(data);data.cache={};});this.fonts=fontData.list;return;}var fontArr=fontData.list;var i;var len=fontArr.length;var _pendingFonts=len;for(i=0;i<len;i+=1){var shouldLoadFont=true;var loadedSelector;var j;fontArr[i].loaded=false;fontArr[i].monoCase=setUpNode(fontArr[i].fFamily,'monospace');fontArr[i].sansCase=setUpNode(fontArr[i].fFamily,'sans-serif');if(!fontArr[i].fPath){fontArr[i].loaded=true;_pendingFonts-=1;}else if(fontArr[i].fOrigin==='p'||fontArr[i].origin===3){loadedSelector=document.querySelectorAll('style[f-forigin=\"p\"][f-family=\"'+fontArr[i].fFamily+'\"], style[f-origin=\"3\"][f-family=\"'+fontArr[i].fFamily+'\"]');if(loadedSelector.length>0){shouldLoadFont=false;}if(shouldLoadFont){var s=createTag('style');s.setAttribute('f-forigin',fontArr[i].fOrigin);s.setAttribute('f-origin',fontArr[i].origin);s.setAttribute('f-family',fontArr[i].fFamily);s.type='text/css';s.innerText='@font-face {font-family: '+fontArr[i].fFamily+\"; font-style: normal; src: url('\"+fontArr[i].fPath+\"');}\";defs.appendChild(s);}}else if(fontArr[i].fOrigin==='g'||fontArr[i].origin===1){loadedSelector=document.querySelectorAll('link[f-forigin=\"g\"], link[f-origin=\"1\"]');for(j=0;j<loadedSelector.length;j+=1){if(loadedSelector[j].href.indexOf(fontArr[i].fPath)!==-1){// Font is already loaded\nshouldLoadFont=false;}}if(shouldLoadFont){var l=createTag('link');l.setAttribute('f-forigin',fontArr[i].fOrigin);l.setAttribute('f-origin',fontArr[i].origin);l.type='text/css';l.rel='stylesheet';l.href=fontArr[i].fPath;document.body.appendChild(l);}}else if(fontArr[i].fOrigin==='t'||fontArr[i].origin===2){loadedSelector=document.querySelectorAll('script[f-forigin=\"t\"], script[f-origin=\"2\"]');for(j=0;j<loadedSelector.length;j+=1){if(fontArr[i].fPath===loadedSelector[j].src){// Font is already loaded\nshouldLoadFont=false;}}if(shouldLoadFont){var sc=createTag('link');sc.setAttribute('f-forigin',fontArr[i].fOrigin);sc.setAttribute('f-origin',fontArr[i].origin);sc.setAttribute('rel','stylesheet');sc.setAttribute('href',fontArr[i].fPath);defs.appendChild(sc);}}fontArr[i].helper=createHelper(fontArr[i],defs);fontArr[i].cache={};this.fonts.push(fontArr[i]);}if(_pendingFonts===0){this.isLoaded=true;}else{// On some cases even if the font is loaded, it won't load correctly when measuring text on canvas.\n// Adding this timeout seems to fix it\nsetTimeout(this.checkLoadedFonts.bind(this),100);}}function addChars(chars){if(!chars){return;}if(!this.chars){this.chars=[];}var i;var len=chars.length;var j;var jLen=this.chars.length;var found;for(i=0;i<len;i+=1){j=0;found=false;while(j<jLen){if(this.chars[j].style===chars[i].style&&this.chars[j].fFamily===chars[i].fFamily&&this.chars[j].ch===chars[i].ch){found=true;}j+=1;}if(!found){this.chars.push(chars[i]);jLen+=1;}}}function getCharData(_char,style,font){var i=0;var len=this.chars.length;while(i<len){if(this.chars[i].ch===_char&&this.chars[i].style===style&&this.chars[i].fFamily===font){return this.chars[i];}i+=1;}if((typeof _char==='string'&&_char.charCodeAt(0)!==13||!_char)&&console&&console.warn// eslint-disable-line no-console\n&&!this._warned){this._warned=true;console.warn('Missing character from exported characters list: ',_char,style,font);// eslint-disable-line no-console\n}return emptyChar;}function measureText(_char2,fontName,size){var fontData=this.getFontByName(fontName);// Using the char instead of char.charCodeAt(0)\n// to avoid collisions between equal chars\nvar index=_char2;if(!fontData.cache[index]){var tHelper=fontData.helper;if(_char2===' '){var doubleSize=tHelper.measureText('|'+_char2+'|');var singleSize=tHelper.measureText('||');fontData.cache[index]=(doubleSize-singleSize)/100;}else{fontData.cache[index]=tHelper.measureText(_char2)/100;}}return fontData.cache[index]*size;}function getFontByName(name){var i=0;var len=this.fonts.length;while(i<len){if(this.fonts[i].fName===name){return this.fonts[i];}i+=1;}return this.fonts[0];}function getCodePoint(string){var codePoint=0;var first=string.charCodeAt(0);if(first>=0xD800&&first<=0xDBFF){var second=string.charCodeAt(1);if(second>=0xDC00&&second<=0xDFFF){codePoint=(first-0xD800)*0x400+second-0xDC00+0x10000;}}return codePoint;}// Skin tone modifiers\nfunction isModifier(firstCharCode,secondCharCode){var sum=firstCharCode.toString(16)+secondCharCode.toString(16);return surrogateModifiers.indexOf(sum)!==-1;}function isZeroWidthJoiner(charCode){return charCode===ZERO_WIDTH_JOINER_CODE_POINT;}// This codepoint may change the appearance of the preceding character.\n// If that is a symbol, dingbat or emoji, U+FE0F forces it to be rendered\n// as a colorful image as compared to a monochrome text variant.\nfunction isVariationSelector(charCode){return charCode===VARIATION_SELECTOR_16_CODE_POINT;}// The regional indicator symbols are a set of 26 alphabetic Unicode\n/// characters (AZ) intended to be used to encode ISO 3166-1 alpha-2\n// two-letter country codes in a way that allows optional special treatment.\nfunction isRegionalCode(string){var codePoint=getCodePoint(string);if(codePoint>=REGIONAL_CHARACTER_A_CODE_POINT&&codePoint<=REGIONAL_CHARACTER_Z_CODE_POINT){return true;}return false;}// Some Emoji implementations represent combinations of\n// two regional indicator letters as a single flag symbol.\nfunction isFlagEmoji(string){return isRegionalCode(string.substr(0,2))&&isRegionalCode(string.substr(2,2));}function isCombinedCharacter(_char3){return combinedCharacters.indexOf(_char3)!==-1;}// Regional flags start with a BLACK_FLAG_CODE_POINT\n// folowed by 5 chars in the TAG range\n// and end with a CANCEL_TAG_CODE_POINT\nfunction isRegionalFlag(text,index){var codePoint=getCodePoint(text.substr(index,2));if(codePoint!==BLACK_FLAG_CODE_POINT){return false;}var count=0;index+=2;while(count<5){codePoint=getCodePoint(text.substr(index,2));if(codePoint<A_TAG_CODE_POINT||codePoint>Z_TAG_CODE_POINT){return false;}count+=1;index+=2;}return getCodePoint(text.substr(index,2))===CANCEL_TAG_CODE_POINT;}function setIsLoaded(){this.isLoaded=true;}var Font=function Font(){this.fonts=[];this.chars=null;this.typekitLoaded=0;this.isLoaded=false;this._warned=false;this.initTime=Date.now();this.setIsLoadedBinded=this.setIsLoaded.bind(this);this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this);};Font.isModifier=isModifier;Font.isZeroWidthJoiner=isZeroWidthJoiner;Font.isFlagEmoji=isFlagEmoji;Font.isRegionalCode=isRegionalCode;Font.isCombinedCharacter=isCombinedCharacter;Font.isRegionalFlag=isRegionalFlag;Font.isVariationSelector=isVariationSelector;Font.BLACK_FLAG_CODE_POINT=BLACK_FLAG_CODE_POINT;var fontPrototype={addChars:addChars,addFonts:addFonts,getCharData:getCharData,getFontByName:getFontByName,measureText:measureText,checkLoadedFonts:checkLoadedFonts,setIsLoaded:setIsLoaded};Font.prototype=fontPrototype;return Font;}();function SlotManager(animationData){this.animationData=animationData;}SlotManager.prototype.getProp=function(data){if(this.animationData.slots&&this.animationData.slots[data.sid]){return Object.assign(data,this.animationData.slots[data.sid].p);}return data;};function slotFactory(animationData){return new SlotManager(animationData);}function RenderableElement(){}RenderableElement.prototype={initRenderable:function initRenderable(){// layer's visibility related to inpoint and outpoint. Rename isVisible to isInRange\nthis.isInRange=false;// layer's display state\nthis.hidden=false;// If layer's transparency equals 0, it can be hidden\nthis.isTransparent=false;// list of animated components\nthis.renderableComponents=[];},addRenderableComponent:function addRenderableComponent(component){if(this.renderableComponents.indexOf(component)===-1){this.renderableComponents.push(component);}},removeRenderableComponent:function removeRenderableComponent(component){if(this.renderableComponents.indexOf(component)!==-1){this.renderableComponents.splice(this.renderableComponents.indexOf(component),1);}},prepareRenderableFrame:function prepareRenderableFrame(num){this.checkLayerLimits(num);},checkTransparency:function checkTransparency(){if(this.finalTransform.mProp.o.v<=0){if(!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent){this.isTransparent=true;this.hide();}}else if(this.isTransparent){this.isTransparent=false;this.show();}},/**\r\n       * @function\r\n       * Initializes frame related properties.\r\n       *\r\n       * @param {number} num\r\n       * current frame number in Layer's time\r\n       *\r\n       */checkLayerLimits:function checkLayerLimits(num){if(this.data.ip-this.data.st<=num&&this.data.op-this.data.st>num){if(this.isInRange!==true){this.globalData._mdf=true;this._mdf=true;this.isInRange=true;this.show();}}else if(this.isInRange!==false){this.globalData._mdf=true;this.isInRange=false;this.hide();}},renderRenderable:function renderRenderable(){var i;var len=this.renderableComponents.length;for(i=0;i<len;i+=1){this.renderableComponents[i].renderFrame(this._isFirstFrame);}/* this.maskManager.renderFrame(this.finalTransform.mat);\r\n          this.renderableEffectsManager.renderFrame(this._isFirstFrame); */},sourceRectAtTime:function sourceRectAtTime(){return{top:0,left:0,width:100,height:100};},getLayerSize:function getLayerSize(){if(this.data.ty===5){return{w:this.data.textData.width,h:this.data.textData.height};}return{w:this.data.width,h:this.data.height};}};var getBlendMode=function(){var blendModeEnums={0:'source-over',1:'multiply',2:'screen',3:'overlay',4:'darken',5:'lighten',6:'color-dodge',7:'color-burn',8:'hard-light',9:'soft-light',10:'difference',11:'exclusion',12:'hue',13:'saturation',14:'color',15:'luminosity'};return function(mode){return blendModeEnums[mode]||'';};}();function SliderEffect(data,elem,container){this.p=PropertyFactory.getProp(elem,data.v,0,0,container);}function AngleEffect(data,elem,container){this.p=PropertyFactory.getProp(elem,data.v,0,0,container);}function ColorEffect(data,elem,container){this.p=PropertyFactory.getProp(elem,data.v,1,0,container);}function PointEffect(data,elem,container){this.p=PropertyFactory.getProp(elem,data.v,1,0,container);}function LayerIndexEffect(data,elem,container){this.p=PropertyFactory.getProp(elem,data.v,0,0,container);}function MaskIndexEffect(data,elem,container){this.p=PropertyFactory.getProp(elem,data.v,0,0,container);}function CheckboxEffect(data,elem,container){this.p=PropertyFactory.getProp(elem,data.v,0,0,container);}function NoValueEffect(){this.p={};}function EffectsManager(data,element){var effects=data.ef||[];this.effectElements=[];var i;var len=effects.length;var effectItem;for(i=0;i<len;i+=1){effectItem=new GroupEffect(effects[i],element);this.effectElements.push(effectItem);}}function GroupEffect(data,element){this.init(data,element);}extendPrototype([DynamicPropertyContainer],GroupEffect);GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties;GroupEffect.prototype.init=function(data,element){this.data=data;this.effectElements=[];this.initDynamicPropertyContainer(element);var i;var len=this.data.ef.length;var eff;var effects=this.data.ef;for(i=0;i<len;i+=1){eff=null;switch(effects[i].ty){case 0:eff=new SliderEffect(effects[i],element,this);break;case 1:eff=new AngleEffect(effects[i],element,this);break;case 2:eff=new ColorEffect(effects[i],element,this);break;case 3:eff=new PointEffect(effects[i],element,this);break;case 4:case 7:eff=new CheckboxEffect(effects[i],element,this);break;case 10:eff=new LayerIndexEffect(effects[i],element,this);break;case 11:eff=new MaskIndexEffect(effects[i],element,this);break;case 5:eff=new EffectsManager(effects[i],element,this);break;// case 6:\ndefault:eff=new NoValueEffect(effects[i],element,this);break;}if(eff){this.effectElements.push(eff);}}};function BaseElement(){}BaseElement.prototype={checkMasks:function checkMasks(){if(!this.data.hasMask){return false;}var i=0;var len=this.data.masksProperties.length;while(i<len){if(this.data.masksProperties[i].mode!=='n'&&this.data.masksProperties[i].cl!==false){return true;}i+=1;}return false;},initExpressions:function initExpressions(){var expressionsInterfaces=getExpressionInterfaces();if(!expressionsInterfaces){return;}var LayerExpressionInterface=expressionsInterfaces('layer');var EffectsExpressionInterface=expressionsInterfaces('effects');var ShapeExpressionInterface=expressionsInterfaces('shape');var TextExpressionInterface=expressionsInterfaces('text');var CompExpressionInterface=expressionsInterfaces('comp');this.layerInterface=LayerExpressionInterface(this);if(this.data.hasMask&&this.maskManager){this.layerInterface.registerMaskInterface(this.maskManager);}var effectsInterface=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(effectsInterface);if(this.data.ty===0||this.data.xt){this.compInterface=CompExpressionInterface(this);}else if(this.data.ty===4){this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface);this.layerInterface.content=this.layerInterface.shapeInterface;}else if(this.data.ty===5){this.layerInterface.textInterface=TextExpressionInterface(this);this.layerInterface.text=this.layerInterface.textInterface;}},setBlendMode:function setBlendMode(){var blendModeValue=getBlendMode(this.data.bm);var elem=this.baseElement||this.layerElement;elem.style['mix-blend-mode']=blendModeValue;},initBaseData:function initBaseData(data,globalData,comp){this.globalData=globalData;this.comp=comp;this.data=data;this.layerId=createElementID();// Stretch factor for old animations missing this property.\nif(!this.data.sr){this.data.sr=1;}// effects manager\nthis.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties);},getType:function getType(){return this.type;},sourceRectAtTime:function sourceRectAtTime(){}};/**\r\n   * @file\r\n   * Handles element's layer frame update.\r\n   * Checks layer in point and out point\r\n   *\r\n   */function FrameElement(){}FrameElement.prototype={/**\r\n       * @function\r\n       * Initializes frame related properties.\r\n       *\r\n       */initFrame:function initFrame(){// set to true when inpoint is rendered\nthis._isFirstFrame=false;// list of animated properties\nthis.dynamicProperties=[];// If layer has been modified in current tick this will be true\nthis._mdf=false;},/**\r\n       * @function\r\n       * Calculates all dynamic values\r\n       *\r\n       * @param {number} num\r\n       * current frame number in Layer's time\r\n       * @param {boolean} isVisible\r\n       * if layers is currently in range\r\n       *\r\n       */prepareProperties:function prepareProperties(num,isVisible){var i;var len=this.dynamicProperties.length;for(i=0;i<len;i+=1){if(isVisible||this._isParent&&this.dynamicProperties[i].propType==='transform'){this.dynamicProperties[i].getValue();if(this.dynamicProperties[i]._mdf){this.globalData._mdf=true;this._mdf=true;}}}},addDynamicProperty:function addDynamicProperty(prop){if(this.dynamicProperties.indexOf(prop)===-1){this.dynamicProperties.push(prop);}}};function FootageElement(data,globalData,comp){this.initFrame();this.initRenderable();this.assetData=globalData.getAssetData(data.refId);this.footageData=globalData.imageLoader.getAsset(this.assetData);this.initBaseData(data,globalData,comp);}FootageElement.prototype.prepareFrame=function(){};extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement);FootageElement.prototype.getBaseElement=function(){return null;};FootageElement.prototype.renderFrame=function(){};FootageElement.prototype.destroy=function(){};FootageElement.prototype.initExpressions=function(){var expressionsInterfaces=getExpressionInterfaces();if(!expressionsInterfaces){return;}var FootageInterface=expressionsInterfaces('footage');this.layerInterface=FootageInterface(this);};FootageElement.prototype.getFootageData=function(){return this.footageData;};function AudioElement(data,globalData,comp){this.initFrame();this.initRenderable();this.assetData=globalData.getAssetData(data.refId);this.initBaseData(data,globalData,comp);this._isPlaying=false;this._canPlay=false;var assetPath=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(assetPath);this._currentTime=0;this.globalData.audioController.addAudio(this);this._volumeMultiplier=1;this._volume=1;this._previousVolume=null;this.tm=data.tm?PropertyFactory.getProp(this,data.tm,0,globalData.frameRate,this):{_placeholder:true};this.lv=PropertyFactory.getProp(this,data.au&&data.au.lv?data.au.lv:{k:[100]},1,0.01,this);}AudioElement.prototype.prepareFrame=function(num){this.prepareRenderableFrame(num,true);this.prepareProperties(num,true);if(!this.tm._placeholder){var timeRemapped=this.tm.v;this._currentTime=timeRemapped;}else{this._currentTime=num/this.data.sr;}this._volume=this.lv.v[0];var totalVolume=this._volume*this._volumeMultiplier;if(this._previousVolume!==totalVolume){this._previousVolume=totalVolume;this.audio.volume(totalVolume);}};extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement);AudioElement.prototype.renderFrame=function(){if(this.isInRange&&this._canPlay){if(!this._isPlaying){this.audio.play();this.audio.seek(this._currentTime/this.globalData.frameRate);this._isPlaying=true;}else if(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>0.1){this.audio.seek(this._currentTime/this.globalData.frameRate);}}};AudioElement.prototype.show=function(){// this.audio.play()\n};AudioElement.prototype.hide=function(){this.audio.pause();this._isPlaying=false;};AudioElement.prototype.pause=function(){this.audio.pause();this._isPlaying=false;this._canPlay=false;};AudioElement.prototype.resume=function(){this._canPlay=true;};AudioElement.prototype.setRate=function(rateValue){this.audio.rate(rateValue);};AudioElement.prototype.volume=function(volumeValue){this._volumeMultiplier=volumeValue;this._previousVolume=volumeValue*this._volume;this.audio.volume(this._previousVolume);};AudioElement.prototype.getBaseElement=function(){return null;};AudioElement.prototype.destroy=function(){};AudioElement.prototype.sourceRectAtTime=function(){};AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(num){var i;var len=this.layers.length;var data;this.completeLayers=true;for(i=len-1;i>=0;i-=1){if(!this.elements[i]){data=this.layers[i];if(data.ip-data.st<=num-this.layers[i].st&&data.op-data.st>num-this.layers[i].st){this.buildItem(i);}}this.completeLayers=this.elements[i]?this.completeLayers:false;}this.checkPendingElements();};BaseRenderer.prototype.createItem=function(layer){switch(layer.ty){case 2:return this.createImage(layer);case 0:return this.createComp(layer);case 1:return this.createSolid(layer);case 3:return this.createNull(layer);case 4:return this.createShape(layer);case 5:return this.createText(layer);case 6:return this.createAudio(layer);case 13:return this.createCamera(layer);case 15:return this.createFootage(layer);default:return this.createNull(layer);}};BaseRenderer.prototype.createCamera=function(){throw new Error('You\\'re using a 3d camera. Try the html renderer.');};BaseRenderer.prototype.createAudio=function(data){return new AudioElement(data,this.globalData,this);};BaseRenderer.prototype.createFootage=function(data){return new FootageElement(data,this.globalData,this);};BaseRenderer.prototype.buildAllItems=function(){var i;var len=this.layers.length;for(i=0;i<len;i+=1){this.buildItem(i);}this.checkPendingElements();};BaseRenderer.prototype.includeLayers=function(newLayers){this.completeLayers=false;var i;var len=newLayers.length;var j;var jLen=this.layers.length;for(i=0;i<len;i+=1){j=0;while(j<jLen){if(this.layers[j].id===newLayers[i].id){this.layers[j]=newLayers[i];break;}j+=1;}}};BaseRenderer.prototype.setProjectInterface=function(pInterface){this.globalData.projectInterface=pInterface;};BaseRenderer.prototype.initItems=function(){if(!this.globalData.progressiveLoad){this.buildAllItems();}};BaseRenderer.prototype.buildElementParenting=function(element,parentName,hierarchy){var elements=this.elements;var layers=this.layers;var i=0;var len=layers.length;while(i<len){if(layers[i].ind==parentName){// eslint-disable-line eqeqeq\nif(!elements[i]||elements[i]===true){this.buildItem(i);this.addPendingElement(element);}else{hierarchy.push(elements[i]);elements[i].setAsParent();if(layers[i].parent!==undefined){this.buildElementParenting(element,layers[i].parent,hierarchy);}else{element.setHierarchy(hierarchy);}}}i+=1;}};BaseRenderer.prototype.addPendingElement=function(element){this.pendingElements.push(element);};BaseRenderer.prototype.searchExtraCompositions=function(assets){var i;var len=assets.length;for(i=0;i<len;i+=1){if(assets[i].xt){var comp=this.createComp(assets[i]);comp.initExpressions();this.globalData.projectInterface.registerComposition(comp);}}};BaseRenderer.prototype.getElementById=function(ind){var i;var len=this.elements.length;for(i=0;i<len;i+=1){if(this.elements[i].data.ind===ind){return this.elements[i];}}return null;};BaseRenderer.prototype.getElementByPath=function(path){var pathValue=path.shift();var element;if(typeof pathValue==='number'){element=this.elements[pathValue];}else{var i;var len=this.elements.length;for(i=0;i<len;i+=1){if(this.elements[i].data.nm===pathValue){element=this.elements[i];break;}}}if(path.length===0){return element;}return element.getElementByPath(path);};BaseRenderer.prototype.setupGlobalData=function(animData,fontsContainer){this.globalData.fontManager=new FontManager();this.globalData.slotManager=slotFactory(animData);this.globalData.fontManager.addChars(animData.chars);this.globalData.fontManager.addFonts(animData.fonts,fontsContainer);this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem);this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem);this.globalData.imageLoader=this.animationItem.imagePreloader;this.globalData.audioController=this.animationItem.audioController;this.globalData.frameId=0;this.globalData.frameRate=animData.fr;this.globalData.nm=animData.nm;this.globalData.compSize={w:animData.w,h:animData.h};};var effectTypes={TRANSFORM_EFFECT:'transformEFfect'};function TransformElement(){}TransformElement.prototype={initTransform:function initTransform(){var mat=new Matrix();this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:false,_localMatMdf:false,_opMdf:false,mat:mat,localMat:mat,localOpacity:1};if(this.data.ao){this.finalTransform.mProp.autoOriented=true;}// TODO: check TYPE 11: Guided elements\nif(this.data.ty!==11){// this.createElements();\n}},renderTransform:function renderTransform(){this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame;this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame;if(this.hierarchy){var mat;var finalMat=this.finalTransform.mat;var i=0;var len=this.hierarchy.length;// Checking if any of the transformation matrices in the hierarchy chain has changed.\nif(!this.finalTransform._matMdf){while(i<len){if(this.hierarchy[i].finalTransform.mProp._mdf){this.finalTransform._matMdf=true;break;}i+=1;}}if(this.finalTransform._matMdf){mat=this.finalTransform.mProp.v.props;finalMat.cloneFromProps(mat);for(i=0;i<len;i+=1){finalMat.multiply(this.hierarchy[i].finalTransform.mProp.v);}}}if(this.finalTransform._matMdf){this.finalTransform._localMatMdf=this.finalTransform._matMdf;}if(this.finalTransform._opMdf){this.finalTransform.localOpacity=this.finalTransform.mProp.o.v;}},renderLocalTransform:function renderLocalTransform(){if(this.localTransforms){var i=0;var len=this.localTransforms.length;this.finalTransform._localMatMdf=this.finalTransform._matMdf;if(!this.finalTransform._localMatMdf||!this.finalTransform._opMdf){while(i<len){if(this.localTransforms[i]._mdf){this.finalTransform._localMatMdf=true;}if(this.localTransforms[i]._opMdf&&!this.finalTransform._opMdf){this.finalTransform.localOpacity=this.finalTransform.mProp.o.v;this.finalTransform._opMdf=true;}i+=1;}}if(this.finalTransform._localMatMdf){var localMat=this.finalTransform.localMat;this.localTransforms[0].matrix.clone(localMat);for(i=1;i<len;i+=1){var lmat=this.localTransforms[i].matrix;localMat.multiply(lmat);}localMat.multiply(this.finalTransform.mat);}if(this.finalTransform._opMdf){var localOp=this.finalTransform.localOpacity;for(i=0;i<len;i+=1){localOp*=this.localTransforms[i].opacity*0.01;}this.finalTransform.localOpacity=localOp;}}},searchEffectTransforms:function searchEffectTransforms(){if(this.renderableEffectsManager){var transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(transformEffects.length){this.localTransforms=[];this.finalTransform.localMat=new Matrix();var i=0;var len=transformEffects.length;for(i=0;i<len;i+=1){this.localTransforms.push(transformEffects[i]);}}}},globalToLocal:function globalToLocal(pt){var transforms=[];transforms.push(this.finalTransform);var flag=true;var comp=this.comp;while(flag){if(comp.finalTransform){if(comp.data.hasMask){transforms.splice(0,0,comp.finalTransform);}comp=comp.comp;}else{flag=false;}}var i;var len=transforms.length;var ptNew;for(i=0;i<len;i+=1){ptNew=transforms[i].mat.applyToPointArray(0,0,0);// ptNew = transforms[i].mat.applyToPointArray(pt[0],pt[1],pt[2]);\npt=[pt[0]-ptNew[0],pt[1]-ptNew[1],0];}return pt;},mHelper:new Matrix()};function MaskElement(data,element,globalData){this.data=data;this.element=element;this.globalData=globalData;this.storedData=[];this.masksProperties=this.data.masksProperties||[];this.maskElement=null;var defs=this.globalData.defs;var i;var len=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(len);this.solidPath='';var path;var properties=this.masksProperties;var count=0;var currentMasks=[];var j;var jLen;var layerId=createElementID();var rect;var expansor;var feMorph;var x;var maskType='clipPath';var maskRef='clip-path';for(i=0;i<len;i+=1){if(properties[i].mode!=='a'&&properties[i].mode!=='n'||properties[i].inv||properties[i].o.k!==100||properties[i].o.x){maskType='mask';maskRef='mask';}if((properties[i].mode==='s'||properties[i].mode==='i')&&count===0){rect=createNS('rect');rect.setAttribute('fill','#ffffff');rect.setAttribute('width',this.element.comp.data.w||0);rect.setAttribute('height',this.element.comp.data.h||0);currentMasks.push(rect);}else{rect=null;}path=createNS('path');if(properties[i].mode==='n'){// TODO move this to a factory or to a constructor\nthis.viewData[i]={op:PropertyFactory.getProp(this.element,properties[i].o,0,0.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,properties[i],3),elem:path,lastPath:''};defs.appendChild(path);}else{count+=1;path.setAttribute('fill',properties[i].mode==='s'?'#000000':'#ffffff');path.setAttribute('clip-rule','nonzero');var filterID;if(properties[i].x.k!==0){maskType='mask';maskRef='mask';x=PropertyFactory.getProp(this.element,properties[i].x,0,null,this.element);filterID=createElementID();expansor=createNS('filter');expansor.setAttribute('id',filterID);feMorph=createNS('feMorphology');feMorph.setAttribute('operator','erode');feMorph.setAttribute('in','SourceGraphic');feMorph.setAttribute('radius','0');expansor.appendChild(feMorph);defs.appendChild(expansor);path.setAttribute('stroke',properties[i].mode==='s'?'#000000':'#ffffff');}else{feMorph=null;x=null;}// TODO move this to a factory or to a constructor\nthis.storedData[i]={elem:path,x:x,expan:feMorph,lastPath:'',lastOperator:'',filterId:filterID,lastRadius:0};if(properties[i].mode==='i'){jLen=currentMasks.length;var g=createNS('g');for(j=0;j<jLen;j+=1){g.appendChild(currentMasks[j]);}var mask=createNS('mask');mask.setAttribute('mask-type','alpha');mask.setAttribute('id',layerId+'_'+count);mask.appendChild(path);defs.appendChild(mask);g.setAttribute('mask','url('+getLocationHref()+'#'+layerId+'_'+count+')');currentMasks.length=0;currentMasks.push(g);}else{currentMasks.push(path);}if(properties[i].inv&&!this.solidPath){this.solidPath=this.createLayerSolidPath();}// TODO move this to a factory or to a constructor\nthis.viewData[i]={elem:path,lastPath:'',op:PropertyFactory.getProp(this.element,properties[i].o,0,0.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,properties[i],3),invRect:rect};if(!this.viewData[i].prop.k){this.drawPath(properties[i],this.viewData[i].prop.v,this.viewData[i]);}}}this.maskElement=createNS(maskType);len=currentMasks.length;for(i=0;i<len;i+=1){this.maskElement.appendChild(currentMasks[i]);}if(count>0){this.maskElement.setAttribute('id',layerId);this.element.maskedElement.setAttribute(maskRef,'url('+getLocationHref()+'#'+layerId+')');defs.appendChild(this.maskElement);}if(this.viewData.length){this.element.addRenderableComponent(this);}}MaskElement.prototype.getMaskProperty=function(pos){return this.viewData[pos].prop;};MaskElement.prototype.renderFrame=function(isFirstFrame){var finalMat=this.element.finalTransform.mat;var i;var len=this.masksProperties.length;for(i=0;i<len;i+=1){if(this.viewData[i].prop._mdf||isFirstFrame){this.drawPath(this.masksProperties[i],this.viewData[i].prop.v,this.viewData[i]);}if(this.viewData[i].op._mdf||isFirstFrame){this.viewData[i].elem.setAttribute('fill-opacity',this.viewData[i].op.v);}if(this.masksProperties[i].mode!=='n'){if(this.viewData[i].invRect&&(this.element.finalTransform.mProp._mdf||isFirstFrame)){this.viewData[i].invRect.setAttribute('transform',finalMat.getInverseMatrix().to2dCSS());}if(this.storedData[i].x&&(this.storedData[i].x._mdf||isFirstFrame)){var feMorph=this.storedData[i].expan;if(this.storedData[i].x.v<0){if(this.storedData[i].lastOperator!=='erode'){this.storedData[i].lastOperator='erode';this.storedData[i].elem.setAttribute('filter','url('+getLocationHref()+'#'+this.storedData[i].filterId+')');}feMorph.setAttribute('radius',-this.storedData[i].x.v);}else{if(this.storedData[i].lastOperator!=='dilate'){this.storedData[i].lastOperator='dilate';this.storedData[i].elem.setAttribute('filter',null);}this.storedData[i].elem.setAttribute('stroke-width',this.storedData[i].x.v*2);}}}}};MaskElement.prototype.getMaskelement=function(){return this.maskElement;};MaskElement.prototype.createLayerSolidPath=function(){var path='M0,0 ';path+=' h'+this.globalData.compSize.w;path+=' v'+this.globalData.compSize.h;path+=' h-'+this.globalData.compSize.w;path+=' v-'+this.globalData.compSize.h+' ';return path;};MaskElement.prototype.drawPath=function(pathData,pathNodes,viewData){var pathString=' M'+pathNodes.v[0][0]+','+pathNodes.v[0][1];var i;var len;len=pathNodes._length;for(i=1;i<len;i+=1){// pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[i][0]+','+pathNodes.i[i][1] + \" \"+pathNodes.v[i][0]+','+pathNodes.v[i][1];\npathString+=' C'+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1]+' '+pathNodes.i[i][0]+','+pathNodes.i[i][1]+' '+pathNodes.v[i][0]+','+pathNodes.v[i][1];}// pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[0][0]+','+pathNodes.i[0][1] + \" \"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\nif(pathNodes.c&&len>1){pathString+=' C'+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1]+' '+pathNodes.i[0][0]+','+pathNodes.i[0][1]+' '+pathNodes.v[0][0]+','+pathNodes.v[0][1];}// pathNodes.__renderedString = pathString;\nif(viewData.lastPath!==pathString){var pathShapeValue='';if(viewData.elem){if(pathNodes.c){pathShapeValue=pathData.inv?this.solidPath+pathString:pathString;}viewData.elem.setAttribute('d',pathShapeValue);}viewData.lastPath=pathString;}};MaskElement.prototype.destroy=function(){this.element=null;this.globalData=null;this.maskElement=null;this.data=null;this.masksProperties=null;};var filtersFactory=function(){var ob={};ob.createFilter=createFilter;ob.createAlphaToLuminanceFilter=createAlphaToLuminanceFilter;function createFilter(filId,skipCoordinates){var fil=createNS('filter');fil.setAttribute('id',filId);if(skipCoordinates!==true){fil.setAttribute('filterUnits','objectBoundingBox');fil.setAttribute('x','0%');fil.setAttribute('y','0%');fil.setAttribute('width','100%');fil.setAttribute('height','100%');}return fil;}function createAlphaToLuminanceFilter(){var feColorMatrix=createNS('feColorMatrix');feColorMatrix.setAttribute('type','matrix');feColorMatrix.setAttribute('color-interpolation-filters','sRGB');feColorMatrix.setAttribute('values','0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1');return feColorMatrix;}return ob;}();var featureSupport=function(){var ob={maskType:true,svgLumaHidden:true,offscreenCanvas:typeof OffscreenCanvas!=='undefined'};if(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\\/\\d./i.test(navigator.userAgent)){ob.maskType=false;}if(/firefox/i.test(navigator.userAgent)){ob.svgLumaHidden=false;}return ob;}();var registeredEffects$1={};var idPrefix='filter_result_';function SVGEffects(elem){var i;var source='SourceGraphic';var len=elem.data.ef?elem.data.ef.length:0;var filId=createElementID();var fil=filtersFactory.createFilter(filId,true);var count=0;this.filters=[];var filterManager;for(i=0;i<len;i+=1){filterManager=null;var type=elem.data.ef[i].ty;if(registeredEffects$1[type]){var Effect=registeredEffects$1[type].effect;filterManager=new Effect(fil,elem.effectsManager.effectElements[i],elem,idPrefix+count,source);source=idPrefix+count;if(registeredEffects$1[type].countsAsEffect){count+=1;}}if(filterManager){this.filters.push(filterManager);}}if(count){elem.globalData.defs.appendChild(fil);elem.layerElement.setAttribute('filter','url('+getLocationHref()+'#'+filId+')');}if(this.filters.length){elem.addRenderableComponent(this);}}SVGEffects.prototype.renderFrame=function(_isFirstFrame){var i;var len=this.filters.length;for(i=0;i<len;i+=1){this.filters[i].renderFrame(_isFirstFrame);}};SVGEffects.prototype.getEffects=function(type){var i;var len=this.filters.length;var effects=[];for(i=0;i<len;i+=1){if(this.filters[i].type===type){effects.push(this.filters[i]);}}return effects;};function registerEffect$1(id,effect,countsAsEffect){registeredEffects$1[id]={effect:effect,countsAsEffect:countsAsEffect};}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function initRendererElement(){this.layerElement=createNS('g');},createContainerElements:function createContainerElements(){this.matteElement=createNS('g');this.transformedElement=this.layerElement;this.maskedElement=this.layerElement;this._sizeChanged=false;var layerElementParent=null;// If this layer acts as a mask for the following layer\nif(this.data.td){this.matteMasks={};var gg=createNS('g');gg.setAttribute('id',this.layerId);gg.appendChild(this.layerElement);layerElementParent=gg;this.globalData.defs.appendChild(gg);}else if(this.data.tt){this.matteElement.appendChild(this.layerElement);layerElementParent=this.matteElement;this.baseElement=this.matteElement;}else{this.baseElement=this.layerElement;}if(this.data.ln){this.layerElement.setAttribute('id',this.data.ln);}if(this.data.cl){this.layerElement.setAttribute('class',this.data.cl);}// Clipping compositions to hide content that exceeds boundaries. If collapsed transformations is on, component should not be clipped\nif(this.data.ty===0&&!this.data.hd){var cp=createNS('clipPath');var pt=createNS('path');pt.setAttribute('d','M0,0 L'+this.data.w+',0 L'+this.data.w+','+this.data.h+' L0,'+this.data.h+'z');var clipId=createElementID();cp.setAttribute('id',clipId);cp.appendChild(pt);this.globalData.defs.appendChild(cp);if(this.checkMasks()){var cpGroup=createNS('g');cpGroup.setAttribute('clip-path','url('+getLocationHref()+'#'+clipId+')');cpGroup.appendChild(this.layerElement);this.transformedElement=cpGroup;if(layerElementParent){layerElementParent.appendChild(this.transformedElement);}else{this.baseElement=this.transformedElement;}}else{this.layerElement.setAttribute('clip-path','url('+getLocationHref()+'#'+clipId+')');}}if(this.data.bm!==0){this.setBlendMode();}},renderElement:function renderElement(){if(this.finalTransform._localMatMdf){this.transformedElement.setAttribute('transform',this.finalTransform.localMat.to2dCSS());}if(this.finalTransform._opMdf){this.transformedElement.setAttribute('opacity',this.finalTransform.localOpacity);}},destroyBaseElement:function destroyBaseElement(){this.layerElement=null;this.matteElement=null;this.maskManager.destroy();},getBaseElement:function getBaseElement(){if(this.data.hd){return null;}return this.baseElement;},createRenderableComponents:function createRenderableComponents(){this.maskManager=new MaskElement(this.data,this,this.globalData);this.renderableEffectsManager=new SVGEffects(this);this.searchEffectTransforms();},getMatte:function getMatte(matteType){// This should not be a common case. But for backward compatibility, we'll create the matte object.\n// It solves animations that have two consecutive layers marked as matte masks.\n// Which is an undefined behavior in AE.\nif(!this.matteMasks){this.matteMasks={};}if(!this.matteMasks[matteType]){var id=this.layerId+'_'+matteType;var filId;var fil;var useElement;var gg;if(matteType===1||matteType===3){var masker=createNS('mask');masker.setAttribute('id',id);masker.setAttribute('mask-type',matteType===3?'luminance':'alpha');useElement=createNS('use');useElement.setAttributeNS('http://www.w3.org/1999/xlink','href','#'+this.layerId);masker.appendChild(useElement);this.globalData.defs.appendChild(masker);if(!featureSupport.maskType&&matteType===1){masker.setAttribute('mask-type','luminance');filId=createElementID();fil=filtersFactory.createFilter(filId);this.globalData.defs.appendChild(fil);fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());gg=createNS('g');gg.appendChild(useElement);masker.appendChild(gg);gg.setAttribute('filter','url('+getLocationHref()+'#'+filId+')');}}else if(matteType===2){var maskGroup=createNS('mask');maskGroup.setAttribute('id',id);maskGroup.setAttribute('mask-type','alpha');var maskGrouper=createNS('g');maskGroup.appendChild(maskGrouper);filId=createElementID();fil=filtersFactory.createFilter(filId);/// /\nvar feCTr=createNS('feComponentTransfer');feCTr.setAttribute('in','SourceGraphic');fil.appendChild(feCTr);var feFunc=createNS('feFuncA');feFunc.setAttribute('type','table');feFunc.setAttribute('tableValues','1.0 0.0');feCTr.appendChild(feFunc);/// /\nthis.globalData.defs.appendChild(fil);var alphaRect=createNS('rect');alphaRect.setAttribute('width',this.comp.data.w);alphaRect.setAttribute('height',this.comp.data.h);alphaRect.setAttribute('x','0');alphaRect.setAttribute('y','0');alphaRect.setAttribute('fill','#ffffff');alphaRect.setAttribute('opacity','0');maskGrouper.setAttribute('filter','url('+getLocationHref()+'#'+filId+')');maskGrouper.appendChild(alphaRect);useElement=createNS('use');useElement.setAttributeNS('http://www.w3.org/1999/xlink','href','#'+this.layerId);maskGrouper.appendChild(useElement);if(!featureSupport.maskType){maskGroup.setAttribute('mask-type','luminance');fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());gg=createNS('g');maskGrouper.appendChild(alphaRect);gg.appendChild(this.layerElement);maskGrouper.appendChild(gg);}this.globalData.defs.appendChild(maskGroup);}this.matteMasks[matteType]=id;}return this.matteMasks[matteType];},setMatte:function setMatte(id){if(!this.matteElement){return;}this.matteElement.setAttribute('mask','url('+getLocationHref()+'#'+id+')');}};/**\r\n   * @file\r\n   * Handles AE's layer parenting property.\r\n   *\r\n   */function HierarchyElement(){}HierarchyElement.prototype={/**\r\n       * @function\r\n       * Initializes hierarchy properties\r\n       *\r\n       */initHierarchy:function initHierarchy(){// element's parent list\nthis.hierarchy=[];// if element is parent of another layer _isParent will be true\nthis._isParent=false;this.checkParenting();},/**\r\n       * @function\r\n       * Sets layer's hierarchy.\r\n       * @param {array} hierarch\r\n       * layer's parent list\r\n       *\r\n       */setHierarchy:function setHierarchy(hierarchy){this.hierarchy=hierarchy;},/**\r\n       * @function\r\n       * Sets layer as parent.\r\n       *\r\n       */setAsParent:function setAsParent(){this._isParent=true;},/**\r\n       * @function\r\n       * Searches layer's parenting chain\r\n       *\r\n       */checkParenting:function checkParenting(){if(this.data.parent!==undefined){this.comp.buildElementParenting(this,this.data.parent,[]);}}};function RenderableDOMElement(){}(function(){var _prototype={initElement:function initElement(data,globalData,comp){this.initFrame();this.initBaseData(data,globalData,comp);this.initTransform(data,globalData,comp);this.initHierarchy();this.initRenderable();this.initRendererElement();this.createContainerElements();this.createRenderableComponents();this.createContent();this.hide();},hide:function hide(){// console.log('HIDE', this);\nif(!this.hidden&&(!this.isInRange||this.isTransparent)){var elem=this.baseElement||this.layerElement;elem.style.display='none';this.hidden=true;}},show:function show(){// console.log('SHOW', this);\nif(this.isInRange&&!this.isTransparent){if(!this.data.hd){var elem=this.baseElement||this.layerElement;elem.style.display='block';}this.hidden=false;this._isFirstFrame=true;}},renderFrame:function renderFrame(){// If it is exported as hidden (data.hd === true) no need to render\n// If it is not visible no need to render\nif(this.data.hd||this.hidden){return;}this.renderTransform();this.renderRenderable();this.renderLocalTransform();this.renderElement();this.renderInnerContent();if(this._isFirstFrame){this._isFirstFrame=false;}},renderInnerContent:function renderInnerContent(){},prepareFrame:function prepareFrame(num){this._mdf=false;this.prepareRenderableFrame(num);this.prepareProperties(num,this.isInRange);this.checkTransparency();},destroy:function destroy(){this.innerElem=null;this.destroyBaseElement();}};extendPrototype([RenderableElement,createProxyFunction(_prototype)],RenderableDOMElement);})();function IImageElement(data,globalData,comp){this.assetData=globalData.getAssetData(data.refId);if(this.assetData&&this.assetData.sid){this.assetData=globalData.slotManager.getProp(this.assetData);}this.initElement(data,globalData,comp);this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h};}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement);IImageElement.prototype.createContent=function(){var assetPath=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS('image');this.innerElem.setAttribute('width',this.assetData.w+'px');this.innerElem.setAttribute('height',this.assetData.h+'px');this.innerElem.setAttribute('preserveAspectRatio',this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio);this.innerElem.setAttributeNS('http://www.w3.org/1999/xlink','href',assetPath);this.layerElement.appendChild(this.innerElem);};IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect;};function ProcessedElement(element,position){this.elem=element;this.pos=position;}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function addShapeToModifiers(data){var i;var len=this.shapeModifiers.length;for(i=0;i<len;i+=1){this.shapeModifiers[i].addShape(data);}},isShapeInAnimatedModifiers:function isShapeInAnimatedModifiers(data){var i=0;var len=this.shapeModifiers.length;while(i<len){if(this.shapeModifiers[i].isAnimatedWithShape(data)){return true;}}return false;},renderModifiers:function renderModifiers(){if(!this.shapeModifiers.length){return;}var i;var len=this.shapes.length;for(i=0;i<len;i+=1){this.shapes[i].sh.reset();}len=this.shapeModifiers.length;var shouldBreakProcess;for(i=len-1;i>=0;i-=1){shouldBreakProcess=this.shapeModifiers[i].processShapes(this._isFirstFrame);// workaround to fix cases where a repeater resets the shape so the following processes get called twice\n// TODO: find a better solution for this\nif(shouldBreakProcess){break;}}},searchProcessedElement:function searchProcessedElement(elem){var elements=this.processedElements;var i=0;var len=elements.length;while(i<len){if(elements[i].elem===elem){return elements[i].pos;}i+=1;}return 0;},addProcessedElement:function addProcessedElement(elem,pos){var elements=this.processedElements;var i=elements.length;while(i){i-=1;if(elements[i].elem===elem){elements[i].pos=pos;return;}}elements.push(new ProcessedElement(elem,pos));},prepareFrame:function prepareFrame(num){this.prepareRenderableFrame(num);this.prepareProperties(num,this.isInRange);}};var lineCapEnum={1:'butt',2:'round',3:'square'};var lineJoinEnum={1:'miter',2:'round',3:'bevel'};function SVGShapeData(transformers,level,shape){this.caches=[];this.styles=[];this.transformers=transformers;this.lStr='';this.sh=shape;this.lvl=level;// TODO find if there are some cases where _isAnimated can be false.\n// For now, since shapes add up with other shapes. They have to be calculated every time.\n// One way of finding out is checking if all styles associated to this shape depend only of this shape\nthis._isAnimated=!!shape.k;// TODO: commenting this for now since all shapes are animated\nvar i=0;var len=transformers.length;while(i<len){if(transformers[i].mProps.dynamicProperties.length){this._isAnimated=true;break;}i+=1;}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=true;};function SVGStyleData(data,level){this.data=data;this.type=data.ty;this.d='';this.lvl=level;this._mdf=false;this.closed=data.hd===true;this.pElem=createNS('path');this.msElem=null;}SVGStyleData.prototype.reset=function(){this.d='';this._mdf=false;};function DashProperty(elem,data,renderer,container){this.elem=elem;this.frameId=-1;this.dataProps=createSizedArray(data.length);this.renderer=renderer;this.k=false;this.dashStr='';this.dashArray=createTypedArray('float32',data.length?data.length-1:0);this.dashoffset=createTypedArray('float32',1);this.initDynamicPropertyContainer(container);var i;var len=data.length||0;var prop;for(i=0;i<len;i+=1){prop=PropertyFactory.getProp(elem,data[i].v,0,0,this);this.k=prop.k||this.k;this.dataProps[i]={n:data[i].n,p:prop};}if(!this.k){this.getValue(true);}this._isAnimated=this.k;}DashProperty.prototype.getValue=function(forceRender){if(this.elem.globalData.frameId===this.frameId&&!forceRender){return;}this.frameId=this.elem.globalData.frameId;this.iterateDynamicProperties();this._mdf=this._mdf||forceRender;if(this._mdf){var i=0;var len=this.dataProps.length;if(this.renderer==='svg'){this.dashStr='';}for(i=0;i<len;i+=1){if(this.dataProps[i].n!=='o'){if(this.renderer==='svg'){this.dashStr+=' '+this.dataProps[i].p.v;}else{this.dashArray[i]=this.dataProps[i].p.v;}}else{this.dashoffset[0]=this.dataProps[i].p.v;}}}};extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(elem,data,styleOb){this.initDynamicPropertyContainer(elem);this.getValue=this.iterateDynamicProperties;this.o=PropertyFactory.getProp(elem,data.o,0,0.01,this);this.w=PropertyFactory.getProp(elem,data.w,0,null,this);this.d=new DashProperty(elem,data.d||{},'svg',this);this.c=PropertyFactory.getProp(elem,data.c,1,255,this);this.style=styleOb;this._isAnimated=!!this._isAnimated;}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(elem,data,styleOb){this.initDynamicPropertyContainer(elem);this.getValue=this.iterateDynamicProperties;this.o=PropertyFactory.getProp(elem,data.o,0,0.01,this);this.c=PropertyFactory.getProp(elem,data.c,1,255,this);this.style=styleOb;}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(elem,data,styleOb){this.initDynamicPropertyContainer(elem);this.getValue=this.iterateDynamicProperties;this.style=styleOb;}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(elem,data,container){this.data=data;this.c=createTypedArray('uint8c',data.p*4);var cLength=data.k.k[0].s?data.k.k[0].s.length-data.p*4:data.k.k.length-data.p*4;this.o=createTypedArray('float32',cLength);this._cmdf=false;this._omdf=false;this._collapsable=this.checkCollapsable();this._hasOpacity=cLength;this.initDynamicPropertyContainer(container);this.prop=PropertyFactory.getProp(elem,data.k,1,null,this);this.k=this.prop.k;this.getValue(true);}GradientProperty.prototype.comparePoints=function(values,points){var i=0;var len=this.o.length/2;var diff;while(i<len){diff=Math.abs(values[i*4]-values[points*4+i*2]);if(diff>0.01){return false;}i+=1;}return true;};GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4){return false;}if(this.data.k.k[0].s){var i=0;var len=this.data.k.k.length;while(i<len){if(!this.comparePoints(this.data.k.k[i].s,this.data.p)){return false;}i+=1;}}else if(!this.comparePoints(this.data.k.k,this.data.p)){return false;}return true;};GradientProperty.prototype.getValue=function(forceRender){this.prop.getValue();this._mdf=false;this._cmdf=false;this._omdf=false;if(this.prop._mdf||forceRender){var i;var len=this.data.p*4;var mult;var val;for(i=0;i<len;i+=1){mult=i%4===0?100:255;val=Math.round(this.prop.v[i]*mult);if(this.c[i]!==val){this.c[i]=val;this._cmdf=!forceRender;}}if(this.o.length){len=this.prop.v.length;for(i=this.data.p*4;i<len;i+=1){mult=i%2===0?100:1;val=i%2===0?Math.round(this.prop.v[i]*100):this.prop.v[i];if(this.o[i-this.data.p*4]!==val){this.o[i-this.data.p*4]=val;this._omdf=!forceRender;}}}this._mdf=!forceRender;}};extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(elem,data,styleOb){this.initDynamicPropertyContainer(elem);this.getValue=this.iterateDynamicProperties;this.initGradientData(elem,data,styleOb);}SVGGradientFillStyleData.prototype.initGradientData=function(elem,data,styleOb){this.o=PropertyFactory.getProp(elem,data.o,0,0.01,this);this.s=PropertyFactory.getProp(elem,data.s,1,null,this);this.e=PropertyFactory.getProp(elem,data.e,1,null,this);this.h=PropertyFactory.getProp(elem,data.h||{k:0},0,0.01,this);this.a=PropertyFactory.getProp(elem,data.a||{k:0},0,degToRads,this);this.g=new GradientProperty(elem,data.g,this);this.style=styleOb;this.stops=[];this.setGradientData(styleOb.pElem,data);this.setGradientOpacity(data,styleOb);this._isAnimated=!!this._isAnimated;};SVGGradientFillStyleData.prototype.setGradientData=function(pathElement,data){var gradientId=createElementID();var gfill=createNS(data.t===1?'linearGradient':'radialGradient');gfill.setAttribute('id',gradientId);gfill.setAttribute('spreadMethod','pad');gfill.setAttribute('gradientUnits','userSpaceOnUse');var stops=[];var stop;var j;var jLen;jLen=data.g.p*4;for(j=0;j<jLen;j+=4){stop=createNS('stop');gfill.appendChild(stop);stops.push(stop);}pathElement.setAttribute(data.ty==='gf'?'fill':'stroke','url('+getLocationHref()+'#'+gradientId+')');this.gf=gfill;this.cst=stops;};SVGGradientFillStyleData.prototype.setGradientOpacity=function(data,styleOb){if(this.g._hasOpacity&&!this.g._collapsable){var stop;var j;var jLen;var mask=createNS('mask');var maskElement=createNS('path');mask.appendChild(maskElement);var opacityId=createElementID();var maskId=createElementID();mask.setAttribute('id',maskId);var opFill=createNS(data.t===1?'linearGradient':'radialGradient');opFill.setAttribute('id',opacityId);opFill.setAttribute('spreadMethod','pad');opFill.setAttribute('gradientUnits','userSpaceOnUse');jLen=data.g.k.k[0].s?data.g.k.k[0].s.length:data.g.k.k.length;var stops=this.stops;for(j=data.g.p*4;j<jLen;j+=2){stop=createNS('stop');stop.setAttribute('stop-color','rgb(255,255,255)');opFill.appendChild(stop);stops.push(stop);}maskElement.setAttribute(data.ty==='gf'?'fill':'stroke','url('+getLocationHref()+'#'+opacityId+')');if(data.ty==='gs'){maskElement.setAttribute('stroke-linecap',lineCapEnum[data.lc||2]);maskElement.setAttribute('stroke-linejoin',lineJoinEnum[data.lj||2]);if(data.lj===1){maskElement.setAttribute('stroke-miterlimit',data.ml);}}this.of=opFill;this.ms=mask;this.ost=stops;this.maskId=maskId;styleOb.msElem=maskElement;}};extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(elem,data,styleOb){this.initDynamicPropertyContainer(elem);this.getValue=this.iterateDynamicProperties;this.w=PropertyFactory.getProp(elem,data.w,0,null,this);this.d=new DashProperty(elem,data.d||{},'svg',this);this.initGradientData(elem,data,styleOb);this._isAnimated=!!this._isAnimated;}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[];this.prevViewData=[];this.gr=createNS('g');}function SVGTransformData(mProps,op,container){this.transform={mProps:mProps,op:op,container:container};this.elements=[];this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length;}var buildShapeString=function buildShapeString(pathNodes,length,closed,mat){if(length===0){return'';}var _o=pathNodes.o;var _i=pathNodes.i;var _v=pathNodes.v;var i;var shapeString=' M'+mat.applyToPointStringified(_v[0][0],_v[0][1]);for(i=1;i<length;i+=1){shapeString+=' C'+mat.applyToPointStringified(_o[i-1][0],_o[i-1][1])+' '+mat.applyToPointStringified(_i[i][0],_i[i][1])+' '+mat.applyToPointStringified(_v[i][0],_v[i][1]);}if(closed&&length){shapeString+=' C'+mat.applyToPointStringified(_o[i-1][0],_o[i-1][1])+' '+mat.applyToPointStringified(_i[0][0],_i[0][1])+' '+mat.applyToPointStringified(_v[0][0],_v[0][1]);shapeString+='z';}return shapeString;};var SVGElementsRenderer=function(){var _identityMatrix=new Matrix();var _matrixHelper=new Matrix();var ob={createRenderFunction:createRenderFunction};function createRenderFunction(data){switch(data.ty){case'fl':return renderFill;case'gf':return renderGradient;case'gs':return renderGradientStroke;case'st':return renderStroke;case'sh':case'el':case'rc':case'sr':return renderPath;case'tr':return renderContentTransform;case'no':return renderNoop;default:return null;}}function renderContentTransform(styleData,itemData,isFirstFrame){if(isFirstFrame||itemData.transform.op._mdf){itemData.transform.container.setAttribute('opacity',itemData.transform.op.v);}if(isFirstFrame||itemData.transform.mProps._mdf){itemData.transform.container.setAttribute('transform',itemData.transform.mProps.v.to2dCSS());}}function renderNoop(){}function renderPath(styleData,itemData,isFirstFrame){var j;var jLen;var pathStringTransformed;var redraw;var pathNodes;var l;var lLen=itemData.styles.length;var lvl=itemData.lvl;var paths;var mat;var iterations;var k;for(l=0;l<lLen;l+=1){redraw=itemData.sh._mdf||isFirstFrame;if(itemData.styles[l].lvl<lvl){mat=_matrixHelper.reset();iterations=lvl-itemData.styles[l].lvl;k=itemData.transformers.length-1;while(!redraw&&iterations>0){redraw=itemData.transformers[k].mProps._mdf||redraw;iterations-=1;k-=1;}if(redraw){iterations=lvl-itemData.styles[l].lvl;k=itemData.transformers.length-1;while(iterations>0){mat.multiply(itemData.transformers[k].mProps.v);iterations-=1;k-=1;}}}else{mat=_identityMatrix;}paths=itemData.sh.paths;jLen=paths._length;if(redraw){pathStringTransformed='';for(j=0;j<jLen;j+=1){pathNodes=paths.shapes[j];if(pathNodes&&pathNodes._length){pathStringTransformed+=buildShapeString(pathNodes,pathNodes._length,pathNodes.c,mat);}}itemData.caches[l]=pathStringTransformed;}else{pathStringTransformed=itemData.caches[l];}itemData.styles[l].d+=styleData.hd===true?'':pathStringTransformed;itemData.styles[l]._mdf=redraw||itemData.styles[l]._mdf;}}function renderFill(styleData,itemData,isFirstFrame){var styleElem=itemData.style;if(itemData.c._mdf||isFirstFrame){styleElem.pElem.setAttribute('fill','rgb('+bmFloor(itemData.c.v[0])+','+bmFloor(itemData.c.v[1])+','+bmFloor(itemData.c.v[2])+')');}if(itemData.o._mdf||isFirstFrame){styleElem.pElem.setAttribute('fill-opacity',itemData.o.v);}}function renderGradientStroke(styleData,itemData,isFirstFrame){renderGradient(styleData,itemData,isFirstFrame);renderStroke(styleData,itemData,isFirstFrame);}function renderGradient(styleData,itemData,isFirstFrame){var gfill=itemData.gf;var hasOpacity=itemData.g._hasOpacity;var pt1=itemData.s.v;var pt2=itemData.e.v;if(itemData.o._mdf||isFirstFrame){var attr=styleData.ty==='gf'?'fill-opacity':'stroke-opacity';itemData.style.pElem.setAttribute(attr,itemData.o.v);}if(itemData.s._mdf||isFirstFrame){var attr1=styleData.t===1?'x1':'cx';var attr2=attr1==='x1'?'y1':'cy';gfill.setAttribute(attr1,pt1[0]);gfill.setAttribute(attr2,pt1[1]);if(hasOpacity&&!itemData.g._collapsable){itemData.of.setAttribute(attr1,pt1[0]);itemData.of.setAttribute(attr2,pt1[1]);}}var stops;var i;var len;var stop;if(itemData.g._cmdf||isFirstFrame){stops=itemData.cst;var cValues=itemData.g.c;len=stops.length;for(i=0;i<len;i+=1){stop=stops[i];stop.setAttribute('offset',cValues[i*4]+'%');stop.setAttribute('stop-color','rgb('+cValues[i*4+1]+','+cValues[i*4+2]+','+cValues[i*4+3]+')');}}if(hasOpacity&&(itemData.g._omdf||isFirstFrame)){var oValues=itemData.g.o;if(itemData.g._collapsable){stops=itemData.cst;}else{stops=itemData.ost;}len=stops.length;for(i=0;i<len;i+=1){stop=stops[i];if(!itemData.g._collapsable){stop.setAttribute('offset',oValues[i*2]+'%');}stop.setAttribute('stop-opacity',oValues[i*2+1]);}}if(styleData.t===1){if(itemData.e._mdf||isFirstFrame){gfill.setAttribute('x2',pt2[0]);gfill.setAttribute('y2',pt2[1]);if(hasOpacity&&!itemData.g._collapsable){itemData.of.setAttribute('x2',pt2[0]);itemData.of.setAttribute('y2',pt2[1]);}}}else{var rad;if(itemData.s._mdf||itemData.e._mdf||isFirstFrame){rad=Math.sqrt(Math.pow(pt1[0]-pt2[0],2)+Math.pow(pt1[1]-pt2[1],2));gfill.setAttribute('r',rad);if(hasOpacity&&!itemData.g._collapsable){itemData.of.setAttribute('r',rad);}}if(itemData.e._mdf||itemData.h._mdf||itemData.a._mdf||isFirstFrame){if(!rad){rad=Math.sqrt(Math.pow(pt1[0]-pt2[0],2)+Math.pow(pt1[1]-pt2[1],2));}var ang=Math.atan2(pt2[1]-pt1[1],pt2[0]-pt1[0]);var percent=itemData.h.v;if(percent>=1){percent=0.99;}else if(percent<=-1){percent=-0.99;}var dist=rad*percent;var x=Math.cos(ang+itemData.a.v)*dist+pt1[0];var y=Math.sin(ang+itemData.a.v)*dist+pt1[1];gfill.setAttribute('fx',x);gfill.setAttribute('fy',y);if(hasOpacity&&!itemData.g._collapsable){itemData.of.setAttribute('fx',x);itemData.of.setAttribute('fy',y);}}// gfill.setAttribute('fy','200');\n}}function renderStroke(styleData,itemData,isFirstFrame){var styleElem=itemData.style;var d=itemData.d;if(d&&(d._mdf||isFirstFrame)&&d.dashStr){styleElem.pElem.setAttribute('stroke-dasharray',d.dashStr);styleElem.pElem.setAttribute('stroke-dashoffset',d.dashoffset[0]);}if(itemData.c&&(itemData.c._mdf||isFirstFrame)){styleElem.pElem.setAttribute('stroke','rgb('+bmFloor(itemData.c.v[0])+','+bmFloor(itemData.c.v[1])+','+bmFloor(itemData.c.v[2])+')');}if(itemData.o._mdf||isFirstFrame){styleElem.pElem.setAttribute('stroke-opacity',itemData.o.v);}if(itemData.w._mdf||isFirstFrame){styleElem.pElem.setAttribute('stroke-width',itemData.w.v);if(styleElem.msElem){styleElem.msElem.setAttribute('stroke-width',itemData.w.v);}}}return ob;}();function SVGShapeElement(data,globalData,comp){// List of drawable elements\nthis.shapes=[];// Full shape data\nthis.shapesData=data.shapes;// List of styles that will be applied to shapes\nthis.stylesList=[];// List of modifiers that will be applied to shapes\nthis.shapeModifiers=[];// List of items in shape tree\nthis.itemsData=[];// List of items in previous shape tree\nthis.processedElements=[];// List of animated components\nthis.animatedContents=[];this.initElement(data,globalData,comp);// Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n// List of elements that have been created\nthis.prevViewData=[];// Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement);SVGShapeElement.prototype.initSecondaryElement=function(){};SVGShapeElement.prototype.identityMatrix=new Matrix();SVGShapeElement.prototype.buildExpressionInterface=function(){};SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],true);this.filterUniqueShapes();};/*\r\n  This method searches for multiple shapes that affect a single element and one of them is animated\r\n  */SVGShapeElement.prototype.filterUniqueShapes=function(){var i;var len=this.shapes.length;var shape;var j;var jLen=this.stylesList.length;var style;var tempShapes=[];var areAnimated=false;for(j=0;j<jLen;j+=1){style=this.stylesList[j];areAnimated=false;tempShapes.length=0;for(i=0;i<len;i+=1){shape=this.shapes[i];if(shape.styles.indexOf(style)!==-1){tempShapes.push(shape);areAnimated=shape._isAnimated||areAnimated;}}if(tempShapes.length>1&&areAnimated){this.setShapesAsAnimated(tempShapes);}}};SVGShapeElement.prototype.setShapesAsAnimated=function(shapes){var i;var len=shapes.length;for(i=0;i<len;i+=1){shapes[i].setAsAnimated();}};SVGShapeElement.prototype.createStyleElement=function(data,level){// TODO: prevent drawing of hidden styles\nvar elementData;var styleOb=new SVGStyleData(data,level);var pathElement=styleOb.pElem;if(data.ty==='st'){elementData=new SVGStrokeStyleData(this,data,styleOb);}else if(data.ty==='fl'){elementData=new SVGFillStyleData(this,data,styleOb);}else if(data.ty==='gf'||data.ty==='gs'){var GradientConstructor=data.ty==='gf'?SVGGradientFillStyleData:SVGGradientStrokeStyleData;elementData=new GradientConstructor(this,data,styleOb);this.globalData.defs.appendChild(elementData.gf);if(elementData.maskId){this.globalData.defs.appendChild(elementData.ms);this.globalData.defs.appendChild(elementData.of);pathElement.setAttribute('mask','url('+getLocationHref()+'#'+elementData.maskId+')');}}else if(data.ty==='no'){elementData=new SVGNoStyleData(this,data,styleOb);}if(data.ty==='st'||data.ty==='gs'){pathElement.setAttribute('stroke-linecap',lineCapEnum[data.lc||2]);pathElement.setAttribute('stroke-linejoin',lineJoinEnum[data.lj||2]);pathElement.setAttribute('fill-opacity','0');if(data.lj===1){pathElement.setAttribute('stroke-miterlimit',data.ml);}}if(data.r===2){pathElement.setAttribute('fill-rule','evenodd');}if(data.ln){pathElement.setAttribute('id',data.ln);}if(data.cl){pathElement.setAttribute('class',data.cl);}if(data.bm){pathElement.style['mix-blend-mode']=getBlendMode(data.bm);}this.stylesList.push(styleOb);this.addToAnimatedContents(data,elementData);return elementData;};SVGShapeElement.prototype.createGroupElement=function(data){var elementData=new ShapeGroupData();if(data.ln){elementData.gr.setAttribute('id',data.ln);}if(data.cl){elementData.gr.setAttribute('class',data.cl);}if(data.bm){elementData.gr.style['mix-blend-mode']=getBlendMode(data.bm);}return elementData;};SVGShapeElement.prototype.createTransformElement=function(data,container){var transformProperty=TransformPropertyFactory.getTransformProperty(this,data,this);var elementData=new SVGTransformData(transformProperty,transformProperty.o,container);this.addToAnimatedContents(data,elementData);return elementData;};SVGShapeElement.prototype.createShapeElement=function(data,ownTransformers,level){var ty=4;if(data.ty==='rc'){ty=5;}else if(data.ty==='el'){ty=6;}else if(data.ty==='sr'){ty=7;}var shapeProperty=ShapePropertyFactory.getShapeProp(this,data,ty,this);var elementData=new SVGShapeData(ownTransformers,level,shapeProperty);this.shapes.push(elementData);this.addShapeToModifiers(elementData);this.addToAnimatedContents(data,elementData);return elementData;};SVGShapeElement.prototype.addToAnimatedContents=function(data,element){var i=0;var len=this.animatedContents.length;while(i<len){if(this.animatedContents[i].element===element){return;}i+=1;}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(data),element:element,data:data});};SVGShapeElement.prototype.setElementStyles=function(elementData){var arr=elementData.styles;var j;var jLen=this.stylesList.length;for(j=0;j<jLen;j+=1){if(!this.stylesList[j].closed){arr.push(this.stylesList[j]);}}};SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=true;var i;var len=this.itemsData.length;for(i=0;i<len;i+=1){this.prevViewData[i]=this.itemsData[i];}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],true);this.filterUniqueShapes();len=this.dynamicProperties.length;for(i=0;i<len;i+=1){this.dynamicProperties[i].getValue();}this.renderModifiers();};SVGShapeElement.prototype.searchShapes=function(arr,itemsData,prevViewData,container,level,transformers,render){var ownTransformers=[].concat(transformers);var i;var len=arr.length-1;var j;var jLen;var ownStyles=[];var ownModifiers=[];var currentTransform;var modifier;var processedPos;for(i=len;i>=0;i-=1){processedPos=this.searchProcessedElement(arr[i]);if(!processedPos){arr[i]._render=render;}else{itemsData[i]=prevViewData[processedPos-1];}if(arr[i].ty==='fl'||arr[i].ty==='st'||arr[i].ty==='gf'||arr[i].ty==='gs'||arr[i].ty==='no'){if(!processedPos){itemsData[i]=this.createStyleElement(arr[i],level);}else{itemsData[i].style.closed=false;}if(arr[i]._render){if(itemsData[i].style.pElem.parentNode!==container){container.appendChild(itemsData[i].style.pElem);}}ownStyles.push(itemsData[i].style);}else if(arr[i].ty==='gr'){if(!processedPos){itemsData[i]=this.createGroupElement(arr[i]);}else{jLen=itemsData[i].it.length;for(j=0;j<jLen;j+=1){itemsData[i].prevViewData[j]=itemsData[i].it[j];}}this.searchShapes(arr[i].it,itemsData[i].it,itemsData[i].prevViewData,itemsData[i].gr,level+1,ownTransformers,render);if(arr[i]._render){if(itemsData[i].gr.parentNode!==container){container.appendChild(itemsData[i].gr);}}}else if(arr[i].ty==='tr'){if(!processedPos){itemsData[i]=this.createTransformElement(arr[i],container);}currentTransform=itemsData[i].transform;ownTransformers.push(currentTransform);}else if(arr[i].ty==='sh'||arr[i].ty==='rc'||arr[i].ty==='el'||arr[i].ty==='sr'){if(!processedPos){itemsData[i]=this.createShapeElement(arr[i],ownTransformers,level);}this.setElementStyles(itemsData[i]);}else if(arr[i].ty==='tm'||arr[i].ty==='rd'||arr[i].ty==='ms'||arr[i].ty==='pb'||arr[i].ty==='zz'||arr[i].ty==='op'){if(!processedPos){modifier=ShapeModifiers.getModifier(arr[i].ty);modifier.init(this,arr[i]);itemsData[i]=modifier;this.shapeModifiers.push(modifier);}else{modifier=itemsData[i];modifier.closed=false;}ownModifiers.push(modifier);}else if(arr[i].ty==='rp'){if(!processedPos){modifier=ShapeModifiers.getModifier(arr[i].ty);itemsData[i]=modifier;modifier.init(this,arr,i,itemsData);this.shapeModifiers.push(modifier);render=false;}else{modifier=itemsData[i];modifier.closed=true;}ownModifiers.push(modifier);}this.addProcessedElement(arr[i],i+1);}len=ownStyles.length;for(i=0;i<len;i+=1){ownStyles[i].closed=true;}len=ownModifiers.length;for(i=0;i<len;i+=1){ownModifiers[i].closed=true;}};SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var i;var len=this.stylesList.length;for(i=0;i<len;i+=1){this.stylesList[i].reset();}this.renderShape();for(i=0;i<len;i+=1){if(this.stylesList[i]._mdf||this._isFirstFrame){if(this.stylesList[i].msElem){this.stylesList[i].msElem.setAttribute('d',this.stylesList[i].d);// Adding M0 0 fixes same mask bug on all browsers\nthis.stylesList[i].d='M0 0'+this.stylesList[i].d;}this.stylesList[i].pElem.setAttribute('d',this.stylesList[i].d||'M0 0');}}};SVGShapeElement.prototype.renderShape=function(){var i;var len=this.animatedContents.length;var animatedContent;for(i=0;i<len;i+=1){animatedContent=this.animatedContents[i];if((this._isFirstFrame||animatedContent.element._isAnimated)&&animatedContent.data!==true){animatedContent.fn(animatedContent.data,animatedContent.element,this._isFirstFrame);}}};SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement();this.shapesData=null;this.itemsData=null;};function LetterProps(o,sw,sc,fc,m,p){this.o=o;this.sw=sw;this.sc=sc;this.fc=fc;this.m=m;this.p=p;this._mdf={o:true,sw:!!sw,sc:!!sc,fc:!!fc,m:true,p:true};}LetterProps.prototype.update=function(o,sw,sc,fc,m,p){this._mdf.o=false;this._mdf.sw=false;this._mdf.sc=false;this._mdf.fc=false;this._mdf.m=false;this._mdf.p=false;var updated=false;if(this.o!==o){this.o=o;this._mdf.o=true;updated=true;}if(this.sw!==sw){this.sw=sw;this._mdf.sw=true;updated=true;}if(this.sc!==sc){this.sc=sc;this._mdf.sc=true;updated=true;}if(this.fc!==fc){this.fc=fc;this._mdf.fc=true;updated=true;}if(this.m!==m){this.m=m;this._mdf.m=true;updated=true;}if(p.length&&(this.p[0]!==p[0]||this.p[1]!==p[1]||this.p[4]!==p[4]||this.p[5]!==p[5]||this.p[12]!==p[12]||this.p[13]!==p[13])){this.p=p;this._mdf.p=true;updated=true;}return updated;};function TextProperty(elem,data){this._frameId=initialDefaultFrame;this.pv='';this.v='';this.kf=false;this._isFirstFrame=true;this._mdf=false;if(data.d&&data.d.sid){data.d=elem.globalData.slotManager.getProp(data.d);}this.data=data;this.elem=elem;this.comp=this.elem.comp;this.keysIndex=0;this.canResize=false;this.minimumFontSize=1;this.effectsSequence=[];this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:'',fStyle:'',fWeight:'',fc:'',j:'',justifyOffset:'',l:[],lh:0,lineWidths:[],ls:'',of:'',s:'',sc:'',sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:false,strokeColorAnim:false,strokeWidthAnim:false,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:false};this.copyData(this.currentData,this.data.d.k[0].s);if(!this.searchProperty()){this.completeTextData(this.currentData);}}TextProperty.prototype.defaultBoxWidth=[0,0];TextProperty.prototype.copyData=function(obj,data){for(var s in data){if(Object.prototype.hasOwnProperty.call(data,s)){obj[s]=data[s];}}return obj;};TextProperty.prototype.setCurrentData=function(data){if(!data.__complete){this.completeTextData(data);}this.currentData=data;this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth;this._mdf=true;};TextProperty.prototype.searchProperty=function(){return this.searchKeyframes();};TextProperty.prototype.searchKeyframes=function(){this.kf=this.data.d.k.length>1;if(this.kf){this.addEffect(this.getKeyframeValue.bind(this));}return this.kf;};TextProperty.prototype.addEffect=function(effectFunction){this.effectsSequence.push(effectFunction);this.elem.addDynamicProperty(this);};TextProperty.prototype.getValue=function(_finalValue){if((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!_finalValue){return;}this.currentData.t=this.data.d.k[this.keysIndex].s.t;var currentValue=this.currentData;var currentIndex=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return;}this.lock=true;this._mdf=false;var i;var len=this.effectsSequence.length;var finalValue=_finalValue||this.data.d.k[this.keysIndex].s;for(i=0;i<len;i+=1){// Checking if index changed to prevent creating a new object every time the expression updates.\nif(currentIndex!==this.keysIndex){finalValue=this.effectsSequence[i](finalValue,finalValue.t);}else{finalValue=this.effectsSequence[i](this.currentData,finalValue.t);}}if(currentValue!==finalValue){this.setCurrentData(finalValue);}this.v=this.currentData;this.pv=this.v;this.lock=false;this.frameId=this.elem.globalData.frameId;};TextProperty.prototype.getKeyframeValue=function(){var textKeys=this.data.d.k;var frameNum=this.elem.comp.renderedFrame;var i=0;var len=textKeys.length;while(i<=len-1){if(i===len-1||textKeys[i+1].t>frameNum){break;}i+=1;}if(this.keysIndex!==i){this.keysIndex=i;}return this.data.d.k[this.keysIndex].s;};TextProperty.prototype.buildFinalText=function(text){var charactersArray=[];var i=0;var len=text.length;var charCode;var secondCharCode;var shouldCombine=false;var shouldCombineNext=false;var currentChars='';while(i<len){shouldCombine=shouldCombineNext;shouldCombineNext=false;charCode=text.charCodeAt(i);currentChars=text.charAt(i);if(FontManager.isCombinedCharacter(charCode)){shouldCombine=true;// It's a potential surrogate pair (this is the High surrogate)\n}else if(charCode>=0xD800&&charCode<=0xDBFF){if(FontManager.isRegionalFlag(text,i)){currentChars=text.substr(i,14);}else{secondCharCode=text.charCodeAt(i+1);// It's a surrogate pair (this is the Low surrogate)\nif(secondCharCode>=0xDC00&&secondCharCode<=0xDFFF){if(FontManager.isModifier(charCode,secondCharCode)){currentChars=text.substr(i,2);shouldCombine=true;}else if(FontManager.isFlagEmoji(text.substr(i,4))){currentChars=text.substr(i,4);}else{currentChars=text.substr(i,2);}}}}else if(charCode>0xDBFF){secondCharCode=text.charCodeAt(i+1);if(FontManager.isVariationSelector(charCode)){shouldCombine=true;}}else if(FontManager.isZeroWidthJoiner(charCode)){shouldCombine=true;shouldCombineNext=true;}if(shouldCombine){charactersArray[charactersArray.length-1]+=currentChars;shouldCombine=false;}else{charactersArray.push(currentChars);}i+=currentChars.length;}return charactersArray;};TextProperty.prototype.completeTextData=function(documentData){documentData.__complete=true;var fontManager=this.elem.globalData.fontManager;var data=this.data;var letters=[];var i;var len;var newLineFlag;var index=0;var val;var anchorGrouping=data.m.g;var currentSize=0;var currentPos=0;var currentLine=0;var lineWidths=[];var lineWidth=0;var maxLineWidth=0;var j;var jLen;var fontData=fontManager.getFontByName(documentData.f);var charData;var cLength=0;var fontProps=getFontProperties(fontData);documentData.fWeight=fontProps.weight;documentData.fStyle=fontProps.style;documentData.finalSize=documentData.s;documentData.finalText=this.buildFinalText(documentData.t);len=documentData.finalText.length;documentData.finalLineHeight=documentData.lh;var trackingOffset=documentData.tr/1000*documentData.finalSize;var charCode;if(documentData.sz){var flag=true;var boxWidth=documentData.sz[0];var boxHeight=documentData.sz[1];var currentHeight;var finalText;while(flag){finalText=this.buildFinalText(documentData.t);currentHeight=0;lineWidth=0;len=finalText.length;trackingOffset=documentData.tr/1000*documentData.finalSize;var lastSpaceIndex=-1;for(i=0;i<len;i+=1){charCode=finalText[i].charCodeAt(0);newLineFlag=false;if(finalText[i]===' '){lastSpaceIndex=i;}else if(charCode===13||charCode===3){lineWidth=0;newLineFlag=true;currentHeight+=documentData.finalLineHeight||documentData.finalSize*1.2;}if(fontManager.chars){charData=fontManager.getCharData(finalText[i],fontData.fStyle,fontData.fFamily);cLength=newLineFlag?0:charData.w*documentData.finalSize/100;}else{// tCanvasHelper.font = documentData.s + 'px '+ fontData.fFamily;\ncLength=fontManager.measureText(finalText[i],documentData.f,documentData.finalSize);}if(lineWidth+cLength>boxWidth&&finalText[i]!==' '){if(lastSpaceIndex===-1){len+=1;}else{i=lastSpaceIndex;}currentHeight+=documentData.finalLineHeight||documentData.finalSize*1.2;finalText.splice(i,lastSpaceIndex===i?1:0,'\\r');// finalText = finalText.substr(0,i) + \"\\r\" + finalText.substr(i === lastSpaceIndex ? i + 1 : i);\nlastSpaceIndex=-1;lineWidth=0;}else{lineWidth+=cLength;lineWidth+=trackingOffset;}}currentHeight+=fontData.ascent*documentData.finalSize/100;if(this.canResize&&documentData.finalSize>this.minimumFontSize&&boxHeight<currentHeight){documentData.finalSize-=1;documentData.finalLineHeight=documentData.finalSize*documentData.lh/documentData.s;}else{documentData.finalText=finalText;len=documentData.finalText.length;flag=false;}}}lineWidth=-trackingOffset;cLength=0;var uncollapsedSpaces=0;var currentChar;for(i=0;i<len;i+=1){newLineFlag=false;currentChar=documentData.finalText[i];charCode=currentChar.charCodeAt(0);if(charCode===13||charCode===3){uncollapsedSpaces=0;lineWidths.push(lineWidth);maxLineWidth=lineWidth>maxLineWidth?lineWidth:maxLineWidth;lineWidth=-2*trackingOffset;val='';newLineFlag=true;currentLine+=1;}else{val=currentChar;}if(fontManager.chars){charData=fontManager.getCharData(currentChar,fontData.fStyle,fontManager.getFontByName(documentData.f).fFamily);cLength=newLineFlag?0:charData.w*documentData.finalSize/100;}else{// var charWidth = fontManager.measureText(val, documentData.f, documentData.finalSize);\n// tCanvasHelper.font = documentData.finalSize + 'px '+ fontManager.getFontByName(documentData.f).fFamily;\ncLength=fontManager.measureText(val,documentData.f,documentData.finalSize);}//\nif(currentChar===' '){uncollapsedSpaces+=cLength+trackingOffset;}else{lineWidth+=cLength+trackingOffset+uncollapsedSpaces;uncollapsedSpaces=0;}letters.push({l:cLength,an:cLength,add:currentSize,n:newLineFlag,anIndexes:[],val:val,line:currentLine,animatorJustifyOffset:0});if(anchorGrouping==2){// eslint-disable-line eqeqeq\ncurrentSize+=cLength;if(val===''||val===' '||i===len-1){if(val===''||val===' '){currentSize-=cLength;}while(currentPos<=i){letters[currentPos].an=currentSize;letters[currentPos].ind=index;letters[currentPos].extra=cLength;currentPos+=1;}index+=1;currentSize=0;}}else if(anchorGrouping==3){// eslint-disable-line eqeqeq\ncurrentSize+=cLength;if(val===''||i===len-1){if(val===''){currentSize-=cLength;}while(currentPos<=i){letters[currentPos].an=currentSize;letters[currentPos].ind=index;letters[currentPos].extra=cLength;currentPos+=1;}currentSize=0;index+=1;}}else{letters[index].ind=index;letters[index].extra=0;index+=1;}}documentData.l=letters;maxLineWidth=lineWidth>maxLineWidth?lineWidth:maxLineWidth;lineWidths.push(lineWidth);if(documentData.sz){documentData.boxWidth=documentData.sz[0];documentData.justifyOffset=0;}else{documentData.boxWidth=maxLineWidth;switch(documentData.j){case 1:documentData.justifyOffset=-documentData.boxWidth;break;case 2:documentData.justifyOffset=-documentData.boxWidth/2;break;default:documentData.justifyOffset=0;}}documentData.lineWidths=lineWidths;var animators=data.a;var animatorData;var letterData;jLen=animators.length;var based;var ind;var indexes=[];for(j=0;j<jLen;j+=1){animatorData=animators[j];if(animatorData.a.sc){documentData.strokeColorAnim=true;}if(animatorData.a.sw){documentData.strokeWidthAnim=true;}if(animatorData.a.fc||animatorData.a.fh||animatorData.a.fs||animatorData.a.fb){documentData.fillColorAnim=true;}ind=0;based=animatorData.s.b;for(i=0;i<len;i+=1){letterData=letters[i];letterData.anIndexes[j]=ind;if(based==1&&letterData.val!==''||based==2&&letterData.val!==''&&letterData.val!==' '||based==3&&(letterData.n||letterData.val==' '||i==len-1)||based==4&&(letterData.n||i==len-1)){// eslint-disable-line eqeqeq\nif(animatorData.s.rn===1){indexes.push(ind);}ind+=1;}}data.a[j].s.totalChars=ind;var currentInd=-1;var newInd;if(animatorData.s.rn===1){for(i=0;i<len;i+=1){letterData=letters[i];if(currentInd!=letterData.anIndexes[j]){// eslint-disable-line eqeqeq\ncurrentInd=letterData.anIndexes[j];newInd=indexes.splice(Math.floor(Math.random()*indexes.length),1)[0];}letterData.anIndexes[j]=newInd;}}}documentData.yOffset=documentData.finalLineHeight||documentData.finalSize*1.2;documentData.ls=documentData.ls||0;documentData.ascent=fontData.ascent*documentData.finalSize/100;};TextProperty.prototype.updateDocumentData=function(newData,index){index=index===undefined?this.keysIndex:index;var dData=this.copyData({},this.data.d.k[index].s);dData=this.copyData(dData,newData);this.data.d.k[index].s=dData;this.recalculate(index);this.setCurrentData(dData);this.elem.addDynamicProperty(this);};TextProperty.prototype.recalculate=function(index){var dData=this.data.d.k[index].s;dData.__complete=false;this.keysIndex=0;this._isFirstFrame=true;this.getValue(dData);};TextProperty.prototype.canResizeFont=function(_canResize){this.canResize=_canResize;this.recalculate(this.keysIndex);this.elem.addDynamicProperty(this);};TextProperty.prototype.setMinimumFontSize=function(_fontValue){this.minimumFontSize=Math.floor(_fontValue)||1;this.recalculate(this.keysIndex);this.elem.addDynamicProperty(this);};var TextSelectorProp=function(){var max=Math.max;var min=Math.min;var floor=Math.floor;function TextSelectorPropFactory(elem,data){this._currentTextLength=-1;this.k=false;this.data=data;this.elem=elem;this.comp=elem.comp;this.finalS=0;this.finalE=0;this.initDynamicPropertyContainer(elem);this.s=PropertyFactory.getProp(elem,data.s||{k:0},0,0,this);if('e'in data){this.e=PropertyFactory.getProp(elem,data.e,0,0,this);}else{this.e={v:100};}this.o=PropertyFactory.getProp(elem,data.o||{k:0},0,0,this);this.xe=PropertyFactory.getProp(elem,data.xe||{k:0},0,0,this);this.ne=PropertyFactory.getProp(elem,data.ne||{k:0},0,0,this);this.sm=PropertyFactory.getProp(elem,data.sm||{k:100},0,0,this);this.a=PropertyFactory.getProp(elem,data.a,0,0.01,this);if(!this.dynamicProperties.length){this.getValue();}}TextSelectorPropFactory.prototype={getMult:function getMult(ind){if(this._currentTextLength!==this.elem.textProperty.currentData.l.length){this.getValue();}var x1=0;var y1=0;var x2=1;var y2=1;if(this.ne.v>0){x1=this.ne.v/100.0;}else{y1=-this.ne.v/100.0;}if(this.xe.v>0){x2=1.0-this.xe.v/100.0;}else{y2=1.0+this.xe.v/100.0;}var easer=BezierFactory.getBezierEasing(x1,y1,x2,y2).get;var mult=0;var s=this.finalS;var e=this.finalE;var type=this.data.sh;if(type===2){if(e===s){mult=ind>=e?1:0;}else{mult=max(0,min(0.5/(e-s)+(ind-s)/(e-s),1));}mult=easer(mult);}else if(type===3){if(e===s){mult=ind>=e?0:1;}else{mult=1-max(0,min(0.5/(e-s)+(ind-s)/(e-s),1));}mult=easer(mult);}else if(type===4){if(e===s){mult=0;}else{mult=max(0,min(0.5/(e-s)+(ind-s)/(e-s),1));if(mult<0.5){mult*=2;}else{mult=1-2*(mult-0.5);}}mult=easer(mult);}else if(type===5){if(e===s){mult=0;}else{var tot=e-s;/* ind += 0.5;\r\n                      mult = -4/(tot*tot)*(ind*ind)+(4/tot)*ind; */ind=min(max(0,ind+0.5-s),e-s);var x=-tot/2+ind;var a=tot/2;mult=Math.sqrt(1-x*x/(a*a));}mult=easer(mult);}else if(type===6){if(e===s){mult=0;}else{ind=min(max(0,ind+0.5-s),e-s);mult=(1+Math.cos(Math.PI+Math.PI*2*ind/(e-s)))/2;// eslint-disable-line\n}mult=easer(mult);}else{if(ind>=floor(s)){if(ind-s<0){mult=max(0,min(min(e,1)-(s-ind),1));}else{mult=max(0,min(e-ind,1));}}mult=easer(mult);}// Smoothness implementation.\n// The smoothness represents a reduced range of the original [0; 1] range.\n// if smoothness is 25%, the new range will be [0.375; 0.625]\n// Steps are:\n// - find the lower value of the new range (threshold)\n// - if multiplier is smaller than that value, floor it to 0\n// - if it is larger,\n//     - subtract the threshold\n//     - divide it by the smoothness (this will return the range to [0; 1])\n// Note: If it doesn't work on some scenarios, consider applying it before the easer.\nif(this.sm.v!==100){var smoothness=this.sm.v*0.01;if(smoothness===0){smoothness=0.00000001;}var threshold=0.5-smoothness*0.5;if(mult<threshold){mult=0;}else{mult=(mult-threshold)/smoothness;if(mult>1){mult=1;}}}return mult*this.a.v;},getValue:function getValue(newCharsFlag){this.iterateDynamicProperties();this._mdf=newCharsFlag||this._mdf;this._currentTextLength=this.elem.textProperty.currentData.l.length||0;if(newCharsFlag&&this.data.r===2){this.e.v=this._currentTextLength;}var divisor=this.data.r===2?1:100/this.data.totalChars;var o=this.o.v/divisor;var s=this.s.v/divisor+o;var e=this.e.v/divisor+o;if(s>e){var _s=s;s=e;e=_s;}this.finalS=s;this.finalE=e;}};extendPrototype([DynamicPropertyContainer],TextSelectorPropFactory);function getTextSelectorProp(elem,data,arr){return new TextSelectorPropFactory(elem,data,arr);}return{getTextSelectorProp:getTextSelectorProp};}();function TextAnimatorDataProperty(elem,animatorProps,container){var defaultData={propType:false};var getProp=PropertyFactory.getProp;var textAnimatorAnimatables=animatorProps.a;this.a={r:textAnimatorAnimatables.r?getProp(elem,textAnimatorAnimatables.r,0,degToRads,container):defaultData,rx:textAnimatorAnimatables.rx?getProp(elem,textAnimatorAnimatables.rx,0,degToRads,container):defaultData,ry:textAnimatorAnimatables.ry?getProp(elem,textAnimatorAnimatables.ry,0,degToRads,container):defaultData,sk:textAnimatorAnimatables.sk?getProp(elem,textAnimatorAnimatables.sk,0,degToRads,container):defaultData,sa:textAnimatorAnimatables.sa?getProp(elem,textAnimatorAnimatables.sa,0,degToRads,container):defaultData,s:textAnimatorAnimatables.s?getProp(elem,textAnimatorAnimatables.s,1,0.01,container):defaultData,a:textAnimatorAnimatables.a?getProp(elem,textAnimatorAnimatables.a,1,0,container):defaultData,o:textAnimatorAnimatables.o?getProp(elem,textAnimatorAnimatables.o,0,0.01,container):defaultData,p:textAnimatorAnimatables.p?getProp(elem,textAnimatorAnimatables.p,1,0,container):defaultData,sw:textAnimatorAnimatables.sw?getProp(elem,textAnimatorAnimatables.sw,0,0,container):defaultData,sc:textAnimatorAnimatables.sc?getProp(elem,textAnimatorAnimatables.sc,1,0,container):defaultData,fc:textAnimatorAnimatables.fc?getProp(elem,textAnimatorAnimatables.fc,1,0,container):defaultData,fh:textAnimatorAnimatables.fh?getProp(elem,textAnimatorAnimatables.fh,0,0,container):defaultData,fs:textAnimatorAnimatables.fs?getProp(elem,textAnimatorAnimatables.fs,0,0.01,container):defaultData,fb:textAnimatorAnimatables.fb?getProp(elem,textAnimatorAnimatables.fb,0,0.01,container):defaultData,t:textAnimatorAnimatables.t?getProp(elem,textAnimatorAnimatables.t,0,0,container):defaultData};this.s=TextSelectorProp.getTextSelectorProp(elem,animatorProps.s,container);this.s.t=animatorProps.s.t;}function TextAnimatorProperty(textData,renderType,elem){this._isFirstFrame=true;this._hasMaskedPath=false;this._frameId=-1;this._textData=textData;this._renderType=renderType;this._elem=elem;this._animatorsData=createSizedArray(this._textData.a.length);this._pathData={};this._moreOptions={alignment:{}};this.renderedLetters=[];this.lettersChangedFlag=false;this.initDynamicPropertyContainer(elem);}TextAnimatorProperty.prototype.searchProperties=function(){var i;var len=this._textData.a.length;var animatorProps;var getProp=PropertyFactory.getProp;for(i=0;i<len;i+=1){animatorProps=this._textData.a[i];this._animatorsData[i]=new TextAnimatorDataProperty(this._elem,animatorProps,this);}if(this._textData.p&&'m'in this._textData.p){this._pathData={a:getProp(this._elem,this._textData.p.a,0,0,this),f:getProp(this._elem,this._textData.p.f,0,0,this),l:getProp(this._elem,this._textData.p.l,0,0,this),r:getProp(this._elem,this._textData.p.r,0,0,this),p:getProp(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)};this._hasMaskedPath=true;}else{this._hasMaskedPath=false;}this._moreOptions.alignment=getProp(this._elem,this._textData.m.a,1,0,this);};TextAnimatorProperty.prototype.getMeasures=function(documentData,lettersChangedFlag){this.lettersChangedFlag=lettersChangedFlag;if(!this._mdf&&!this._isFirstFrame&&!lettersChangedFlag&&(!this._hasMaskedPath||!this._pathData.m._mdf)){return;}this._isFirstFrame=false;var alignment=this._moreOptions.alignment.v;var animators=this._animatorsData;var textData=this._textData;var matrixHelper=this.mHelper;var renderType=this._renderType;var renderedLettersCount=this.renderedLetters.length;var xPos;var yPos;var i;var len;var letters=documentData.l;var pathInfo;var currentLength;var currentPoint;var segmentLength;var flag;var pointInd;var segmentInd;var prevPoint;var points;var segments;var partialLength;var totalLength;var perc;var tanAngle;var mask;if(this._hasMaskedPath){mask=this._pathData.m;if(!this._pathData.n||this._pathData._mdf){var paths=mask.v;if(this._pathData.r.v){paths=paths.reverse();}// TODO: release bezier data cached from previous pathInfo: this._pathData.pi\npathInfo={tLength:0,segments:[]};len=paths._length-1;var bezierData;totalLength=0;for(i=0;i<len;i+=1){bezierData=bez.buildBezierData(paths.v[i],paths.v[i+1],[paths.o[i][0]-paths.v[i][0],paths.o[i][1]-paths.v[i][1]],[paths.i[i+1][0]-paths.v[i+1][0],paths.i[i+1][1]-paths.v[i+1][1]]);pathInfo.tLength+=bezierData.segmentLength;pathInfo.segments.push(bezierData);totalLength+=bezierData.segmentLength;}i=len;if(mask.v.c){bezierData=bez.buildBezierData(paths.v[i],paths.v[0],[paths.o[i][0]-paths.v[i][0],paths.o[i][1]-paths.v[i][1]],[paths.i[0][0]-paths.v[0][0],paths.i[0][1]-paths.v[0][1]]);pathInfo.tLength+=bezierData.segmentLength;pathInfo.segments.push(bezierData);totalLength+=bezierData.segmentLength;}this._pathData.pi=pathInfo;}pathInfo=this._pathData.pi;currentLength=this._pathData.f.v;segmentInd=0;pointInd=1;segmentLength=0;flag=true;segments=pathInfo.segments;if(currentLength<0&&mask.v.c){if(pathInfo.tLength<Math.abs(currentLength)){currentLength=-Math.abs(currentLength)%pathInfo.tLength;}segmentInd=segments.length-1;points=segments[segmentInd].points;pointInd=points.length-1;while(currentLength<0){currentLength+=points[pointInd].partialLength;pointInd-=1;if(pointInd<0){segmentInd-=1;points=segments[segmentInd].points;pointInd=points.length-1;}}}points=segments[segmentInd].points;prevPoint=points[pointInd-1];currentPoint=points[pointInd];partialLength=currentPoint.partialLength;}len=letters.length;xPos=0;yPos=0;var yOff=documentData.finalSize*1.2*0.714;var firstLine=true;var animatorProps;var animatorSelector;var j;var jLen;var letterValue;jLen=animators.length;var mult;var ind=-1;var offf;var xPathPos;var yPathPos;var initPathPos=currentLength;var initSegmentInd=segmentInd;var initPointInd=pointInd;var currentLine=-1;var elemOpacity;var sc;var sw;var fc;var k;var letterSw;var letterSc;var letterFc;var letterM='';var letterP=this.defaultPropsArray;var letterO;//\nif(documentData.j===2||documentData.j===1){var animatorJustifyOffset=0;var animatorFirstCharOffset=0;var justifyOffsetMult=documentData.j===2?-0.5:-1;var lastIndex=0;var isNewLine=true;for(i=0;i<len;i+=1){if(letters[i].n){if(animatorJustifyOffset){animatorJustifyOffset+=animatorFirstCharOffset;}while(lastIndex<i){letters[lastIndex].animatorJustifyOffset=animatorJustifyOffset;lastIndex+=1;}animatorJustifyOffset=0;isNewLine=true;}else{for(j=0;j<jLen;j+=1){animatorProps=animators[j].a;if(animatorProps.t.propType){if(isNewLine&&documentData.j===2){animatorFirstCharOffset+=animatorProps.t.v*justifyOffsetMult;}animatorSelector=animators[j].s;mult=animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);if(mult.length){animatorJustifyOffset+=animatorProps.t.v*mult[0]*justifyOffsetMult;}else{animatorJustifyOffset+=animatorProps.t.v*mult*justifyOffsetMult;}}}isNewLine=false;}}if(animatorJustifyOffset){animatorJustifyOffset+=animatorFirstCharOffset;}while(lastIndex<i){letters[lastIndex].animatorJustifyOffset=animatorJustifyOffset;lastIndex+=1;}}//\nfor(i=0;i<len;i+=1){matrixHelper.reset();elemOpacity=1;if(letters[i].n){xPos=0;yPos+=documentData.yOffset;yPos+=firstLine?1:0;currentLength=initPathPos;firstLine=false;if(this._hasMaskedPath){segmentInd=initSegmentInd;pointInd=initPointInd;points=segments[segmentInd].points;prevPoint=points[pointInd-1];currentPoint=points[pointInd];partialLength=currentPoint.partialLength;segmentLength=0;}letterM='';letterFc='';letterSw='';letterO='';letterP=this.defaultPropsArray;}else{if(this._hasMaskedPath){if(currentLine!==letters[i].line){switch(documentData.j){case 1:currentLength+=totalLength-documentData.lineWidths[letters[i].line];break;case 2:currentLength+=(totalLength-documentData.lineWidths[letters[i].line])/2;break;default:break;}currentLine=letters[i].line;}if(ind!==letters[i].ind){if(letters[ind]){currentLength+=letters[ind].extra;}currentLength+=letters[i].an/2;ind=letters[i].ind;}currentLength+=alignment[0]*letters[i].an*0.005;var animatorOffset=0;for(j=0;j<jLen;j+=1){animatorProps=animators[j].a;if(animatorProps.p.propType){animatorSelector=animators[j].s;mult=animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);if(mult.length){animatorOffset+=animatorProps.p.v[0]*mult[0];}else{animatorOffset+=animatorProps.p.v[0]*mult;}}if(animatorProps.a.propType){animatorSelector=animators[j].s;mult=animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);if(mult.length){animatorOffset+=animatorProps.a.v[0]*mult[0];}else{animatorOffset+=animatorProps.a.v[0]*mult;}}}flag=true;// Force alignment only works with a single line for now\nif(this._pathData.a.v){currentLength=letters[0].an*0.5+(totalLength-this._pathData.f.v-letters[0].an*0.5-letters[letters.length-1].an*0.5)*ind/(len-1);currentLength+=this._pathData.f.v;}while(flag){if(segmentLength+partialLength>=currentLength+animatorOffset||!points){perc=(currentLength+animatorOffset-segmentLength)/currentPoint.partialLength;xPathPos=prevPoint.point[0]+(currentPoint.point[0]-prevPoint.point[0])*perc;yPathPos=prevPoint.point[1]+(currentPoint.point[1]-prevPoint.point[1])*perc;matrixHelper.translate(-alignment[0]*letters[i].an*0.005,-(alignment[1]*yOff)*0.01);flag=false;}else if(points){segmentLength+=currentPoint.partialLength;pointInd+=1;if(pointInd>=points.length){pointInd=0;segmentInd+=1;if(!segments[segmentInd]){if(mask.v.c){pointInd=0;segmentInd=0;points=segments[segmentInd].points;}else{segmentLength-=currentPoint.partialLength;points=null;}}else{points=segments[segmentInd].points;}}if(points){prevPoint=currentPoint;currentPoint=points[pointInd];partialLength=currentPoint.partialLength;}}}offf=letters[i].an/2-letters[i].add;matrixHelper.translate(-offf,0,0);}else{offf=letters[i].an/2-letters[i].add;matrixHelper.translate(-offf,0,0);// Grouping alignment\nmatrixHelper.translate(-alignment[0]*letters[i].an*0.005,-alignment[1]*yOff*0.01,0);}for(j=0;j<jLen;j+=1){animatorProps=animators[j].a;if(animatorProps.t.propType){animatorSelector=animators[j].s;mult=animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);// This condition is to prevent applying tracking to first character in each line. Might be better to use a boolean \"isNewLine\"\nif(xPos!==0||documentData.j!==0){if(this._hasMaskedPath){if(mult.length){currentLength+=animatorProps.t.v*mult[0];}else{currentLength+=animatorProps.t.v*mult;}}else if(mult.length){xPos+=animatorProps.t.v*mult[0];}else{xPos+=animatorProps.t.v*mult;}}}}if(documentData.strokeWidthAnim){sw=documentData.sw||0;}if(documentData.strokeColorAnim){if(documentData.sc){sc=[documentData.sc[0],documentData.sc[1],documentData.sc[2]];}else{sc=[0,0,0];}}if(documentData.fillColorAnim&&documentData.fc){fc=[documentData.fc[0],documentData.fc[1],documentData.fc[2]];}for(j=0;j<jLen;j+=1){animatorProps=animators[j].a;if(animatorProps.a.propType){animatorSelector=animators[j].s;mult=animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);if(mult.length){matrixHelper.translate(-animatorProps.a.v[0]*mult[0],-animatorProps.a.v[1]*mult[1],animatorProps.a.v[2]*mult[2]);}else{matrixHelper.translate(-animatorProps.a.v[0]*mult,-animatorProps.a.v[1]*mult,animatorProps.a.v[2]*mult);}}}for(j=0;j<jLen;j+=1){animatorProps=animators[j].a;if(animatorProps.s.propType){animatorSelector=animators[j].s;mult=animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);if(mult.length){matrixHelper.scale(1+(animatorProps.s.v[0]-1)*mult[0],1+(animatorProps.s.v[1]-1)*mult[1],1);}else{matrixHelper.scale(1+(animatorProps.s.v[0]-1)*mult,1+(animatorProps.s.v[1]-1)*mult,1);}}}for(j=0;j<jLen;j+=1){animatorProps=animators[j].a;animatorSelector=animators[j].s;mult=animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);if(animatorProps.sk.propType){if(mult.length){matrixHelper.skewFromAxis(-animatorProps.sk.v*mult[0],animatorProps.sa.v*mult[1]);}else{matrixHelper.skewFromAxis(-animatorProps.sk.v*mult,animatorProps.sa.v*mult);}}if(animatorProps.r.propType){if(mult.length){matrixHelper.rotateZ(-animatorProps.r.v*mult[2]);}else{matrixHelper.rotateZ(-animatorProps.r.v*mult);}}if(animatorProps.ry.propType){if(mult.length){matrixHelper.rotateY(animatorProps.ry.v*mult[1]);}else{matrixHelper.rotateY(animatorProps.ry.v*mult);}}if(animatorProps.rx.propType){if(mult.length){matrixHelper.rotateX(animatorProps.rx.v*mult[0]);}else{matrixHelper.rotateX(animatorProps.rx.v*mult);}}if(animatorProps.o.propType){if(mult.length){elemOpacity+=(animatorProps.o.v*mult[0]-elemOpacity)*mult[0];}else{elemOpacity+=(animatorProps.o.v*mult-elemOpacity)*mult;}}if(documentData.strokeWidthAnim&&animatorProps.sw.propType){if(mult.length){sw+=animatorProps.sw.v*mult[0];}else{sw+=animatorProps.sw.v*mult;}}if(documentData.strokeColorAnim&&animatorProps.sc.propType){for(k=0;k<3;k+=1){if(mult.length){sc[k]+=(animatorProps.sc.v[k]-sc[k])*mult[0];}else{sc[k]+=(animatorProps.sc.v[k]-sc[k])*mult;}}}if(documentData.fillColorAnim&&documentData.fc){if(animatorProps.fc.propType){for(k=0;k<3;k+=1){if(mult.length){fc[k]+=(animatorProps.fc.v[k]-fc[k])*mult[0];}else{fc[k]+=(animatorProps.fc.v[k]-fc[k])*mult;}}}if(animatorProps.fh.propType){if(mult.length){fc=addHueToRGB(fc,animatorProps.fh.v*mult[0]);}else{fc=addHueToRGB(fc,animatorProps.fh.v*mult);}}if(animatorProps.fs.propType){if(mult.length){fc=addSaturationToRGB(fc,animatorProps.fs.v*mult[0]);}else{fc=addSaturationToRGB(fc,animatorProps.fs.v*mult);}}if(animatorProps.fb.propType){if(mult.length){fc=addBrightnessToRGB(fc,animatorProps.fb.v*mult[0]);}else{fc=addBrightnessToRGB(fc,animatorProps.fb.v*mult);}}}}for(j=0;j<jLen;j+=1){animatorProps=animators[j].a;if(animatorProps.p.propType){animatorSelector=animators[j].s;mult=animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);if(this._hasMaskedPath){if(mult.length){matrixHelper.translate(0,animatorProps.p.v[1]*mult[0],-animatorProps.p.v[2]*mult[1]);}else{matrixHelper.translate(0,animatorProps.p.v[1]*mult,-animatorProps.p.v[2]*mult);}}else if(mult.length){matrixHelper.translate(animatorProps.p.v[0]*mult[0],animatorProps.p.v[1]*mult[1],-animatorProps.p.v[2]*mult[2]);}else{matrixHelper.translate(animatorProps.p.v[0]*mult,animatorProps.p.v[1]*mult,-animatorProps.p.v[2]*mult);}}}if(documentData.strokeWidthAnim){letterSw=sw<0?0:sw;}if(documentData.strokeColorAnim){letterSc='rgb('+Math.round(sc[0]*255)+','+Math.round(sc[1]*255)+','+Math.round(sc[2]*255)+')';}if(documentData.fillColorAnim&&documentData.fc){letterFc='rgb('+Math.round(fc[0]*255)+','+Math.round(fc[1]*255)+','+Math.round(fc[2]*255)+')';}if(this._hasMaskedPath){matrixHelper.translate(0,-documentData.ls);matrixHelper.translate(0,alignment[1]*yOff*0.01+yPos,0);if(this._pathData.p.v){tanAngle=(currentPoint.point[1]-prevPoint.point[1])/(currentPoint.point[0]-prevPoint.point[0]);var rot=Math.atan(tanAngle)*180/Math.PI;if(currentPoint.point[0]<prevPoint.point[0]){rot+=180;}matrixHelper.rotate(-rot*Math.PI/180);}matrixHelper.translate(xPathPos,yPathPos,0);currentLength-=alignment[0]*letters[i].an*0.005;if(letters[i+1]&&ind!==letters[i+1].ind){currentLength+=letters[i].an/2;currentLength+=documentData.tr*0.001*documentData.finalSize;}}else{matrixHelper.translate(xPos,yPos,0);if(documentData.ps){// matrixHelper.translate(documentData.ps[0],documentData.ps[1],0);\nmatrixHelper.translate(documentData.ps[0],documentData.ps[1]+documentData.ascent,0);}switch(documentData.j){case 1:matrixHelper.translate(letters[i].animatorJustifyOffset+documentData.justifyOffset+(documentData.boxWidth-documentData.lineWidths[letters[i].line]),0,0);break;case 2:matrixHelper.translate(letters[i].animatorJustifyOffset+documentData.justifyOffset+(documentData.boxWidth-documentData.lineWidths[letters[i].line])/2,0,0);break;default:break;}matrixHelper.translate(0,-documentData.ls);matrixHelper.translate(offf,0,0);matrixHelper.translate(alignment[0]*letters[i].an*0.005,alignment[1]*yOff*0.01,0);xPos+=letters[i].l+documentData.tr*0.001*documentData.finalSize;}if(renderType==='html'){letterM=matrixHelper.toCSS();}else if(renderType==='svg'){letterM=matrixHelper.to2dCSS();}else{letterP=[matrixHelper.props[0],matrixHelper.props[1],matrixHelper.props[2],matrixHelper.props[3],matrixHelper.props[4],matrixHelper.props[5],matrixHelper.props[6],matrixHelper.props[7],matrixHelper.props[8],matrixHelper.props[9],matrixHelper.props[10],matrixHelper.props[11],matrixHelper.props[12],matrixHelper.props[13],matrixHelper.props[14],matrixHelper.props[15]];}letterO=elemOpacity;}if(renderedLettersCount<=i){letterValue=new LetterProps(letterO,letterSw,letterSc,letterFc,letterM,letterP);this.renderedLetters.push(letterValue);renderedLettersCount+=1;this.lettersChangedFlag=true;}else{letterValue=this.renderedLetters[i];this.lettersChangedFlag=letterValue.update(letterO,letterSw,letterSc,letterFc,letterM,letterP)||this.lettersChangedFlag;}}};TextAnimatorProperty.prototype.getValue=function(){if(this._elem.globalData.frameId===this._frameId){return;}this._frameId=this._elem.globalData.frameId;this.iterateDynamicProperties();};TextAnimatorProperty.prototype.mHelper=new Matrix();TextAnimatorProperty.prototype.defaultPropsArray=[];extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(data,globalData,comp){this.lettersChangedFlag=true;this.initFrame();this.initBaseData(data,globalData,comp);this.textProperty=new TextProperty(this,data.t,this.dynamicProperties);this.textAnimator=new TextAnimatorProperty(data.t,this.renderType,this);this.initTransform(data,globalData,comp);this.initHierarchy();this.initRenderable();this.initRendererElement();this.createContainerElements();this.createRenderableComponents();this.createContent();this.hide();this.textAnimator.searchProperties(this.dynamicProperties);};ITextElement.prototype.prepareFrame=function(num){this._mdf=false;this.prepareRenderableFrame(num);this.prepareProperties(num,this.isInRange);};ITextElement.prototype.createPathShape=function(matrixHelper,shapes){var j;var jLen=shapes.length;var pathNodes;var shapeStr='';for(j=0;j<jLen;j+=1){if(shapes[j].ty==='sh'){pathNodes=shapes[j].ks.k;shapeStr+=buildShapeString(pathNodes,pathNodes.i.length,true,matrixHelper);}}return shapeStr;};ITextElement.prototype.updateDocumentData=function(newData,index){this.textProperty.updateDocumentData(newData,index);};ITextElement.prototype.canResizeFont=function(_canResize){this.textProperty.canResizeFont(_canResize);};ITextElement.prototype.setMinimumFontSize=function(_fontSize){this.textProperty.setMinimumFontSize(_fontSize);};ITextElement.prototype.applyTextPropertiesToMatrix=function(documentData,matrixHelper,lineNumber,xPos,yPos){if(documentData.ps){matrixHelper.translate(documentData.ps[0],documentData.ps[1]+documentData.ascent,0);}matrixHelper.translate(0,-documentData.ls,0);switch(documentData.j){case 1:matrixHelper.translate(documentData.justifyOffset+(documentData.boxWidth-documentData.lineWidths[lineNumber]),0,0);break;case 2:matrixHelper.translate(documentData.justifyOffset+(documentData.boxWidth-documentData.lineWidths[lineNumber])/2,0,0);break;default:break;}matrixHelper.translate(xPos,yPos,0);};ITextElement.prototype.buildColor=function(colorData){return'rgb('+Math.round(colorData[0]*255)+','+Math.round(colorData[1]*255)+','+Math.round(colorData[2]*255)+')';};ITextElement.prototype.emptyProp=new LetterProps();ITextElement.prototype.destroy=function(){};ITextElement.prototype.validateText=function(){if(this.textProperty._mdf||this.textProperty._isFirstFrame){this.buildNewText();this.textProperty._isFirstFrame=false;this.textProperty._mdf=false;}};var emptyShapeData={shapes:[]};function SVGTextLottieElement(data,globalData,comp){this.textSpans=[];this.renderType='svg';this.initElement(data,globalData,comp);}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement);SVGTextLottieElement.prototype.createContent=function(){if(this.data.singleShape&&!this.globalData.fontManager.chars){this.textContainer=createNS('text');}};SVGTextLottieElement.prototype.buildTextContents=function(textArray){var i=0;var len=textArray.length;var textContents=[];var currentTextContent='';while(i<len){if(textArray[i]===String.fromCharCode(13)||textArray[i]===String.fromCharCode(3)){textContents.push(currentTextContent);currentTextContent='';}else{currentTextContent+=textArray[i];}i+=1;}textContents.push(currentTextContent);return textContents;};SVGTextLottieElement.prototype.buildShapeData=function(data,scale){// data should probably be cloned to apply scale separately to each instance of a text on different layers\n// but since text internal content gets only rendered once and then it's never rerendered,\n// it's probably safe not to clone data and reuse always the same instance even if the object is mutated.\n// Avoiding cloning is preferred since cloning each character shape data is expensive\nif(data.shapes&&data.shapes.length){var shape=data.shapes[0];if(shape.it){var shapeItem=shape.it[shape.it.length-1];if(shapeItem.s){shapeItem.s.k[0]=scale;shapeItem.s.k[1]=scale;}}}return data;};SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var i;var len;var documentData=this.textProperty.currentData;this.renderedLetters=createSizedArray(documentData?documentData.l.length:0);if(documentData.fc){this.layerElement.setAttribute('fill',this.buildColor(documentData.fc));}else{this.layerElement.setAttribute('fill','rgba(0,0,0,0)');}if(documentData.sc){this.layerElement.setAttribute('stroke',this.buildColor(documentData.sc));this.layerElement.setAttribute('stroke-width',documentData.sw);}this.layerElement.setAttribute('font-size',documentData.finalSize);var fontData=this.globalData.fontManager.getFontByName(documentData.f);if(fontData.fClass){this.layerElement.setAttribute('class',fontData.fClass);}else{this.layerElement.setAttribute('font-family',fontData.fFamily);var fWeight=documentData.fWeight;var fStyle=documentData.fStyle;this.layerElement.setAttribute('font-style',fStyle);this.layerElement.setAttribute('font-weight',fWeight);}this.layerElement.setAttribute('aria-label',documentData.t);var letters=documentData.l||[];var usesGlyphs=!!this.globalData.fontManager.chars;len=letters.length;var tSpan;var matrixHelper=this.mHelper;var shapeStr='';var singleShape=this.data.singleShape;var xPos=0;var yPos=0;var firstLine=true;var trackingOffset=documentData.tr*0.001*documentData.finalSize;if(singleShape&&!usesGlyphs&&!documentData.sz){var tElement=this.textContainer;var justify='start';switch(documentData.j){case 1:justify='end';break;case 2:justify='middle';break;default:justify='start';break;}tElement.setAttribute('text-anchor',justify);tElement.setAttribute('letter-spacing',trackingOffset);var textContent=this.buildTextContents(documentData.finalText);len=textContent.length;yPos=documentData.ps?documentData.ps[1]+documentData.ascent:0;for(i=0;i<len;i+=1){tSpan=this.textSpans[i].span||createNS('tspan');tSpan.textContent=textContent[i];tSpan.setAttribute('x',0);tSpan.setAttribute('y',yPos);tSpan.style.display='inherit';tElement.appendChild(tSpan);if(!this.textSpans[i]){this.textSpans[i]={span:null,glyph:null};}this.textSpans[i].span=tSpan;yPos+=documentData.finalLineHeight;}this.layerElement.appendChild(tElement);}else{var cachedSpansLength=this.textSpans.length;var charData;for(i=0;i<len;i+=1){if(!this.textSpans[i]){this.textSpans[i]={span:null,childSpan:null,glyph:null};}if(!usesGlyphs||!singleShape||i===0){tSpan=cachedSpansLength>i?this.textSpans[i].span:createNS(usesGlyphs?'g':'text');if(cachedSpansLength<=i){tSpan.setAttribute('stroke-linecap','butt');tSpan.setAttribute('stroke-linejoin','round');tSpan.setAttribute('stroke-miterlimit','4');this.textSpans[i].span=tSpan;if(usesGlyphs){var childSpan=createNS('g');tSpan.appendChild(childSpan);this.textSpans[i].childSpan=childSpan;}this.textSpans[i].span=tSpan;this.layerElement.appendChild(tSpan);}tSpan.style.display='inherit';}matrixHelper.reset();if(singleShape){if(letters[i].n){xPos=-trackingOffset;yPos+=documentData.yOffset;yPos+=firstLine?1:0;firstLine=false;}this.applyTextPropertiesToMatrix(documentData,matrixHelper,letters[i].line,xPos,yPos);xPos+=letters[i].l||0;// xPos += letters[i].val === ' ' ? 0 : trackingOffset;\nxPos+=trackingOffset;}if(usesGlyphs){charData=this.globalData.fontManager.getCharData(documentData.finalText[i],fontData.fStyle,this.globalData.fontManager.getFontByName(documentData.f).fFamily);var glyphElement;// t === 1 means the character has been replaced with an animated shaped\nif(charData.t===1){glyphElement=new SVGCompElement(charData.data,this.globalData,this);}else{var data=emptyShapeData;if(charData.data&&charData.data.shapes){data=this.buildShapeData(charData.data,documentData.finalSize);}glyphElement=new SVGShapeElement(data,this.globalData,this);}if(this.textSpans[i].glyph){var glyph=this.textSpans[i].glyph;this.textSpans[i].childSpan.removeChild(glyph.layerElement);glyph.destroy();}this.textSpans[i].glyph=glyphElement;glyphElement._debug=true;glyphElement.prepareFrame(0);glyphElement.renderFrame();this.textSpans[i].childSpan.appendChild(glyphElement.layerElement);// when using animated shapes, the layer will be scaled instead of replacing the internal scale\n// this might have issues with strokes and might need a different solution\nif(charData.t===1){this.textSpans[i].childSpan.setAttribute('transform','scale('+documentData.finalSize/100+','+documentData.finalSize/100+')');}}else{if(singleShape){tSpan.setAttribute('transform','translate('+matrixHelper.props[12]+','+matrixHelper.props[13]+')');}tSpan.textContent=letters[i].val;tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace','xml:space','preserve');}//\n}if(singleShape&&tSpan){tSpan.setAttribute('d',shapeStr);}}while(i<this.textSpans.length){this.textSpans[i].span.style.display='none';i+=1;}this._sizeChanged=true;};SVGTextLottieElement.prototype.sourceRectAtTime=function(){this.prepareFrame(this.comp.renderedFrame-this.data.st);this.renderInnerContent();if(this._sizeChanged){this._sizeChanged=false;var textBox=this.layerElement.getBBox();this.bbox={top:textBox.y,left:textBox.x,width:textBox.width,height:textBox.height};}return this.bbox;};SVGTextLottieElement.prototype.getValue=function(){var i;var len=this.textSpans.length;var glyphElement;this.renderedFrame=this.comp.renderedFrame;for(i=0;i<len;i+=1){glyphElement=this.textSpans[i].glyph;if(glyphElement){glyphElement.prepareFrame(this.comp.renderedFrame-this.data.st);if(glyphElement._mdf){this._mdf=true;}}}};SVGTextLottieElement.prototype.renderInnerContent=function(){this.validateText();if(!this.data.singleShape||this._mdf){this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);if(this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){this._sizeChanged=true;var i;var len;var renderedLetters=this.textAnimator.renderedLetters;var letters=this.textProperty.currentData.l;len=letters.length;var renderedLetter;var textSpan;var glyphElement;for(i=0;i<len;i+=1){if(!letters[i].n){renderedLetter=renderedLetters[i];textSpan=this.textSpans[i].span;glyphElement=this.textSpans[i].glyph;if(glyphElement){glyphElement.renderFrame();}if(renderedLetter._mdf.m){textSpan.setAttribute('transform',renderedLetter.m);}if(renderedLetter._mdf.o){textSpan.setAttribute('opacity',renderedLetter.o);}if(renderedLetter._mdf.sw){textSpan.setAttribute('stroke-width',renderedLetter.sw);}if(renderedLetter._mdf.sc){textSpan.setAttribute('stroke',renderedLetter.sc);}if(renderedLetter._mdf.fc){textSpan.setAttribute('fill',renderedLetter.fc);}}}}}};function ISolidElement(data,globalData,comp){this.initElement(data,globalData,comp);}extendPrototype([IImageElement],ISolidElement);ISolidElement.prototype.createContent=function(){var rect=createNS('rect');/// /rect.style.width = this.data.sw;\n/// /rect.style.height = this.data.sh;\n/// /rect.style.fill = this.data.sc;\nrect.setAttribute('width',this.data.sw);rect.setAttribute('height',this.data.sh);rect.setAttribute('fill',this.data.sc);this.layerElement.appendChild(rect);};function NullElement(data,globalData,comp){this.initFrame();this.initBaseData(data,globalData,comp);this.initFrame();this.initTransform(data,globalData,comp);this.initHierarchy();}NullElement.prototype.prepareFrame=function(num){this.prepareProperties(num,true);};NullElement.prototype.renderFrame=function(){};NullElement.prototype.getBaseElement=function(){return null;};NullElement.prototype.destroy=function(){};NullElement.prototype.sourceRectAtTime=function(){};NullElement.prototype.hide=function(){};extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase);SVGRendererBase.prototype.createNull=function(data){return new NullElement(data,this.globalData,this);};SVGRendererBase.prototype.createShape=function(data){return new SVGShapeElement(data,this.globalData,this);};SVGRendererBase.prototype.createText=function(data){return new SVGTextLottieElement(data,this.globalData,this);};SVGRendererBase.prototype.createImage=function(data){return new IImageElement(data,this.globalData,this);};SVGRendererBase.prototype.createSolid=function(data){return new ISolidElement(data,this.globalData,this);};SVGRendererBase.prototype.configAnimation=function(animData){this.svgElement.setAttribute('xmlns','http://www.w3.org/2000/svg');this.svgElement.setAttribute('xmlns:xlink','http://www.w3.org/1999/xlink');if(this.renderConfig.viewBoxSize){this.svgElement.setAttribute('viewBox',this.renderConfig.viewBoxSize);}else{this.svgElement.setAttribute('viewBox','0 0 '+animData.w+' '+animData.h);}if(!this.renderConfig.viewBoxOnly){this.svgElement.setAttribute('width',animData.w);this.svgElement.setAttribute('height',animData.h);this.svgElement.style.width='100%';this.svgElement.style.height='100%';this.svgElement.style.transform='translate3d(0,0,0)';this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility;}if(this.renderConfig.width){this.svgElement.setAttribute('width',this.renderConfig.width);}if(this.renderConfig.height){this.svgElement.setAttribute('height',this.renderConfig.height);}if(this.renderConfig.className){this.svgElement.setAttribute('class',this.renderConfig.className);}if(this.renderConfig.id){this.svgElement.setAttribute('id',this.renderConfig.id);}if(this.renderConfig.focusable!==undefined){this.svgElement.setAttribute('focusable',this.renderConfig.focusable);}this.svgElement.setAttribute('preserveAspectRatio',this.renderConfig.preserveAspectRatio);// this.layerElement.style.transform = 'translate3d(0,0,0)';\n// this.layerElement.style.transformOrigin = this.layerElement.style.mozTransformOrigin = this.layerElement.style.webkitTransformOrigin = this.layerElement.style['-webkit-transform'] = \"0px 0px 0px\";\nthis.animationItem.wrapper.appendChild(this.svgElement);// Mask animation\nvar defs=this.globalData.defs;this.setupGlobalData(animData,defs);this.globalData.progressiveLoad=this.renderConfig.progressiveLoad;this.data=animData;var maskElement=createNS('clipPath');var rect=createNS('rect');rect.setAttribute('width',animData.w);rect.setAttribute('height',animData.h);rect.setAttribute('x',0);rect.setAttribute('y',0);var maskId=createElementID();maskElement.setAttribute('id',maskId);maskElement.appendChild(rect);this.layerElement.setAttribute('clip-path','url('+getLocationHref()+'#'+maskId+')');defs.appendChild(maskElement);this.layers=animData.layers;this.elements=createSizedArray(animData.layers.length);};SVGRendererBase.prototype.destroy=function(){if(this.animationItem.wrapper){this.animationItem.wrapper.innerText='';}this.layerElement=null;this.globalData.defs=null;var i;var len=this.layers?this.layers.length:0;for(i=0;i<len;i+=1){if(this.elements[i]&&this.elements[i].destroy){this.elements[i].destroy();}}this.elements.length=0;this.destroyed=true;this.animationItem=null;};SVGRendererBase.prototype.updateContainerSize=function(){};SVGRendererBase.prototype.findIndexByInd=function(ind){var i=0;var len=this.layers.length;for(i=0;i<len;i+=1){if(this.layers[i].ind===ind){return i;}}return-1;};SVGRendererBase.prototype.buildItem=function(pos){var elements=this.elements;if(elements[pos]||this.layers[pos].ty===99){return;}elements[pos]=true;var element=this.createItem(this.layers[pos]);elements[pos]=element;if(getExpressionsPlugin()){if(this.layers[pos].ty===0){this.globalData.projectInterface.registerComposition(element);}element.initExpressions();}this.appendElementInPos(element,pos);if(this.layers[pos].tt){var elementIndex='tp'in this.layers[pos]?this.findIndexByInd(this.layers[pos].tp):pos-1;if(elementIndex===-1){return;}if(!this.elements[elementIndex]||this.elements[elementIndex]===true){this.buildItem(elementIndex);this.addPendingElement(element);}else{var matteElement=elements[elementIndex];var matteMask=matteElement.getMatte(this.layers[pos].tt);element.setMatte(matteMask);}}};SVGRendererBase.prototype.checkPendingElements=function(){while(this.pendingElements.length){var element=this.pendingElements.pop();element.checkParenting();if(element.data.tt){var i=0;var len=this.elements.length;while(i<len){if(this.elements[i]===element){var elementIndex='tp'in element.data?this.findIndexByInd(element.data.tp):i-1;var matteElement=this.elements[elementIndex];var matteMask=matteElement.getMatte(this.layers[i].tt);element.setMatte(matteMask);break;}i+=1;}}}};SVGRendererBase.prototype.renderFrame=function(num){if(this.renderedFrame===num||this.destroyed){return;}if(num===null){num=this.renderedFrame;}else{this.renderedFrame=num;}// console.log('-------');\n// console.log('FRAME ',num);\nthis.globalData.frameNum=num;this.globalData.frameId+=1;this.globalData.projectInterface.currentFrame=num;this.globalData._mdf=false;var i;var len=this.layers.length;if(!this.completeLayers){this.checkLayers(num);}for(i=len-1;i>=0;i-=1){if(this.completeLayers||this.elements[i]){this.elements[i].prepareFrame(num-this.layers[i].st);}}if(this.globalData._mdf){for(i=0;i<len;i+=1){if(this.completeLayers||this.elements[i]){this.elements[i].renderFrame();}}}};SVGRendererBase.prototype.appendElementInPos=function(element,pos){var newElement=element.getBaseElement();if(!newElement){return;}var i=0;var nextElement;while(i<pos){if(this.elements[i]&&this.elements[i]!==true&&this.elements[i].getBaseElement()){nextElement=this.elements[i].getBaseElement();}i+=1;}if(nextElement){this.layerElement.insertBefore(newElement,nextElement);}else{this.layerElement.appendChild(newElement);}};SVGRendererBase.prototype.hide=function(){this.layerElement.style.display='none';};SVGRendererBase.prototype.show=function(){this.layerElement.style.display='block';};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement);ICompElement.prototype.initElement=function(data,globalData,comp){this.initFrame();this.initBaseData(data,globalData,comp);this.initTransform(data,globalData,comp);this.initRenderable();this.initHierarchy();this.initRendererElement();this.createContainerElements();this.createRenderableComponents();if(this.data.xt||!globalData.progressiveLoad){this.buildAllItems();}this.hide();};/* ICompElement.prototype.hide = function(){\r\n      if(!this.hidden){\r\n          this.hideElement();\r\n          var i,len = this.elements.length;\r\n          for( i = 0; i < len; i+=1 ){\r\n              if(this.elements[i]){\r\n                  this.elements[i].hide();\r\n              }\r\n          }\r\n      }\r\n  }; */ICompElement.prototype.prepareFrame=function(num){this._mdf=false;this.prepareRenderableFrame(num);this.prepareProperties(num,this.isInRange);if(!this.isInRange&&!this.data.xt){return;}if(!this.tm._placeholder){var timeRemapped=this.tm.v;if(timeRemapped===this.data.op){timeRemapped=this.data.op-1;}this.renderedFrame=timeRemapped;}else{this.renderedFrame=num/this.data.sr;}var i;var len=this.elements.length;if(!this.completeLayers){this.checkLayers(this.renderedFrame);}// This iteration needs to be backwards because of how expressions connect between each other\nfor(i=len-1;i>=0;i-=1){if(this.completeLayers||this.elements[i]){this.elements[i].prepareFrame(this.renderedFrame-this.layers[i].st);if(this.elements[i]._mdf){this._mdf=true;}}}};ICompElement.prototype.renderInnerContent=function(){var i;var len=this.layers.length;for(i=0;i<len;i+=1){if(this.completeLayers||this.elements[i]){this.elements[i].renderFrame();}}};ICompElement.prototype.setElements=function(elems){this.elements=elems;};ICompElement.prototype.getElements=function(){return this.elements;};ICompElement.prototype.destroyElements=function(){var i;var len=this.layers.length;for(i=0;i<len;i+=1){if(this.elements[i]){this.elements[i].destroy();}}};ICompElement.prototype.destroy=function(){this.destroyElements();this.destroyBaseElement();};function SVGCompElement(data,globalData,comp){this.layers=data.layers;this.supports3d=true;this.completeLayers=false;this.pendingElements=[];this.elements=this.layers?createSizedArray(this.layers.length):[];this.initElement(data,globalData,comp);this.tm=data.tm?PropertyFactory.getProp(this,data.tm,0,globalData.frameRate,this):{_placeholder:true};}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement);SVGCompElement.prototype.createComp=function(data){return new SVGCompElement(data,this.globalData,this);};function SVGRenderer(animationItem,config){this.animationItem=animationItem;this.layers=null;this.renderedFrame=-1;this.svgElement=createNS('svg');var ariaLabel='';if(config&&config.title){var titleElement=createNS('title');var titleId=createElementID();titleElement.setAttribute('id',titleId);titleElement.textContent=config.title;this.svgElement.appendChild(titleElement);ariaLabel+=titleId;}if(config&&config.description){var descElement=createNS('desc');var descId=createElementID();descElement.setAttribute('id',descId);descElement.textContent=config.description;this.svgElement.appendChild(descElement);ariaLabel+=' '+descId;}if(ariaLabel){this.svgElement.setAttribute('aria-labelledby',ariaLabel);}var defs=createNS('defs');this.svgElement.appendChild(defs);var maskElement=createNS('g');this.svgElement.appendChild(maskElement);this.layerElement=maskElement;this.renderConfig={preserveAspectRatio:config&&config.preserveAspectRatio||'xMidYMid meet',imagePreserveAspectRatio:config&&config.imagePreserveAspectRatio||'xMidYMid slice',contentVisibility:config&&config.contentVisibility||'visible',progressiveLoad:config&&config.progressiveLoad||false,hideOnTransparent:!(config&&config.hideOnTransparent===false),viewBoxOnly:config&&config.viewBoxOnly||false,viewBoxSize:config&&config.viewBoxSize||false,className:config&&config.className||'',id:config&&config.id||'',focusable:config&&config.focusable,filterSize:{width:config&&config.filterSize&&config.filterSize.width||'100%',height:config&&config.filterSize&&config.filterSize.height||'100%',x:config&&config.filterSize&&config.filterSize.x||'0%',y:config&&config.filterSize&&config.filterSize.y||'0%'},width:config&&config.width,height:config&&config.height,runExpressions:!config||config.runExpressions===undefined||config.runExpressions};this.globalData={_mdf:false,frameNum:-1,defs:defs,renderConfig:this.renderConfig};this.elements=[];this.pendingElements=[];this.destroyed=false;this.rendererType='svg';}extendPrototype([SVGRendererBase],SVGRenderer);SVGRenderer.prototype.createComp=function(data){return new SVGCompElement(data,this.globalData,this);};function ShapeTransformManager(){this.sequences={};this.sequenceList=[];this.transform_key_count=0;}ShapeTransformManager.prototype={addTransformSequence:function addTransformSequence(transforms){var i;var len=transforms.length;var key='_';for(i=0;i<len;i+=1){key+=transforms[i].transform.key+'_';}var sequence=this.sequences[key];if(!sequence){sequence={transforms:[].concat(transforms),finalTransform:new Matrix(),_mdf:false};this.sequences[key]=sequence;this.sequenceList.push(sequence);}return sequence;},processSequence:function processSequence(sequence,isFirstFrame){var i=0;var len=sequence.transforms.length;var _mdf=isFirstFrame;while(i<len&&!isFirstFrame){if(sequence.transforms[i].transform.mProps._mdf){_mdf=true;break;}i+=1;}if(_mdf){sequence.finalTransform.reset();for(i=len-1;i>=0;i-=1){sequence.finalTransform.multiply(sequence.transforms[i].transform.mProps.v);}}sequence._mdf=_mdf;},processSequences:function processSequences(isFirstFrame){var i;var len=this.sequenceList.length;for(i=0;i<len;i+=1){this.processSequence(this.sequenceList[i],isFirstFrame);}},getNewKey:function getNewKey(){this.transform_key_count+=1;return'_'+this.transform_key_count;}};var lumaLoader=function lumaLoader(){var id='__lottie_element_luma_buffer';var lumaBuffer=null;var lumaBufferCtx=null;var svg=null;// This alternate solution has a slight delay before the filter is applied, resulting in a flicker on the first frame.\n// Keeping this here for reference, and in the future, if offscreen canvas supports url filters, this can be used.\n// For now, neither of them work for offscreen canvas, so canvas workers can't support the luma track matte mask.\n// Naming it solution 2 to mark the extra comment lines.\n/*\r\n    var svgString = [\r\n      '<svg xmlns=\"http://www.w3.org/2000/svg\">',\r\n      '<filter id=\"' + id + '\">',\r\n      '<feColorMatrix type=\"matrix\" color-interpolation-filters=\"sRGB\" values=\"',\r\n      '0.3, 0.3, 0.3, 0, 0, ',\r\n      '0.3, 0.3, 0.3, 0, 0, ',\r\n      '0.3, 0.3, 0.3, 0, 0, ',\r\n      '0.3, 0.3, 0.3, 0, 0',\r\n      '\"/>',\r\n      '</filter>',\r\n      '</svg>',\r\n    ].join('');\r\n    var blob = new Blob([svgString], { type: 'image/svg+xml' });\r\n    var url = URL.createObjectURL(blob);\r\n    */function createLumaSvgFilter(){var _svg=createNS('svg');var fil=createNS('filter');var matrix=createNS('feColorMatrix');fil.setAttribute('id',id);matrix.setAttribute('type','matrix');matrix.setAttribute('color-interpolation-filters','sRGB');matrix.setAttribute('values','0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0');fil.appendChild(matrix);_svg.appendChild(fil);_svg.setAttribute('id',id+'_svg');if(featureSupport.svgLumaHidden){_svg.style.display='none';}return _svg;}function loadLuma(){if(!lumaBuffer){svg=createLumaSvgFilter();document.body.appendChild(svg);lumaBuffer=createTag('canvas');lumaBufferCtx=lumaBuffer.getContext('2d');// lumaBufferCtx.filter = `url('${url}#__lottie_element_luma_buffer')`; // part of solution 2\nlumaBufferCtx.filter='url(#'+id+')';lumaBufferCtx.fillStyle='rgba(0,0,0,0)';lumaBufferCtx.fillRect(0,0,1,1);}}function getLuma(canvas){if(!lumaBuffer){loadLuma();}lumaBuffer.width=canvas.width;lumaBuffer.height=canvas.height;// lumaBufferCtx.filter = `url('${url}#__lottie_element_luma_buffer')`; // part of solution 2\nlumaBufferCtx.filter='url(#'+id+')';return lumaBuffer;}return{load:loadLuma,get:getLuma};};function createCanvas(width,height){if(featureSupport.offscreenCanvas){return new OffscreenCanvas(width,height);}var canvas=createTag('canvas');canvas.width=width;canvas.height=height;return canvas;}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas:createCanvas};}();var registeredEffects={};function CVEffects(elem){var i;var len=elem.data.ef?elem.data.ef.length:0;this.filters=[];var filterManager;for(i=0;i<len;i+=1){filterManager=null;var type=elem.data.ef[i].ty;if(registeredEffects[type]){var Effect=registeredEffects[type].effect;filterManager=new Effect(elem.effectsManager.effectElements[i],elem);}if(filterManager){this.filters.push(filterManager);}}if(this.filters.length){elem.addRenderableComponent(this);}}CVEffects.prototype.renderFrame=function(_isFirstFrame){var i;var len=this.filters.length;for(i=0;i<len;i+=1){this.filters[i].renderFrame(_isFirstFrame);}};CVEffects.prototype.getEffects=function(type){var i;var len=this.filters.length;var effects=[];for(i=0;i<len;i+=1){if(this.filters[i].type===type){effects.push(this.filters[i]);}}return effects;};function registerEffect(id,effect){registeredEffects[id]={effect:effect};}function CVMaskElement(data,element){this.data=data;this.element=element;this.masksProperties=this.data.masksProperties||[];this.viewData=createSizedArray(this.masksProperties.length);var i;var len=this.masksProperties.length;var hasMasks=false;for(i=0;i<len;i+=1){if(this.masksProperties[i].mode!=='n'){hasMasks=true;}this.viewData[i]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[i],3);}this.hasMasks=hasMasks;if(hasMasks){this.element.addRenderableComponent(this);}}CVMaskElement.prototype.renderFrame=function(){if(!this.hasMasks){return;}var transform=this.element.finalTransform.mat;var ctx=this.element.canvasContext;var i;var len=this.masksProperties.length;var pt;var pts;var data;ctx.beginPath();for(i=0;i<len;i+=1){if(this.masksProperties[i].mode!=='n'){if(this.masksProperties[i].inv){ctx.moveTo(0,0);ctx.lineTo(this.element.globalData.compSize.w,0);ctx.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h);ctx.lineTo(0,this.element.globalData.compSize.h);ctx.lineTo(0,0);}data=this.viewData[i].v;pt=transform.applyToPointArray(data.v[0][0],data.v[0][1],0);ctx.moveTo(pt[0],pt[1]);var j;var jLen=data._length;for(j=1;j<jLen;j+=1){pts=transform.applyToTriplePoints(data.o[j-1],data.i[j],data.v[j]);ctx.bezierCurveTo(pts[0],pts[1],pts[2],pts[3],pts[4],pts[5]);}pts=transform.applyToTriplePoints(data.o[j-1],data.i[0],data.v[0]);ctx.bezierCurveTo(pts[0],pts[1],pts[2],pts[3],pts[4],pts[5]);}}this.element.globalData.renderer.save(true);ctx.clip();};CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty;CVMaskElement.prototype.destroy=function(){this.element=null;};function CVBaseElement(){}var operationsMap={1:'source-in',2:'source-out',3:'source-in',4:'source-out'};CVBaseElement.prototype={createElements:function createElements(){},initRendererElement:function initRendererElement(){},createContainerElements:function createContainerElements(){// If the layer is masked we will use two buffers to store each different states of the drawing\n// This solution is not ideal for several reason. But unfortunately, because of the recursive\n// nature of the render tree, it's the only simple way to make sure one inner mask doesn't override an outer mask.\n// TODO: try to reduce the size of these buffers to the size of the composition contaning the layer\n// It might be challenging because the layer most likely is transformed in some way\nif(this.data.tt>=1){this.buffers=[];var canvasContext=this.globalData.canvasContext;var bufferCanvas=assetLoader.createCanvas(canvasContext.canvas.width,canvasContext.canvas.height);this.buffers.push(bufferCanvas);var bufferCanvas2=assetLoader.createCanvas(canvasContext.canvas.width,canvasContext.canvas.height);this.buffers.push(bufferCanvas2);if(this.data.tt>=3&&!document._isProxy){assetLoader.loadLumaCanvas();}}this.canvasContext=this.globalData.canvasContext;this.transformCanvas=this.globalData.transformCanvas;this.renderableEffectsManager=new CVEffects(this);this.searchEffectTransforms();},createContent:function createContent(){},setBlendMode:function setBlendMode(){var globalData=this.globalData;if(globalData.blendMode!==this.data.bm){globalData.blendMode=this.data.bm;var blendModeValue=getBlendMode(this.data.bm);globalData.canvasContext.globalCompositeOperation=blendModeValue;}},createRenderableComponents:function createRenderableComponents(){this.maskManager=new CVMaskElement(this.data,this);this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);},hideElement:function hideElement(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){this.hidden=true;}},showElement:function showElement(){if(this.isInRange&&!this.isTransparent){this.hidden=false;this._isFirstFrame=true;this.maskManager._isFirstFrame=true;}},clearCanvas:function clearCanvas(canvasContext){canvasContext.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy);},prepareLayer:function prepareLayer(){if(this.data.tt>=1){var buffer=this.buffers[0];var bufferCtx=buffer.getContext('2d');this.clearCanvas(bufferCtx);// on the first buffer we store the current state of the global drawing\nbufferCtx.drawImage(this.canvasContext.canvas,0,0);// The next four lines are to clear the canvas\n// TODO: Check if there is a way to clear the canvas without resetting the transform\nthis.currentTransform=this.canvasContext.getTransform();this.canvasContext.setTransform(1,0,0,1,0,0);this.clearCanvas(this.canvasContext);this.canvasContext.setTransform(this.currentTransform);}},exitLayer:function exitLayer(){if(this.data.tt>=1){var buffer=this.buffers[1];// On the second buffer we store the current state of the global drawing\n// that only contains the content of this layer\n// (if it is a composition, it also includes the nested layers)\nvar bufferCtx=buffer.getContext('2d');this.clearCanvas(bufferCtx);bufferCtx.drawImage(this.canvasContext.canvas,0,0);// We clear the canvas again\nthis.canvasContext.setTransform(1,0,0,1,0,0);this.clearCanvas(this.canvasContext);this.canvasContext.setTransform(this.currentTransform);// We draw the mask\nvar mask=this.comp.getElementById('tp'in this.data?this.data.tp:this.data.ind-1);mask.renderFrame(true);// We draw the second buffer (that contains the content of this layer)\nthis.canvasContext.setTransform(1,0,0,1,0,0);// If the mask is a Luma matte, we need to do two extra painting operations\n// the _isProxy check is to avoid drawing a fake canvas in workers that will throw an error\nif(this.data.tt>=3&&!document._isProxy){// We copy the painted mask to a buffer that has a color matrix filter applied to it\n// that applies the rgb values to the alpha channel\nvar lumaBuffer=assetLoader.getLumaCanvas(this.canvasContext.canvas);var lumaBufferCtx=lumaBuffer.getContext('2d');lumaBufferCtx.drawImage(this.canvasContext.canvas,0,0);this.clearCanvas(this.canvasContext);// we repaint the context with the mask applied to it\nthis.canvasContext.drawImage(lumaBuffer,0,0);}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt];this.canvasContext.drawImage(buffer,0,0);// We finally draw the first buffer (that contains the content of the global drawing)\n// We use destination-over to draw the global drawing below the current layer\nthis.canvasContext.globalCompositeOperation='destination-over';this.canvasContext.drawImage(this.buffers[0],0,0);this.canvasContext.setTransform(this.currentTransform);// We reset the globalCompositeOperation to source-over, the standard type of operation\nthis.canvasContext.globalCompositeOperation='source-over';}},renderFrame:function renderFrame(forceRender){if(this.hidden||this.data.hd){return;}if(this.data.td===1&&!forceRender){return;}this.renderTransform();this.renderRenderable();this.renderLocalTransform();this.setBlendMode();var forceRealStack=this.data.ty===0;this.prepareLayer();this.globalData.renderer.save(forceRealStack);this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props);this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity);this.renderInnerContent();this.globalData.renderer.restore(forceRealStack);this.exitLayer();if(this.maskManager.hasMasks){this.globalData.renderer.restore(true);}if(this._isFirstFrame){this._isFirstFrame=false;}},destroy:function destroy(){this.canvasContext=null;this.data=null;this.globalData=null;this.maskManager.destroy();},mHelper:new Matrix()};CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement;CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(element,data,styles,transformsManager){this.styledShapes=[];this.tr=[0,0,0,0,0,0];var ty=4;if(data.ty==='rc'){ty=5;}else if(data.ty==='el'){ty=6;}else if(data.ty==='sr'){ty=7;}this.sh=ShapePropertyFactory.getShapeProp(element,data,ty,element);var i;var len=styles.length;var styledShape;for(i=0;i<len;i+=1){if(!styles[i].closed){styledShape={transforms:transformsManager.addTransformSequence(styles[i].transforms),trNodes:[]};this.styledShapes.push(styledShape);styles[i].elements.push(styledShape);}}}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(data,globalData,comp){this.shapes=[];this.shapesData=data.shapes;this.stylesList=[];this.itemsData=[];this.prevViewData=[];this.shapeModifiers=[];this.processedElements=[];this.transformsManager=new ShapeTransformManager();this.initElement(data,globalData,comp);}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement);CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement;CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:false};CVShapeElement.prototype.dashResetter=[];CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,true,[]);};CVShapeElement.prototype.createStyleElement=function(data,transforms){var styleElem={data:data,type:data.ty,preTransforms:this.transformsManager.addTransformSequence(transforms),transforms:[],elements:[],closed:data.hd===true};var elementData={};if(data.ty==='fl'||data.ty==='st'){elementData.c=PropertyFactory.getProp(this,data.c,1,255,this);if(!elementData.c.k){styleElem.co='rgb('+bmFloor(elementData.c.v[0])+','+bmFloor(elementData.c.v[1])+','+bmFloor(elementData.c.v[2])+')';}}else if(data.ty==='gf'||data.ty==='gs'){elementData.s=PropertyFactory.getProp(this,data.s,1,null,this);elementData.e=PropertyFactory.getProp(this,data.e,1,null,this);elementData.h=PropertyFactory.getProp(this,data.h||{k:0},0,0.01,this);elementData.a=PropertyFactory.getProp(this,data.a||{k:0},0,degToRads,this);elementData.g=new GradientProperty(this,data.g,this);}elementData.o=PropertyFactory.getProp(this,data.o,0,0.01,this);if(data.ty==='st'||data.ty==='gs'){styleElem.lc=lineCapEnum[data.lc||2];styleElem.lj=lineJoinEnum[data.lj||2];if(data.lj==1){// eslint-disable-line eqeqeq\nstyleElem.ml=data.ml;}elementData.w=PropertyFactory.getProp(this,data.w,0,null,this);if(!elementData.w.k){styleElem.wi=elementData.w.v;}if(data.d){var d=new DashProperty(this,data.d,'canvas',this);elementData.d=d;if(!elementData.d.k){styleElem.da=elementData.d.dashArray;styleElem[\"do\"]=elementData.d.dashoffset[0];}}}else{styleElem.r=data.r===2?'evenodd':'nonzero';}this.stylesList.push(styleElem);elementData.style=styleElem;return elementData;};CVShapeElement.prototype.createGroupElement=function(){var elementData={it:[],prevViewData:[]};return elementData;};CVShapeElement.prototype.createTransformElement=function(data){var elementData={transform:{opacity:1,_opMdf:false,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,data.o,0,0.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,data,this)}};return elementData;};CVShapeElement.prototype.createShapeElement=function(data){var elementData=new CVShapeData(this,data,this.stylesList,this.transformsManager);this.shapes.push(elementData);this.addShapeToModifiers(elementData);return elementData;};CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=true;var i;var len=this.itemsData.length;for(i=0;i<len;i+=1){this.prevViewData[i]=this.itemsData[i];}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,true,[]);len=this.dynamicProperties.length;for(i=0;i<len;i+=1){this.dynamicProperties[i].getValue();}this.renderModifiers();this.transformsManager.processSequences(this._isFirstFrame);};CVShapeElement.prototype.addTransformToStyleList=function(transform){var i;var len=this.stylesList.length;for(i=0;i<len;i+=1){if(!this.stylesList[i].closed){this.stylesList[i].transforms.push(transform);}}};CVShapeElement.prototype.removeTransformFromStyleList=function(){var i;var len=this.stylesList.length;for(i=0;i<len;i+=1){if(!this.stylesList[i].closed){this.stylesList[i].transforms.pop();}}};CVShapeElement.prototype.closeStyles=function(styles){var i;var len=styles.length;for(i=0;i<len;i+=1){styles[i].closed=true;}};CVShapeElement.prototype.searchShapes=function(arr,itemsData,prevViewData,shouldRender,transforms){var i;var len=arr.length-1;var j;var jLen;var ownStyles=[];var ownModifiers=[];var processedPos;var modifier;var currentTransform;var ownTransforms=[].concat(transforms);for(i=len;i>=0;i-=1){processedPos=this.searchProcessedElement(arr[i]);if(!processedPos){arr[i]._shouldRender=shouldRender;}else{itemsData[i]=prevViewData[processedPos-1];}if(arr[i].ty==='fl'||arr[i].ty==='st'||arr[i].ty==='gf'||arr[i].ty==='gs'){if(!processedPos){itemsData[i]=this.createStyleElement(arr[i],ownTransforms);}else{itemsData[i].style.closed=false;}ownStyles.push(itemsData[i].style);}else if(arr[i].ty==='gr'){if(!processedPos){itemsData[i]=this.createGroupElement(arr[i]);}else{jLen=itemsData[i].it.length;for(j=0;j<jLen;j+=1){itemsData[i].prevViewData[j]=itemsData[i].it[j];}}this.searchShapes(arr[i].it,itemsData[i].it,itemsData[i].prevViewData,shouldRender,ownTransforms);}else if(arr[i].ty==='tr'){if(!processedPos){currentTransform=this.createTransformElement(arr[i]);itemsData[i]=currentTransform;}ownTransforms.push(itemsData[i]);this.addTransformToStyleList(itemsData[i]);}else if(arr[i].ty==='sh'||arr[i].ty==='rc'||arr[i].ty==='el'||arr[i].ty==='sr'){if(!processedPos){itemsData[i]=this.createShapeElement(arr[i]);}}else if(arr[i].ty==='tm'||arr[i].ty==='rd'||arr[i].ty==='pb'||arr[i].ty==='zz'||arr[i].ty==='op'){if(!processedPos){modifier=ShapeModifiers.getModifier(arr[i].ty);modifier.init(this,arr[i]);itemsData[i]=modifier;this.shapeModifiers.push(modifier);}else{modifier=itemsData[i];modifier.closed=false;}ownModifiers.push(modifier);}else if(arr[i].ty==='rp'){if(!processedPos){modifier=ShapeModifiers.getModifier(arr[i].ty);itemsData[i]=modifier;modifier.init(this,arr,i,itemsData);this.shapeModifiers.push(modifier);shouldRender=false;}else{modifier=itemsData[i];modifier.closed=true;}ownModifiers.push(modifier);}this.addProcessedElement(arr[i],i+1);}this.removeTransformFromStyleList();this.closeStyles(ownStyles);len=ownModifiers.length;for(i=0;i<len;i+=1){ownModifiers[i].closed=true;}};CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1;this.transformHelper._opMdf=false;this.renderModifiers();this.transformsManager.processSequences(this._isFirstFrame);this.renderShape(this.transformHelper,this.shapesData,this.itemsData,true);};CVShapeElement.prototype.renderShapeTransform=function(parentTransform,groupTransform){if(parentTransform._opMdf||groupTransform.op._mdf||this._isFirstFrame){groupTransform.opacity=parentTransform.opacity;groupTransform.opacity*=groupTransform.op.v;groupTransform._opMdf=true;}};CVShapeElement.prototype.drawLayer=function(){var i;var len=this.stylesList.length;var j;var jLen;var k;var kLen;var elems;var nodes;var renderer=this.globalData.renderer;var ctx=this.globalData.canvasContext;var type;var currentStyle;for(i=0;i<len;i+=1){currentStyle=this.stylesList[i];type=currentStyle.type;// Skipping style when\n// Stroke width equals 0\n// style should not be rendered (extra unused repeaters)\n// current opacity equals 0\n// global opacity equals 0\nif(!((type==='st'||type==='gs')&&currentStyle.wi===0||!currentStyle.data._shouldRender||currentStyle.coOp===0||this.globalData.currentGlobalAlpha===0)){renderer.save();elems=currentStyle.elements;if(type==='st'||type==='gs'){renderer.ctxStrokeStyle(type==='st'?currentStyle.co:currentStyle.grd);// ctx.strokeStyle = type === 'st' ? currentStyle.co : currentStyle.grd;\nrenderer.ctxLineWidth(currentStyle.wi);// ctx.lineWidth = currentStyle.wi;\nrenderer.ctxLineCap(currentStyle.lc);// ctx.lineCap = currentStyle.lc;\nrenderer.ctxLineJoin(currentStyle.lj);// ctx.lineJoin = currentStyle.lj;\nrenderer.ctxMiterLimit(currentStyle.ml||0);// ctx.miterLimit = currentStyle.ml || 0;\n}else{renderer.ctxFillStyle(type==='fl'?currentStyle.co:currentStyle.grd);// ctx.fillStyle = type === 'fl' ? currentStyle.co : currentStyle.grd;\n}renderer.ctxOpacity(currentStyle.coOp);if(type!=='st'&&type!=='gs'){ctx.beginPath();}renderer.ctxTransform(currentStyle.preTransforms.finalTransform.props);jLen=elems.length;for(j=0;j<jLen;j+=1){if(type==='st'||type==='gs'){ctx.beginPath();if(currentStyle.da){ctx.setLineDash(currentStyle.da);ctx.lineDashOffset=currentStyle[\"do\"];}}nodes=elems[j].trNodes;kLen=nodes.length;for(k=0;k<kLen;k+=1){if(nodes[k].t==='m'){ctx.moveTo(nodes[k].p[0],nodes[k].p[1]);}else if(nodes[k].t==='c'){ctx.bezierCurveTo(nodes[k].pts[0],nodes[k].pts[1],nodes[k].pts[2],nodes[k].pts[3],nodes[k].pts[4],nodes[k].pts[5]);}else{ctx.closePath();}}if(type==='st'||type==='gs'){// ctx.stroke();\nrenderer.ctxStroke();if(currentStyle.da){ctx.setLineDash(this.dashResetter);}}}if(type!=='st'&&type!=='gs'){// ctx.fill(currentStyle.r);\nthis.globalData.renderer.ctxFill(currentStyle.r);}renderer.restore();}}};CVShapeElement.prototype.renderShape=function(parentTransform,items,data,isMain){var i;var len=items.length-1;var groupTransform;groupTransform=parentTransform;for(i=len;i>=0;i-=1){if(items[i].ty==='tr'){groupTransform=data[i].transform;this.renderShapeTransform(parentTransform,groupTransform);}else if(items[i].ty==='sh'||items[i].ty==='el'||items[i].ty==='rc'||items[i].ty==='sr'){this.renderPath(items[i],data[i]);}else if(items[i].ty==='fl'){this.renderFill(items[i],data[i],groupTransform);}else if(items[i].ty==='st'){this.renderStroke(items[i],data[i],groupTransform);}else if(items[i].ty==='gf'||items[i].ty==='gs'){this.renderGradientFill(items[i],data[i],groupTransform);}else if(items[i].ty==='gr'){this.renderShape(groupTransform,items[i].it,data[i].it);}else if(items[i].ty==='tm'){//\n}}if(isMain){this.drawLayer();}};CVShapeElement.prototype.renderStyledShape=function(styledShape,shape){if(this._isFirstFrame||shape._mdf||styledShape.transforms._mdf){var shapeNodes=styledShape.trNodes;var paths=shape.paths;var i;var len;var j;var jLen=paths._length;shapeNodes.length=0;var groupTransformMat=styledShape.transforms.finalTransform;for(j=0;j<jLen;j+=1){var pathNodes=paths.shapes[j];if(pathNodes&&pathNodes.v){len=pathNodes._length;for(i=1;i<len;i+=1){if(i===1){shapeNodes.push({t:'m',p:groupTransformMat.applyToPointArray(pathNodes.v[0][0],pathNodes.v[0][1],0)});}shapeNodes.push({t:'c',pts:groupTransformMat.applyToTriplePoints(pathNodes.o[i-1],pathNodes.i[i],pathNodes.v[i])});}if(len===1){shapeNodes.push({t:'m',p:groupTransformMat.applyToPointArray(pathNodes.v[0][0],pathNodes.v[0][1],0)});}if(pathNodes.c&&len){shapeNodes.push({t:'c',pts:groupTransformMat.applyToTriplePoints(pathNodes.o[i-1],pathNodes.i[0],pathNodes.v[0])});shapeNodes.push({t:'z'});}}}styledShape.trNodes=shapeNodes;}};CVShapeElement.prototype.renderPath=function(pathData,itemData){if(pathData.hd!==true&&pathData._shouldRender){var i;var len=itemData.styledShapes.length;for(i=0;i<len;i+=1){this.renderStyledShape(itemData.styledShapes[i],itemData.sh);}}};CVShapeElement.prototype.renderFill=function(styleData,itemData,groupTransform){var styleElem=itemData.style;if(itemData.c._mdf||this._isFirstFrame){styleElem.co='rgb('+bmFloor(itemData.c.v[0])+','+bmFloor(itemData.c.v[1])+','+bmFloor(itemData.c.v[2])+')';}if(itemData.o._mdf||groupTransform._opMdf||this._isFirstFrame){styleElem.coOp=itemData.o.v*groupTransform.opacity;}};CVShapeElement.prototype.renderGradientFill=function(styleData,itemData,groupTransform){var styleElem=itemData.style;var grd;if(!styleElem.grd||itemData.g._mdf||itemData.s._mdf||itemData.e._mdf||styleData.t!==1&&(itemData.h._mdf||itemData.a._mdf)){var ctx=this.globalData.canvasContext;var pt1=itemData.s.v;var pt2=itemData.e.v;if(styleData.t===1){grd=ctx.createLinearGradient(pt1[0],pt1[1],pt2[0],pt2[1]);}else{var rad=Math.sqrt(Math.pow(pt1[0]-pt2[0],2)+Math.pow(pt1[1]-pt2[1],2));var ang=Math.atan2(pt2[1]-pt1[1],pt2[0]-pt1[0]);var percent=itemData.h.v;if(percent>=1){percent=0.99;}else if(percent<=-1){percent=-0.99;}var dist=rad*percent;var x=Math.cos(ang+itemData.a.v)*dist+pt1[0];var y=Math.sin(ang+itemData.a.v)*dist+pt1[1];grd=ctx.createRadialGradient(x,y,0,pt1[0],pt1[1],rad);}var i;var len=styleData.g.p;var cValues=itemData.g.c;var opacity=1;for(i=0;i<len;i+=1){if(itemData.g._hasOpacity&&itemData.g._collapsable){opacity=itemData.g.o[i*2+1];}grd.addColorStop(cValues[i*4]/100,'rgba('+cValues[i*4+1]+','+cValues[i*4+2]+','+cValues[i*4+3]+','+opacity+')');}styleElem.grd=grd;}styleElem.coOp=itemData.o.v*groupTransform.opacity;};CVShapeElement.prototype.renderStroke=function(styleData,itemData,groupTransform){var styleElem=itemData.style;var d=itemData.d;if(d&&(d._mdf||this._isFirstFrame)){styleElem.da=d.dashArray;styleElem[\"do\"]=d.dashoffset[0];}if(itemData.c._mdf||this._isFirstFrame){styleElem.co='rgb('+bmFloor(itemData.c.v[0])+','+bmFloor(itemData.c.v[1])+','+bmFloor(itemData.c.v[2])+')';}if(itemData.o._mdf||groupTransform._opMdf||this._isFirstFrame){styleElem.coOp=itemData.o.v*groupTransform.opacity;}if(itemData.w._mdf||this._isFirstFrame){styleElem.wi=itemData.w.v;}};CVShapeElement.prototype.destroy=function(){this.shapesData=null;this.globalData=null;this.canvasContext=null;this.stylesList.length=0;this.itemsData.length=0;};function CVTextElement(data,globalData,comp){this.textSpans=[];this.yOffset=0;this.fillColorAnim=false;this.strokeColorAnim=false;this.strokeWidthAnim=false;this.stroke=false;this.fill=false;this.justifyOffset=0;this.currentRender=null;this.renderType='canvas';this.values={fill:'rgba(0,0,0,0)',stroke:'rgba(0,0,0,0)',sWidth:0,fValue:''};this.initElement(data,globalData,comp);}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement);CVTextElement.prototype.tHelper=createTag('canvas').getContext('2d');CVTextElement.prototype.buildNewText=function(){var documentData=this.textProperty.currentData;this.renderedLetters=createSizedArray(documentData.l?documentData.l.length:0);var hasFill=false;if(documentData.fc){hasFill=true;this.values.fill=this.buildColor(documentData.fc);}else{this.values.fill='rgba(0,0,0,0)';}this.fill=hasFill;var hasStroke=false;if(documentData.sc){hasStroke=true;this.values.stroke=this.buildColor(documentData.sc);this.values.sWidth=documentData.sw;}var fontData=this.globalData.fontManager.getFontByName(documentData.f);var i;var len;var letters=documentData.l;var matrixHelper=this.mHelper;this.stroke=hasStroke;this.values.fValue=documentData.finalSize+'px '+this.globalData.fontManager.getFontByName(documentData.f).fFamily;len=documentData.finalText.length;// this.tHelper.font = this.values.fValue;\nvar charData;var shapeData;var k;var kLen;var shapes;var j;var jLen;var pathNodes;var commands;var pathArr;var singleShape=this.data.singleShape;var trackingOffset=documentData.tr*0.001*documentData.finalSize;var xPos=0;var yPos=0;var firstLine=true;var cnt=0;for(i=0;i<len;i+=1){charData=this.globalData.fontManager.getCharData(documentData.finalText[i],fontData.fStyle,this.globalData.fontManager.getFontByName(documentData.f).fFamily);shapeData=charData&&charData.data||{};matrixHelper.reset();if(singleShape&&letters[i].n){xPos=-trackingOffset;yPos+=documentData.yOffset;yPos+=firstLine?1:0;firstLine=false;}shapes=shapeData.shapes?shapeData.shapes[0].it:[];jLen=shapes.length;matrixHelper.scale(documentData.finalSize/100,documentData.finalSize/100);if(singleShape){this.applyTextPropertiesToMatrix(documentData,matrixHelper,letters[i].line,xPos,yPos);}commands=createSizedArray(jLen-1);var commandsCounter=0;for(j=0;j<jLen;j+=1){if(shapes[j].ty==='sh'){kLen=shapes[j].ks.k.i.length;pathNodes=shapes[j].ks.k;pathArr=[];for(k=1;k<kLen;k+=1){if(k===1){pathArr.push(matrixHelper.applyToX(pathNodes.v[0][0],pathNodes.v[0][1],0),matrixHelper.applyToY(pathNodes.v[0][0],pathNodes.v[0][1],0));}pathArr.push(matrixHelper.applyToX(pathNodes.o[k-1][0],pathNodes.o[k-1][1],0),matrixHelper.applyToY(pathNodes.o[k-1][0],pathNodes.o[k-1][1],0),matrixHelper.applyToX(pathNodes.i[k][0],pathNodes.i[k][1],0),matrixHelper.applyToY(pathNodes.i[k][0],pathNodes.i[k][1],0),matrixHelper.applyToX(pathNodes.v[k][0],pathNodes.v[k][1],0),matrixHelper.applyToY(pathNodes.v[k][0],pathNodes.v[k][1],0));}pathArr.push(matrixHelper.applyToX(pathNodes.o[k-1][0],pathNodes.o[k-1][1],0),matrixHelper.applyToY(pathNodes.o[k-1][0],pathNodes.o[k-1][1],0),matrixHelper.applyToX(pathNodes.i[0][0],pathNodes.i[0][1],0),matrixHelper.applyToY(pathNodes.i[0][0],pathNodes.i[0][1],0),matrixHelper.applyToX(pathNodes.v[0][0],pathNodes.v[0][1],0),matrixHelper.applyToY(pathNodes.v[0][0],pathNodes.v[0][1],0));commands[commandsCounter]=pathArr;commandsCounter+=1;}}if(singleShape){xPos+=letters[i].l;xPos+=trackingOffset;}if(this.textSpans[cnt]){this.textSpans[cnt].elem=commands;}else{this.textSpans[cnt]={elem:commands};}cnt+=1;}};CVTextElement.prototype.renderInnerContent=function(){this.validateText();var ctx=this.canvasContext;ctx.font=this.values.fValue;this.globalData.renderer.ctxLineCap('butt');// ctx.lineCap = 'butt';\nthis.globalData.renderer.ctxLineJoin('miter');// ctx.lineJoin = 'miter';\nthis.globalData.renderer.ctxMiterLimit(4);// ctx.miterLimit = 4;\nif(!this.data.singleShape){this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);}var i;var len;var j;var jLen;var k;var kLen;var renderedLetters=this.textAnimator.renderedLetters;var letters=this.textProperty.currentData.l;len=letters.length;var renderedLetter;var lastFill=null;var lastStroke=null;var lastStrokeW=null;var commands;var pathArr;var renderer=this.globalData.renderer;for(i=0;i<len;i+=1){if(!letters[i].n){renderedLetter=renderedLetters[i];if(renderedLetter){renderer.save();renderer.ctxTransform(renderedLetter.p);renderer.ctxOpacity(renderedLetter.o);}if(this.fill){if(renderedLetter&&renderedLetter.fc){if(lastFill!==renderedLetter.fc){renderer.ctxFillStyle(renderedLetter.fc);lastFill=renderedLetter.fc;// ctx.fillStyle = renderedLetter.fc;\n}}else if(lastFill!==this.values.fill){lastFill=this.values.fill;renderer.ctxFillStyle(this.values.fill);// ctx.fillStyle = this.values.fill;\n}commands=this.textSpans[i].elem;jLen=commands.length;this.globalData.canvasContext.beginPath();for(j=0;j<jLen;j+=1){pathArr=commands[j];kLen=pathArr.length;this.globalData.canvasContext.moveTo(pathArr[0],pathArr[1]);for(k=2;k<kLen;k+=6){this.globalData.canvasContext.bezierCurveTo(pathArr[k],pathArr[k+1],pathArr[k+2],pathArr[k+3],pathArr[k+4],pathArr[k+5]);}}this.globalData.canvasContext.closePath();renderer.ctxFill();// this.globalData.canvasContext.fill();\n/// ctx.fillText(this.textSpans[i].val,0,0);\n}if(this.stroke){if(renderedLetter&&renderedLetter.sw){if(lastStrokeW!==renderedLetter.sw){lastStrokeW=renderedLetter.sw;renderer.ctxLineWidth(renderedLetter.sw);// ctx.lineWidth = renderedLetter.sw;\n}}else if(lastStrokeW!==this.values.sWidth){lastStrokeW=this.values.sWidth;renderer.ctxLineWidth(this.values.sWidth);// ctx.lineWidth = this.values.sWidth;\n}if(renderedLetter&&renderedLetter.sc){if(lastStroke!==renderedLetter.sc){lastStroke=renderedLetter.sc;renderer.ctxStrokeStyle(renderedLetter.sc);// ctx.strokeStyle = renderedLetter.sc;\n}}else if(lastStroke!==this.values.stroke){lastStroke=this.values.stroke;renderer.ctxStrokeStyle(this.values.stroke);// ctx.strokeStyle = this.values.stroke;\n}commands=this.textSpans[i].elem;jLen=commands.length;this.globalData.canvasContext.beginPath();for(j=0;j<jLen;j+=1){pathArr=commands[j];kLen=pathArr.length;this.globalData.canvasContext.moveTo(pathArr[0],pathArr[1]);for(k=2;k<kLen;k+=6){this.globalData.canvasContext.bezierCurveTo(pathArr[k],pathArr[k+1],pathArr[k+2],pathArr[k+3],pathArr[k+4],pathArr[k+5]);}}this.globalData.canvasContext.closePath();renderer.ctxStroke();// this.globalData.canvasContext.stroke();\n/// ctx.strokeText(letters[i].val,0,0);\n}if(renderedLetter){this.globalData.renderer.restore();}}}};function CVImageElement(data,globalData,comp){this.assetData=globalData.getAssetData(data.refId);this.img=globalData.imageLoader.getAsset(this.assetData);this.initElement(data,globalData,comp);}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement);CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement;CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame;CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var canvas=createTag('canvas');canvas.width=this.assetData.w;canvas.height=this.assetData.h;var ctx=canvas.getContext('2d');var imgW=this.img.width;var imgH=this.img.height;var imgRel=imgW/imgH;var canvasRel=this.assetData.w/this.assetData.h;var widthCrop;var heightCrop;var par=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;if(imgRel>canvasRel&&par==='xMidYMid slice'||imgRel<canvasRel&&par!=='xMidYMid slice'){heightCrop=imgH;widthCrop=heightCrop*canvasRel;}else{widthCrop=imgW;heightCrop=widthCrop/canvasRel;}ctx.drawImage(this.img,(imgW-widthCrop)/2,(imgH-heightCrop)/2,widthCrop,heightCrop,0,0,this.assetData.w,this.assetData.h);this.img=canvas;}};CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0);};CVImageElement.prototype.destroy=function(){this.img=null;};function CVSolidElement(data,globalData,comp){this.initElement(data,globalData,comp);}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement);CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement;CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame;CVSolidElement.prototype.renderInnerContent=function(){// var ctx = this.canvasContext;\nthis.globalData.renderer.ctxFillStyle(this.data.sc);// ctx.fillStyle = this.data.sc;\nthis.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh);// ctx.fillRect(0, 0, this.data.sw, this.data.sh);\n//\n};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase);CanvasRendererBase.prototype.createShape=function(data){return new CVShapeElement(data,this.globalData,this);};CanvasRendererBase.prototype.createText=function(data){return new CVTextElement(data,this.globalData,this);};CanvasRendererBase.prototype.createImage=function(data){return new CVImageElement(data,this.globalData,this);};CanvasRendererBase.prototype.createSolid=function(data){return new CVSolidElement(data,this.globalData,this);};CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull;CanvasRendererBase.prototype.ctxTransform=function(props){if(props[0]===1&&props[1]===0&&props[4]===0&&props[5]===1&&props[12]===0&&props[13]===0){return;}this.canvasContext.transform(props[0],props[1],props[4],props[5],props[12],props[13]);};CanvasRendererBase.prototype.ctxOpacity=function(op){this.canvasContext.globalAlpha*=op<0?0:op;};CanvasRendererBase.prototype.ctxFillStyle=function(value){this.canvasContext.fillStyle=value;};CanvasRendererBase.prototype.ctxStrokeStyle=function(value){this.canvasContext.strokeStyle=value;};CanvasRendererBase.prototype.ctxLineWidth=function(value){this.canvasContext.lineWidth=value;};CanvasRendererBase.prototype.ctxLineCap=function(value){this.canvasContext.lineCap=value;};CanvasRendererBase.prototype.ctxLineJoin=function(value){this.canvasContext.lineJoin=value;};CanvasRendererBase.prototype.ctxMiterLimit=function(value){this.canvasContext.miterLimit=value;};CanvasRendererBase.prototype.ctxFill=function(rule){this.canvasContext.fill(rule);};CanvasRendererBase.prototype.ctxFillRect=function(x,y,w,h){this.canvasContext.fillRect(x,y,w,h);};CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke();};CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return;}this.contextData.reset();};CanvasRendererBase.prototype.save=function(){this.canvasContext.save();};CanvasRendererBase.prototype.restore=function(actionFlag){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return;}if(actionFlag){this.globalData.blendMode='source-over';}this.contextData.restore(actionFlag);};CanvasRendererBase.prototype.configAnimation=function(animData){if(this.animationItem.wrapper){this.animationItem.container=createTag('canvas');var containerStyle=this.animationItem.container.style;containerStyle.width='100%';containerStyle.height='100%';var origin='0px 0px 0px';containerStyle.transformOrigin=origin;containerStyle.mozTransformOrigin=origin;containerStyle.webkitTransformOrigin=origin;containerStyle['-webkit-transform']=origin;containerStyle.contentVisibility=this.renderConfig.contentVisibility;this.animationItem.wrapper.appendChild(this.animationItem.container);this.canvasContext=this.animationItem.container.getContext('2d');if(this.renderConfig.className){this.animationItem.container.setAttribute('class',this.renderConfig.className);}if(this.renderConfig.id){this.animationItem.container.setAttribute('id',this.renderConfig.id);}}else{this.canvasContext=this.renderConfig.context;}this.contextData.setContext(this.canvasContext);this.data=animData;this.layers=animData.layers;this.transformCanvas={w:animData.w,h:animData.h,sx:0,sy:0,tx:0,ty:0};this.setupGlobalData(animData,document.body);this.globalData.canvasContext=this.canvasContext;this.globalData.renderer=this;this.globalData.isDashed=false;this.globalData.progressiveLoad=this.renderConfig.progressiveLoad;this.globalData.transformCanvas=this.transformCanvas;this.elements=createSizedArray(animData.layers.length);this.updateContainerSize();};CanvasRendererBase.prototype.updateContainerSize=function(width,height){this.reset();var elementWidth;var elementHeight;if(width){elementWidth=width;elementHeight=height;this.canvasContext.canvas.width=elementWidth;this.canvasContext.canvas.height=elementHeight;}else{if(this.animationItem.wrapper&&this.animationItem.container){elementWidth=this.animationItem.wrapper.offsetWidth;elementHeight=this.animationItem.wrapper.offsetHeight;}else{elementWidth=this.canvasContext.canvas.width;elementHeight=this.canvasContext.canvas.height;}this.canvasContext.canvas.width=elementWidth*this.renderConfig.dpr;this.canvasContext.canvas.height=elementHeight*this.renderConfig.dpr;}var elementRel;var animationRel;if(this.renderConfig.preserveAspectRatio.indexOf('meet')!==-1||this.renderConfig.preserveAspectRatio.indexOf('slice')!==-1){var par=this.renderConfig.preserveAspectRatio.split(' ');var fillType=par[1]||'meet';var pos=par[0]||'xMidYMid';var xPos=pos.substr(0,4);var yPos=pos.substr(4);elementRel=elementWidth/elementHeight;animationRel=this.transformCanvas.w/this.transformCanvas.h;if(animationRel>elementRel&&fillType==='meet'||animationRel<elementRel&&fillType==='slice'){this.transformCanvas.sx=elementWidth/(this.transformCanvas.w/this.renderConfig.dpr);this.transformCanvas.sy=elementWidth/(this.transformCanvas.w/this.renderConfig.dpr);}else{this.transformCanvas.sx=elementHeight/(this.transformCanvas.h/this.renderConfig.dpr);this.transformCanvas.sy=elementHeight/(this.transformCanvas.h/this.renderConfig.dpr);}if(xPos==='xMid'&&(animationRel<elementRel&&fillType==='meet'||animationRel>elementRel&&fillType==='slice')){this.transformCanvas.tx=(elementWidth-this.transformCanvas.w*(elementHeight/this.transformCanvas.h))/2*this.renderConfig.dpr;}else if(xPos==='xMax'&&(animationRel<elementRel&&fillType==='meet'||animationRel>elementRel&&fillType==='slice')){this.transformCanvas.tx=(elementWidth-this.transformCanvas.w*(elementHeight/this.transformCanvas.h))*this.renderConfig.dpr;}else{this.transformCanvas.tx=0;}if(yPos==='YMid'&&(animationRel>elementRel&&fillType==='meet'||animationRel<elementRel&&fillType==='slice')){this.transformCanvas.ty=(elementHeight-this.transformCanvas.h*(elementWidth/this.transformCanvas.w))/2*this.renderConfig.dpr;}else if(yPos==='YMax'&&(animationRel>elementRel&&fillType==='meet'||animationRel<elementRel&&fillType==='slice')){this.transformCanvas.ty=(elementHeight-this.transformCanvas.h*(elementWidth/this.transformCanvas.w))*this.renderConfig.dpr;}else{this.transformCanvas.ty=0;}}else if(this.renderConfig.preserveAspectRatio==='none'){this.transformCanvas.sx=elementWidth/(this.transformCanvas.w/this.renderConfig.dpr);this.transformCanvas.sy=elementHeight/(this.transformCanvas.h/this.renderConfig.dpr);this.transformCanvas.tx=0;this.transformCanvas.ty=0;}else{this.transformCanvas.sx=this.renderConfig.dpr;this.transformCanvas.sy=this.renderConfig.dpr;this.transformCanvas.tx=0;this.transformCanvas.ty=0;}this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1];/* var i, len = this.elements.length;\r\n      for(i=0;i<len;i+=1){\r\n          if(this.elements[i] && this.elements[i].data.ty === 0){\r\n              this.elements[i].resize(this.globalData.transformCanvas);\r\n          }\r\n      } */this.ctxTransform(this.transformCanvas.props);this.canvasContext.beginPath();this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h);this.canvasContext.closePath();this.canvasContext.clip();this.renderFrame(this.renderedFrame,true);};CanvasRendererBase.prototype.destroy=function(){if(this.renderConfig.clearCanvas&&this.animationItem.wrapper){this.animationItem.wrapper.innerText='';}var i;var len=this.layers?this.layers.length:0;for(i=len-1;i>=0;i-=1){if(this.elements[i]&&this.elements[i].destroy){this.elements[i].destroy();}}this.elements.length=0;this.globalData.canvasContext=null;this.animationItem.container=null;this.destroyed=true;};CanvasRendererBase.prototype.renderFrame=function(num,forceRender){if(this.renderedFrame===num&&this.renderConfig.clearCanvas===true&&!forceRender||this.destroyed||num===-1){return;}this.renderedFrame=num;this.globalData.frameNum=num-this.animationItem._isFirstFrame;this.globalData.frameId+=1;this.globalData._mdf=!this.renderConfig.clearCanvas||forceRender;this.globalData.projectInterface.currentFrame=num;// console.log('--------');\n// console.log('NEW: ',num);\nvar i;var len=this.layers.length;if(!this.completeLayers){this.checkLayers(num);}for(i=len-1;i>=0;i-=1){if(this.completeLayers||this.elements[i]){this.elements[i].prepareFrame(num-this.layers[i].st);}}if(this.globalData._mdf){if(this.renderConfig.clearCanvas===true){this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h);}else{this.save();}for(i=len-1;i>=0;i-=1){if(this.completeLayers||this.elements[i]){this.elements[i].renderFrame();}}if(this.renderConfig.clearCanvas!==true){this.restore();}}};CanvasRendererBase.prototype.buildItem=function(pos){var elements=this.elements;if(elements[pos]||this.layers[pos].ty===99){return;}var element=this.createItem(this.layers[pos],this,this.globalData);elements[pos]=element;element.initExpressions();/* if(this.layers[pos].ty === 0){\r\n          element.resize(this.globalData.transformCanvas);\r\n      } */};CanvasRendererBase.prototype.checkPendingElements=function(){while(this.pendingElements.length){var element=this.pendingElements.pop();element.checkParenting();}};CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display='none';};CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display='block';};function CanvasContext(){this.opacity=-1;this.transform=createTypedArray('float32',16);this.fillStyle='';this.strokeStyle='';this.lineWidth='';this.lineCap='';this.lineJoin='';this.miterLimit='';this.id=Math.random();}function CVContextData(){this.stack=[];this.cArrPos=0;this.cTr=new Matrix();var i;var len=15;for(i=0;i<len;i+=1){var canvasContext=new CanvasContext();this.stack[i]=canvasContext;}this._length=len;this.nativeContext=null;this.transformMat=new Matrix();this.currentOpacity=1;//\nthis.currentFillStyle='';this.appliedFillStyle='';//\nthis.currentStrokeStyle='';this.appliedStrokeStyle='';//\nthis.currentLineWidth='';this.appliedLineWidth='';//\nthis.currentLineCap='';this.appliedLineCap='';//\nthis.currentLineJoin='';this.appliedLineJoin='';//\nthis.appliedMiterLimit='';this.currentMiterLimit='';}CVContextData.prototype.duplicate=function(){var newLength=this._length*2;var i=0;for(i=this._length;i<newLength;i+=1){this.stack[i]=new CanvasContext();}this._length=newLength;};CVContextData.prototype.reset=function(){this.cArrPos=0;this.cTr.reset();this.stack[this.cArrPos].opacity=1;};CVContextData.prototype.restore=function(forceRestore){this.cArrPos-=1;var currentContext=this.stack[this.cArrPos];var transform=currentContext.transform;var i;var arr=this.cTr.props;for(i=0;i<16;i+=1){arr[i]=transform[i];}if(forceRestore){this.nativeContext.restore();var prevStack=this.stack[this.cArrPos+1];this.appliedFillStyle=prevStack.fillStyle;this.appliedStrokeStyle=prevStack.strokeStyle;this.appliedLineWidth=prevStack.lineWidth;this.appliedLineCap=prevStack.lineCap;this.appliedLineJoin=prevStack.lineJoin;this.appliedMiterLimit=prevStack.miterLimit;}this.nativeContext.setTransform(transform[0],transform[1],transform[4],transform[5],transform[12],transform[13]);if(forceRestore||currentContext.opacity!==-1&&this.currentOpacity!==currentContext.opacity){this.nativeContext.globalAlpha=currentContext.opacity;this.currentOpacity=currentContext.opacity;}this.currentFillStyle=currentContext.fillStyle;this.currentStrokeStyle=currentContext.strokeStyle;this.currentLineWidth=currentContext.lineWidth;this.currentLineCap=currentContext.lineCap;this.currentLineJoin=currentContext.lineJoin;this.currentMiterLimit=currentContext.miterLimit;};CVContextData.prototype.save=function(saveOnNativeFlag){if(saveOnNativeFlag){this.nativeContext.save();}var props=this.cTr.props;if(this._length<=this.cArrPos){this.duplicate();}var currentStack=this.stack[this.cArrPos];var i;for(i=0;i<16;i+=1){currentStack.transform[i]=props[i];}this.cArrPos+=1;var newStack=this.stack[this.cArrPos];newStack.opacity=currentStack.opacity;newStack.fillStyle=currentStack.fillStyle;newStack.strokeStyle=currentStack.strokeStyle;newStack.lineWidth=currentStack.lineWidth;newStack.lineCap=currentStack.lineCap;newStack.lineJoin=currentStack.lineJoin;newStack.miterLimit=currentStack.miterLimit;};CVContextData.prototype.setOpacity=function(value){this.stack[this.cArrPos].opacity=value;};CVContextData.prototype.setContext=function(value){this.nativeContext=value;};CVContextData.prototype.fillStyle=function(value){if(this.stack[this.cArrPos].fillStyle!==value){this.currentFillStyle=value;this.stack[this.cArrPos].fillStyle=value;}};CVContextData.prototype.strokeStyle=function(value){if(this.stack[this.cArrPos].strokeStyle!==value){this.currentStrokeStyle=value;this.stack[this.cArrPos].strokeStyle=value;}};CVContextData.prototype.lineWidth=function(value){if(this.stack[this.cArrPos].lineWidth!==value){this.currentLineWidth=value;this.stack[this.cArrPos].lineWidth=value;}};CVContextData.prototype.lineCap=function(value){if(this.stack[this.cArrPos].lineCap!==value){this.currentLineCap=value;this.stack[this.cArrPos].lineCap=value;}};CVContextData.prototype.lineJoin=function(value){if(this.stack[this.cArrPos].lineJoin!==value){this.currentLineJoin=value;this.stack[this.cArrPos].lineJoin=value;}};CVContextData.prototype.miterLimit=function(value){if(this.stack[this.cArrPos].miterLimit!==value){this.currentMiterLimit=value;this.stack[this.cArrPos].miterLimit=value;}};CVContextData.prototype.transform=function(props){this.transformMat.cloneFromProps(props);// Taking the last transform value from the stored stack of transforms\nvar currentTransform=this.cTr;// Applying the last transform value after the new transform to respect the order of transformations\nthis.transformMat.multiply(currentTransform);// Storing the new transformed value in the stored transform\ncurrentTransform.cloneFromProps(this.transformMat.props);var trProps=currentTransform.props;// Applying the new transform to the canvas\nthis.nativeContext.setTransform(trProps[0],trProps[1],trProps[4],trProps[5],trProps[12],trProps[13]);};CVContextData.prototype.opacity=function(op){var currentOpacity=this.stack[this.cArrPos].opacity;currentOpacity*=op<0?0:op;if(this.stack[this.cArrPos].opacity!==currentOpacity){if(this.currentOpacity!==op){this.nativeContext.globalAlpha=op;this.currentOpacity=op;}this.stack[this.cArrPos].opacity=currentOpacity;}};CVContextData.prototype.fill=function(rule){if(this.appliedFillStyle!==this.currentFillStyle){this.appliedFillStyle=this.currentFillStyle;this.nativeContext.fillStyle=this.appliedFillStyle;}this.nativeContext.fill(rule);};CVContextData.prototype.fillRect=function(x,y,w,h){if(this.appliedFillStyle!==this.currentFillStyle){this.appliedFillStyle=this.currentFillStyle;this.nativeContext.fillStyle=this.appliedFillStyle;}this.nativeContext.fillRect(x,y,w,h);};CVContextData.prototype.stroke=function(){if(this.appliedStrokeStyle!==this.currentStrokeStyle){this.appliedStrokeStyle=this.currentStrokeStyle;this.nativeContext.strokeStyle=this.appliedStrokeStyle;}if(this.appliedLineWidth!==this.currentLineWidth){this.appliedLineWidth=this.currentLineWidth;this.nativeContext.lineWidth=this.appliedLineWidth;}if(this.appliedLineCap!==this.currentLineCap){this.appliedLineCap=this.currentLineCap;this.nativeContext.lineCap=this.appliedLineCap;}if(this.appliedLineJoin!==this.currentLineJoin){this.appliedLineJoin=this.currentLineJoin;this.nativeContext.lineJoin=this.appliedLineJoin;}if(this.appliedMiterLimit!==this.currentMiterLimit){this.appliedMiterLimit=this.currentMiterLimit;this.nativeContext.miterLimit=this.appliedMiterLimit;}this.nativeContext.stroke();};function CVCompElement(data,globalData,comp){this.completeLayers=false;this.layers=data.layers;this.pendingElements=[];this.elements=createSizedArray(this.layers.length);this.initElement(data,globalData,comp);this.tm=data.tm?PropertyFactory.getProp(this,data.tm,0,globalData.frameRate,this):{_placeholder:true};}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement);CVCompElement.prototype.renderInnerContent=function(){var ctx=this.canvasContext;ctx.beginPath();ctx.moveTo(0,0);ctx.lineTo(this.data.w,0);ctx.lineTo(this.data.w,this.data.h);ctx.lineTo(0,this.data.h);ctx.lineTo(0,0);ctx.clip();var i;var len=this.layers.length;for(i=len-1;i>=0;i-=1){if(this.completeLayers||this.elements[i]){this.elements[i].renderFrame();}}};CVCompElement.prototype.destroy=function(){var i;var len=this.layers.length;for(i=len-1;i>=0;i-=1){if(this.elements[i]){this.elements[i].destroy();}}this.layers=null;this.elements=null;};CVCompElement.prototype.createComp=function(data){return new CVCompElement(data,this.globalData,this);};function CanvasRenderer(animationItem,config){this.animationItem=animationItem;this.renderConfig={clearCanvas:config&&config.clearCanvas!==undefined?config.clearCanvas:true,context:config&&config.context||null,progressiveLoad:config&&config.progressiveLoad||false,preserveAspectRatio:config&&config.preserveAspectRatio||'xMidYMid meet',imagePreserveAspectRatio:config&&config.imagePreserveAspectRatio||'xMidYMid slice',contentVisibility:config&&config.contentVisibility||'visible',className:config&&config.className||'',id:config&&config.id||'',runExpressions:!config||config.runExpressions===undefined||config.runExpressions};this.renderConfig.dpr=config&&config.dpr||1;if(this.animationItem.wrapper){this.renderConfig.dpr=config&&config.dpr||window.devicePixelRatio||1;}this.renderedFrame=-1;this.globalData={frameNum:-1,_mdf:false,renderConfig:this.renderConfig,currentGlobalAlpha:-1};this.contextData=new CVContextData();this.elements=[];this.pendingElements=[];this.transformMat=new Matrix();this.completeLayers=false;this.rendererType='canvas';if(this.renderConfig.clearCanvas){this.ctxTransform=this.contextData.transform.bind(this.contextData);this.ctxOpacity=this.contextData.opacity.bind(this.contextData);this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData);this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData);this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData);this.ctxLineCap=this.contextData.lineCap.bind(this.contextData);this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData);this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData);this.ctxFill=this.contextData.fill.bind(this.contextData);this.ctxFillRect=this.contextData.fillRect.bind(this.contextData);this.ctxStroke=this.contextData.stroke.bind(this.contextData);this.save=this.contextData.save.bind(this.contextData);}}extendPrototype([CanvasRendererBase],CanvasRenderer);CanvasRenderer.prototype.createComp=function(data){return new CVCompElement(data,this.globalData,this);};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function checkBlendMode(){},initRendererElement:function initRendererElement(){this.baseElement=createTag(this.data.tg||'div');if(this.data.hasMask){this.svgElement=createNS('svg');this.layerElement=createNS('g');this.maskedElement=this.layerElement;this.svgElement.appendChild(this.layerElement);this.baseElement.appendChild(this.svgElement);}else{this.layerElement=this.baseElement;}styleDiv(this.baseElement);},createContainerElements:function createContainerElements(){this.renderableEffectsManager=new CVEffects(this);this.transformedElement=this.baseElement;this.maskedElement=this.layerElement;if(this.data.ln){this.layerElement.setAttribute('id',this.data.ln);}if(this.data.cl){this.layerElement.setAttribute('class',this.data.cl);}if(this.data.bm!==0){this.setBlendMode();}},renderElement:function renderElement(){var transformedElementStyle=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var matrixValue=this.finalTransform.mat.toCSS();transformedElementStyle.transform=matrixValue;transformedElementStyle.webkitTransform=matrixValue;}if(this.finalTransform._opMdf){transformedElementStyle.opacity=this.finalTransform.mProp.o.v;}},renderFrame:function renderFrame(){// If it is exported as hidden (data.hd === true) no need to render\n// If it is not visible no need to render\nif(this.data.hd||this.hidden){return;}this.renderTransform();this.renderRenderable();this.renderElement();this.renderInnerContent();if(this._isFirstFrame){this._isFirstFrame=false;}},destroy:function destroy(){this.layerElement=null;this.transformedElement=null;if(this.matteElement){this.matteElement=null;}if(this.maskManager){this.maskManager.destroy();this.maskManager=null;}},createRenderableComponents:function createRenderableComponents(){this.maskManager=new MaskElement(this.data,this,this.globalData);},addEffects:function addEffects(){},setMatte:function setMatte(){}};HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement;HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy;HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(data,globalData,comp){this.initElement(data,globalData,comp);}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement);HSolidElement.prototype.createContent=function(){var rect;if(this.data.hasMask){rect=createNS('rect');rect.setAttribute('width',this.data.sw);rect.setAttribute('height',this.data.sh);rect.setAttribute('fill',this.data.sc);this.svgElement.setAttribute('width',this.data.sw);this.svgElement.setAttribute('height',this.data.sh);}else{rect=createTag('div');rect.style.width=this.data.sw+'px';rect.style.height=this.data.sh+'px';rect.style.backgroundColor=this.data.sc;}this.layerElement.appendChild(rect);};function HShapeElement(data,globalData,comp){// List of drawable elements\nthis.shapes=[];// Full shape data\nthis.shapesData=data.shapes;// List of styles that will be applied to shapes\nthis.stylesList=[];// List of modifiers that will be applied to shapes\nthis.shapeModifiers=[];// List of items in shape tree\nthis.itemsData=[];// List of items in previous shape tree\nthis.processedElements=[];// List of animated components\nthis.animatedContents=[];this.shapesContainer=createNS('g');this.initElement(data,globalData,comp);// Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n// List of elements that have been created\nthis.prevViewData=[];this.currentBBox={x:999999,y:-999999,h:0,w:0};}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement);HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent;HShapeElement.prototype.createContent=function(){var cont;this.baseElement.style.fontSize=0;if(this.data.hasMask){this.layerElement.appendChild(this.shapesContainer);cont=this.svgElement;}else{cont=createNS('svg');var size=this.comp.data?this.comp.data:this.globalData.compSize;cont.setAttribute('width',size.w);cont.setAttribute('height',size.h);cont.appendChild(this.shapesContainer);this.layerElement.appendChild(cont);}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],true);this.filterUniqueShapes();this.shapeCont=cont;};HShapeElement.prototype.getTransformedPoint=function(transformers,point){var i;var len=transformers.length;for(i=0;i<len;i+=1){point=transformers[i].mProps.v.applyToPointArray(point[0],point[1],0);}return point;};HShapeElement.prototype.calculateShapeBoundingBox=function(item,boundingBox){var shape=item.sh.v;var transformers=item.transformers;var i;var len=shape._length;var vPoint;var oPoint;var nextIPoint;var nextVPoint;if(len<=1){return;}for(i=0;i<len-1;i+=1){vPoint=this.getTransformedPoint(transformers,shape.v[i]);oPoint=this.getTransformedPoint(transformers,shape.o[i]);nextIPoint=this.getTransformedPoint(transformers,shape.i[i+1]);nextVPoint=this.getTransformedPoint(transformers,shape.v[i+1]);this.checkBounds(vPoint,oPoint,nextIPoint,nextVPoint,boundingBox);}if(shape.c){vPoint=this.getTransformedPoint(transformers,shape.v[i]);oPoint=this.getTransformedPoint(transformers,shape.o[i]);nextIPoint=this.getTransformedPoint(transformers,shape.i[0]);nextVPoint=this.getTransformedPoint(transformers,shape.v[0]);this.checkBounds(vPoint,oPoint,nextIPoint,nextVPoint,boundingBox);}};HShapeElement.prototype.checkBounds=function(vPoint,oPoint,nextIPoint,nextVPoint,boundingBox){this.getBoundsOfCurve(vPoint,oPoint,nextIPoint,nextVPoint);var bounds=this.shapeBoundingBox;boundingBox.x=bmMin(bounds.left,boundingBox.x);boundingBox.xMax=bmMax(bounds.right,boundingBox.xMax);boundingBox.y=bmMin(bounds.top,boundingBox.y);boundingBox.yMax=bmMax(bounds.bottom,boundingBox.yMax);};HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0};HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0};HShapeElement.prototype.getBoundsOfCurve=function(p0,p1,p2,p3){var bounds=[[p0[0],p3[0]],[p0[1],p3[1]]];for(var a,b,c,t,b2ac,t1,t2,i=0;i<2;++i){// eslint-disable-line no-plusplus\nb=6*p0[i]-12*p1[i]+6*p2[i];a=-3*p0[i]+9*p1[i]-9*p2[i]+3*p3[i];c=3*p1[i]-3*p0[i];b|=0;// eslint-disable-line no-bitwise\na|=0;// eslint-disable-line no-bitwise\nc|=0;// eslint-disable-line no-bitwise\nif(a===0&&b===0){//\n}else if(a===0){t=-c/b;if(t>0&&t<1){bounds[i].push(this.calculateF(t,p0,p1,p2,p3,i));}}else{b2ac=b*b-4*c*a;if(b2ac>=0){t1=(-b+bmSqrt(b2ac))/(2*a);if(t1>0&&t1<1)bounds[i].push(this.calculateF(t1,p0,p1,p2,p3,i));t2=(-b-bmSqrt(b2ac))/(2*a);if(t2>0&&t2<1)bounds[i].push(this.calculateF(t2,p0,p1,p2,p3,i));}}}this.shapeBoundingBox.left=bmMin.apply(null,bounds[0]);this.shapeBoundingBox.top=bmMin.apply(null,bounds[1]);this.shapeBoundingBox.right=bmMax.apply(null,bounds[0]);this.shapeBoundingBox.bottom=bmMax.apply(null,bounds[1]);};HShapeElement.prototype.calculateF=function(t,p0,p1,p2,p3,i){return bmPow(1-t,3)*p0[i]+3*bmPow(1-t,2)*t*p1[i]+3*(1-t)*bmPow(t,2)*p2[i]+bmPow(t,3)*p3[i];};HShapeElement.prototype.calculateBoundingBox=function(itemsData,boundingBox){var i;var len=itemsData.length;for(i=0;i<len;i+=1){if(itemsData[i]&&itemsData[i].sh){this.calculateShapeBoundingBox(itemsData[i],boundingBox);}else if(itemsData[i]&&itemsData[i].it){this.calculateBoundingBox(itemsData[i].it,boundingBox);}else if(itemsData[i]&&itemsData[i].style&&itemsData[i].w){this.expandStrokeBoundingBox(itemsData[i].w,boundingBox);}}};HShapeElement.prototype.expandStrokeBoundingBox=function(widthProperty,boundingBox){var width=0;if(widthProperty.keyframes){for(var i=0;i<widthProperty.keyframes.length;i+=1){var kfw=widthProperty.keyframes[i].s;if(kfw>width){width=kfw;}}width*=widthProperty.mult;}else{width=widthProperty.v*widthProperty.mult;}boundingBox.x-=width;boundingBox.xMax+=width;boundingBox.y-=width;boundingBox.yMax+=width;};HShapeElement.prototype.currentBoxContains=function(box){return this.currentBBox.x<=box.x&&this.currentBBox.y<=box.y&&this.currentBBox.width+this.currentBBox.x>=box.x+box.width&&this.currentBBox.height+this.currentBBox.y>=box.y+box.height;};HShapeElement.prototype.renderInnerContent=function(){this._renderShapeFrame();if(!this.hidden&&(this._isFirstFrame||this._mdf)){var tempBoundingBox=this.tempBoundingBox;var max=999999;tempBoundingBox.x=max;tempBoundingBox.xMax=-max;tempBoundingBox.y=max;tempBoundingBox.yMax=-max;this.calculateBoundingBox(this.itemsData,tempBoundingBox);tempBoundingBox.width=tempBoundingBox.xMax<tempBoundingBox.x?0:tempBoundingBox.xMax-tempBoundingBox.x;tempBoundingBox.height=tempBoundingBox.yMax<tempBoundingBox.y?0:tempBoundingBox.yMax-tempBoundingBox.y;// var tempBoundingBox = this.shapeCont.getBBox();\nif(this.currentBoxContains(tempBoundingBox)){return;}var changed=false;if(this.currentBBox.w!==tempBoundingBox.width){this.currentBBox.w=tempBoundingBox.width;this.shapeCont.setAttribute('width',tempBoundingBox.width);changed=true;}if(this.currentBBox.h!==tempBoundingBox.height){this.currentBBox.h=tempBoundingBox.height;this.shapeCont.setAttribute('height',tempBoundingBox.height);changed=true;}if(changed||this.currentBBox.x!==tempBoundingBox.x||this.currentBBox.y!==tempBoundingBox.y){this.currentBBox.w=tempBoundingBox.width;this.currentBBox.h=tempBoundingBox.height;this.currentBBox.x=tempBoundingBox.x;this.currentBBox.y=tempBoundingBox.y;this.shapeCont.setAttribute('viewBox',this.currentBBox.x+' '+this.currentBBox.y+' '+this.currentBBox.w+' '+this.currentBBox.h);var shapeStyle=this.shapeCont.style;var shapeTransform='translate('+this.currentBBox.x+'px,'+this.currentBBox.y+'px)';shapeStyle.transform=shapeTransform;shapeStyle.webkitTransform=shapeTransform;}}};function HTextElement(data,globalData,comp){this.textSpans=[];this.textPaths=[];this.currentBBox={x:999999,y:-999999,h:0,w:0};this.renderType='svg';this.isMasked=false;this.initElement(data,globalData,comp);}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement);HTextElement.prototype.createContent=function(){this.isMasked=this.checkMasks();if(this.isMasked){this.renderType='svg';this.compW=this.comp.data.w;this.compH=this.comp.data.h;this.svgElement.setAttribute('width',this.compW);this.svgElement.setAttribute('height',this.compH);var g=createNS('g');this.maskedElement.appendChild(g);this.innerElem=g;}else{this.renderType='html';this.innerElem=this.layerElement;}this.checkParenting();};HTextElement.prototype.buildNewText=function(){var documentData=this.textProperty.currentData;this.renderedLetters=createSizedArray(documentData.l?documentData.l.length:0);var innerElemStyle=this.innerElem.style;var textColor=documentData.fc?this.buildColor(documentData.fc):'rgba(0,0,0,0)';innerElemStyle.fill=textColor;innerElemStyle.color=textColor;if(documentData.sc){innerElemStyle.stroke=this.buildColor(documentData.sc);innerElemStyle.strokeWidth=documentData.sw+'px';}var fontData=this.globalData.fontManager.getFontByName(documentData.f);if(!this.globalData.fontManager.chars){innerElemStyle.fontSize=documentData.finalSize+'px';innerElemStyle.lineHeight=documentData.finalSize+'px';if(fontData.fClass){this.innerElem.className=fontData.fClass;}else{innerElemStyle.fontFamily=fontData.fFamily;var fWeight=documentData.fWeight;var fStyle=documentData.fStyle;innerElemStyle.fontStyle=fStyle;innerElemStyle.fontWeight=fWeight;}}var i;var len;var letters=documentData.l;len=letters.length;var tSpan;var tParent;var tCont;var matrixHelper=this.mHelper;var shapes;var shapeStr='';var cnt=0;for(i=0;i<len;i+=1){if(this.globalData.fontManager.chars){if(!this.textPaths[cnt]){tSpan=createNS('path');tSpan.setAttribute('stroke-linecap',lineCapEnum[1]);tSpan.setAttribute('stroke-linejoin',lineJoinEnum[2]);tSpan.setAttribute('stroke-miterlimit','4');}else{tSpan=this.textPaths[cnt];}if(!this.isMasked){if(this.textSpans[cnt]){tParent=this.textSpans[cnt];tCont=tParent.children[0];}else{tParent=createTag('div');tParent.style.lineHeight=0;tCont=createNS('svg');tCont.appendChild(tSpan);styleDiv(tParent);}}}else if(!this.isMasked){if(this.textSpans[cnt]){tParent=this.textSpans[cnt];tSpan=this.textPaths[cnt];}else{tParent=createTag('span');styleDiv(tParent);tSpan=createTag('span');styleDiv(tSpan);tParent.appendChild(tSpan);}}else{tSpan=this.textPaths[cnt]?this.textPaths[cnt]:createNS('text');}// tSpan.setAttribute('visibility', 'hidden');\nif(this.globalData.fontManager.chars){var charData=this.globalData.fontManager.getCharData(documentData.finalText[i],fontData.fStyle,this.globalData.fontManager.getFontByName(documentData.f).fFamily);var shapeData;if(charData){shapeData=charData.data;}else{shapeData=null;}matrixHelper.reset();if(shapeData&&shapeData.shapes&&shapeData.shapes.length){shapes=shapeData.shapes[0].it;matrixHelper.scale(documentData.finalSize/100,documentData.finalSize/100);shapeStr=this.createPathShape(matrixHelper,shapes);tSpan.setAttribute('d',shapeStr);}if(!this.isMasked){this.innerElem.appendChild(tParent);if(shapeData&&shapeData.shapes){// document.body.appendChild is needed to get exact measure of shape\ndocument.body.appendChild(tCont);var boundingBox=tCont.getBBox();tCont.setAttribute('width',boundingBox.width+2);tCont.setAttribute('height',boundingBox.height+2);tCont.setAttribute('viewBox',boundingBox.x-1+' '+(boundingBox.y-1)+' '+(boundingBox.width+2)+' '+(boundingBox.height+2));var tContStyle=tCont.style;var tContTranslation='translate('+(boundingBox.x-1)+'px,'+(boundingBox.y-1)+'px)';tContStyle.transform=tContTranslation;tContStyle.webkitTransform=tContTranslation;letters[i].yOffset=boundingBox.y-1;}else{tCont.setAttribute('width',1);tCont.setAttribute('height',1);}tParent.appendChild(tCont);}else{this.innerElem.appendChild(tSpan);}}else{tSpan.textContent=letters[i].val;tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace','xml:space','preserve');if(!this.isMasked){this.innerElem.appendChild(tParent);//\nvar tStyle=tSpan.style;var tSpanTranslation='translate3d(0,'+-documentData.finalSize/1.2+'px,0)';tStyle.transform=tSpanTranslation;tStyle.webkitTransform=tSpanTranslation;}else{this.innerElem.appendChild(tSpan);}}//\nif(!this.isMasked){this.textSpans[cnt]=tParent;}else{this.textSpans[cnt]=tSpan;}this.textSpans[cnt].style.display='block';this.textPaths[cnt]=tSpan;cnt+=1;}while(cnt<this.textSpans.length){this.textSpans[cnt].style.display='none';cnt+=1;}};HTextElement.prototype.renderInnerContent=function(){this.validateText();var svgStyle;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag){return;}if(this.isMasked&&this.finalTransform._matMdf){// Todo Benchmark if using this is better than getBBox\nthis.svgElement.setAttribute('viewBox',-this.finalTransform.mProp.p.v[0]+' '+-this.finalTransform.mProp.p.v[1]+' '+this.compW+' '+this.compH);svgStyle=this.svgElement.style;var translation='translate('+-this.finalTransform.mProp.p.v[0]+'px,'+-this.finalTransform.mProp.p.v[1]+'px)';svgStyle.transform=translation;svgStyle.webkitTransform=translation;}}this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);if(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag){return;}var i;var len;var count=0;var renderedLetters=this.textAnimator.renderedLetters;var letters=this.textProperty.currentData.l;len=letters.length;var renderedLetter;var textSpan;var textPath;for(i=0;i<len;i+=1){if(letters[i].n){count+=1;}else{textSpan=this.textSpans[i];textPath=this.textPaths[i];renderedLetter=renderedLetters[count];count+=1;if(renderedLetter._mdf.m){if(!this.isMasked){textSpan.style.webkitTransform=renderedLetter.m;textSpan.style.transform=renderedLetter.m;}else{textSpan.setAttribute('transform',renderedLetter.m);}}/// /textSpan.setAttribute('opacity',renderedLetter.o);\ntextSpan.style.opacity=renderedLetter.o;if(renderedLetter.sw&&renderedLetter._mdf.sw){textPath.setAttribute('stroke-width',renderedLetter.sw);}if(renderedLetter.sc&&renderedLetter._mdf.sc){textPath.setAttribute('stroke',renderedLetter.sc);}if(renderedLetter.fc&&renderedLetter._mdf.fc){textPath.setAttribute('fill',renderedLetter.fc);textPath.style.color=renderedLetter.fc;}}}if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var boundingBox=this.innerElem.getBBox();if(this.currentBBox.w!==boundingBox.width){this.currentBBox.w=boundingBox.width;this.svgElement.setAttribute('width',boundingBox.width);}if(this.currentBBox.h!==boundingBox.height){this.currentBBox.h=boundingBox.height;this.svgElement.setAttribute('height',boundingBox.height);}var margin=1;if(this.currentBBox.w!==boundingBox.width+margin*2||this.currentBBox.h!==boundingBox.height+margin*2||this.currentBBox.x!==boundingBox.x-margin||this.currentBBox.y!==boundingBox.y-margin){this.currentBBox.w=boundingBox.width+margin*2;this.currentBBox.h=boundingBox.height+margin*2;this.currentBBox.x=boundingBox.x-margin;this.currentBBox.y=boundingBox.y-margin;this.svgElement.setAttribute('viewBox',this.currentBBox.x+' '+this.currentBBox.y+' '+this.currentBBox.w+' '+this.currentBBox.h);svgStyle=this.svgElement.style;var svgTransform='translate('+this.currentBBox.x+'px,'+this.currentBBox.y+'px)';svgStyle.transform=svgTransform;svgStyle.webkitTransform=svgTransform;}}};function HCameraElement(data,globalData,comp){this.initFrame();this.initBaseData(data,globalData,comp);this.initHierarchy();var getProp=PropertyFactory.getProp;this.pe=getProp(this,data.pe,0,0,this);if(data.ks.p.s){this.px=getProp(this,data.ks.p.x,1,0,this);this.py=getProp(this,data.ks.p.y,1,0,this);this.pz=getProp(this,data.ks.p.z,1,0,this);}else{this.p=getProp(this,data.ks.p,1,0,this);}if(data.ks.a){this.a=getProp(this,data.ks.a,1,0,this);}if(data.ks.or.k.length&&data.ks.or.k[0].to){var i;var len=data.ks.or.k.length;for(i=0;i<len;i+=1){data.ks.or.k[i].to=null;data.ks.or.k[i].ti=null;}}this.or=getProp(this,data.ks.or,1,degToRads,this);this.or.sh=true;this.rx=getProp(this,data.ks.rx,0,degToRads,this);this.ry=getProp(this,data.ks.ry,0,degToRads,this);this.rz=getProp(this,data.ks.rz,0,degToRads,this);this.mat=new Matrix();this._prevMat=new Matrix();this._isFirstFrame=true;// TODO: find a better way to make the HCamera element to be compatible with the LayerInterface and TransformInterface.\nthis.finalTransform={mProp:this};}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement);HCameraElement.prototype.setup=function(){var i;var len=this.comp.threeDElements.length;var comp;var perspectiveStyle;var containerStyle;for(i=0;i<len;i+=1){// [perspectiveElem,container]\ncomp=this.comp.threeDElements[i];if(comp.type==='3d'){perspectiveStyle=comp.perspectiveElem.style;containerStyle=comp.container.style;var perspective=this.pe.v+'px';var origin='0px 0px 0px';var matrix='matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';perspectiveStyle.perspective=perspective;perspectiveStyle.webkitPerspective=perspective;containerStyle.transformOrigin=origin;containerStyle.mozTransformOrigin=origin;containerStyle.webkitTransformOrigin=origin;perspectiveStyle.transform=matrix;perspectiveStyle.webkitTransform=matrix;}}};HCameraElement.prototype.createElements=function(){};HCameraElement.prototype.hide=function(){};HCameraElement.prototype.renderFrame=function(){var _mdf=this._isFirstFrame;var i;var len;if(this.hierarchy){len=this.hierarchy.length;for(i=0;i<len;i+=1){_mdf=this.hierarchy[i].finalTransform.mProp._mdf||_mdf;}}if(_mdf||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){this.mat.reset();if(this.hierarchy){len=this.hierarchy.length-1;for(i=len;i>=0;i-=1){var mTransf=this.hierarchy[i].finalTransform.mProp;this.mat.translate(-mTransf.p.v[0],-mTransf.p.v[1],mTransf.p.v[2]);this.mat.rotateX(-mTransf.or.v[0]).rotateY(-mTransf.or.v[1]).rotateZ(mTransf.or.v[2]);this.mat.rotateX(-mTransf.rx.v).rotateY(-mTransf.ry.v).rotateZ(mTransf.rz.v);this.mat.scale(1/mTransf.s.v[0],1/mTransf.s.v[1],1/mTransf.s.v[2]);this.mat.translate(mTransf.a.v[0],mTransf.a.v[1],mTransf.a.v[2]);}}if(this.p){this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]);}else{this.mat.translate(-this.px.v,-this.py.v,this.pz.v);}if(this.a){var diffVector;if(this.p){diffVector=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]];}else{diffVector=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];}var mag=Math.sqrt(Math.pow(diffVector[0],2)+Math.pow(diffVector[1],2)+Math.pow(diffVector[2],2));// var lookDir = getNormalizedPoint(getDiffVector(this.a.v,this.p.v));\nvar lookDir=[diffVector[0]/mag,diffVector[1]/mag,diffVector[2]/mag];var lookLengthOnXZ=Math.sqrt(lookDir[2]*lookDir[2]+lookDir[0]*lookDir[0]);var mRotationX=Math.atan2(lookDir[1],lookLengthOnXZ);var mRotationY=Math.atan2(lookDir[0],-lookDir[2]);this.mat.rotateY(mRotationY).rotateX(-mRotationX);}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v);this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]);this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0);this.mat.translate(0,0,this.pe.v);var hasMatrixChanged=!this._prevMat.equals(this.mat);if((hasMatrixChanged||this.pe._mdf)&&this.comp.threeDElements){len=this.comp.threeDElements.length;var comp;var perspectiveStyle;var containerStyle;for(i=0;i<len;i+=1){comp=this.comp.threeDElements[i];if(comp.type==='3d'){if(hasMatrixChanged){var matValue=this.mat.toCSS();containerStyle=comp.container.style;containerStyle.transform=matValue;containerStyle.webkitTransform=matValue;}if(this.pe._mdf){perspectiveStyle=comp.perspectiveElem.style;perspectiveStyle.perspective=this.pe.v+'px';perspectiveStyle.webkitPerspective=this.pe.v+'px';}}}this.mat.clone(this._prevMat);}}this._isFirstFrame=false;};HCameraElement.prototype.prepareFrame=function(num){this.prepareProperties(num,true);};HCameraElement.prototype.destroy=function(){};HCameraElement.prototype.getBaseElement=function(){return null;};function HImageElement(data,globalData,comp){this.assetData=globalData.getAssetData(data.refId);this.initElement(data,globalData,comp);}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement);HImageElement.prototype.createContent=function(){var assetPath=this.globalData.getAssetsPath(this.assetData);var img=new Image();if(this.data.hasMask){this.imageElem=createNS('image');this.imageElem.setAttribute('width',this.assetData.w+'px');this.imageElem.setAttribute('height',this.assetData.h+'px');this.imageElem.setAttributeNS('http://www.w3.org/1999/xlink','href',assetPath);this.layerElement.appendChild(this.imageElem);this.baseElement.setAttribute('width',this.assetData.w);this.baseElement.setAttribute('height',this.assetData.h);}else{this.layerElement.appendChild(img);}img.crossOrigin='anonymous';img.src=assetPath;if(this.data.ln){this.baseElement.setAttribute('id',this.data.ln);}};function HybridRendererBase(animationItem,config){this.animationItem=animationItem;this.layers=null;this.renderedFrame=-1;this.renderConfig={className:config&&config.className||'',imagePreserveAspectRatio:config&&config.imagePreserveAspectRatio||'xMidYMid slice',hideOnTransparent:!(config&&config.hideOnTransparent===false),filterSize:{width:config&&config.filterSize&&config.filterSize.width||'400%',height:config&&config.filterSize&&config.filterSize.height||'400%',x:config&&config.filterSize&&config.filterSize.x||'-100%',y:config&&config.filterSize&&config.filterSize.y||'-100%'}};this.globalData={_mdf:false,frameNum:-1,renderConfig:this.renderConfig};this.pendingElements=[];this.elements=[];this.threeDElements=[];this.destroyed=false;this.camera=null;this.supports3d=true;this.rendererType='html';}extendPrototype([BaseRenderer],HybridRendererBase);HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem;HybridRendererBase.prototype.checkPendingElements=function(){while(this.pendingElements.length){var element=this.pendingElements.pop();element.checkParenting();}};HybridRendererBase.prototype.appendElementInPos=function(element,pos){var newDOMElement=element.getBaseElement();if(!newDOMElement){return;}var layer=this.layers[pos];if(!layer.ddd||!this.supports3d){if(this.threeDElements){this.addTo3dContainer(newDOMElement,pos);}else{var i=0;var nextDOMElement;var nextLayer;var tmpDOMElement;while(i<pos){if(this.elements[i]&&this.elements[i]!==true&&this.elements[i].getBaseElement){nextLayer=this.elements[i];tmpDOMElement=this.layers[i].ddd?this.getThreeDContainerByPos(i):nextLayer.getBaseElement();nextDOMElement=tmpDOMElement||nextDOMElement;}i+=1;}if(nextDOMElement){if(!layer.ddd||!this.supports3d){this.layerElement.insertBefore(newDOMElement,nextDOMElement);}}else if(!layer.ddd||!this.supports3d){this.layerElement.appendChild(newDOMElement);}}}else{this.addTo3dContainer(newDOMElement,pos);}};HybridRendererBase.prototype.createShape=function(data){if(!this.supports3d){return new SVGShapeElement(data,this.globalData,this);}return new HShapeElement(data,this.globalData,this);};HybridRendererBase.prototype.createText=function(data){if(!this.supports3d){return new SVGTextLottieElement(data,this.globalData,this);}return new HTextElement(data,this.globalData,this);};HybridRendererBase.prototype.createCamera=function(data){this.camera=new HCameraElement(data,this.globalData,this);return this.camera;};HybridRendererBase.prototype.createImage=function(data){if(!this.supports3d){return new IImageElement(data,this.globalData,this);}return new HImageElement(data,this.globalData,this);};HybridRendererBase.prototype.createSolid=function(data){if(!this.supports3d){return new ISolidElement(data,this.globalData,this);}return new HSolidElement(data,this.globalData,this);};HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull;HybridRendererBase.prototype.getThreeDContainerByPos=function(pos){var i=0;var len=this.threeDElements.length;while(i<len){if(this.threeDElements[i].startPos<=pos&&this.threeDElements[i].endPos>=pos){return this.threeDElements[i].perspectiveElem;}i+=1;}return null;};HybridRendererBase.prototype.createThreeDContainer=function(pos,type){var perspectiveElem=createTag('div');var style;var containerStyle;styleDiv(perspectiveElem);var container=createTag('div');styleDiv(container);if(type==='3d'){style=perspectiveElem.style;style.width=this.globalData.compSize.w+'px';style.height=this.globalData.compSize.h+'px';var center='50% 50%';style.webkitTransformOrigin=center;style.mozTransformOrigin=center;style.transformOrigin=center;containerStyle=container.style;var matrix='matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';containerStyle.transform=matrix;containerStyle.webkitTransform=matrix;}perspectiveElem.appendChild(container);// this.resizerElem.appendChild(perspectiveElem);\nvar threeDContainerData={container:container,perspectiveElem:perspectiveElem,startPos:pos,endPos:pos,type:type};this.threeDElements.push(threeDContainerData);return threeDContainerData;};HybridRendererBase.prototype.build3dContainers=function(){var i;var len=this.layers.length;var lastThreeDContainerData;var currentContainer='';for(i=0;i<len;i+=1){if(this.layers[i].ddd&&this.layers[i].ty!==3){if(currentContainer!=='3d'){currentContainer='3d';lastThreeDContainerData=this.createThreeDContainer(i,'3d');}lastThreeDContainerData.endPos=Math.max(lastThreeDContainerData.endPos,i);}else{if(currentContainer!=='2d'){currentContainer='2d';lastThreeDContainerData=this.createThreeDContainer(i,'2d');}lastThreeDContainerData.endPos=Math.max(lastThreeDContainerData.endPos,i);}}len=this.threeDElements.length;for(i=len-1;i>=0;i-=1){this.resizerElem.appendChild(this.threeDElements[i].perspectiveElem);}};HybridRendererBase.prototype.addTo3dContainer=function(elem,pos){var i=0;var len=this.threeDElements.length;while(i<len){if(pos<=this.threeDElements[i].endPos){var j=this.threeDElements[i].startPos;var nextElement;while(j<pos){if(this.elements[j]&&this.elements[j].getBaseElement){nextElement=this.elements[j].getBaseElement();}j+=1;}if(nextElement){this.threeDElements[i].container.insertBefore(elem,nextElement);}else{this.threeDElements[i].container.appendChild(elem);}break;}i+=1;}};HybridRendererBase.prototype.configAnimation=function(animData){var resizerElem=createTag('div');var wrapper=this.animationItem.wrapper;var style=resizerElem.style;style.width=animData.w+'px';style.height=animData.h+'px';this.resizerElem=resizerElem;styleDiv(resizerElem);style.transformStyle='flat';style.mozTransformStyle='flat';style.webkitTransformStyle='flat';if(this.renderConfig.className){resizerElem.setAttribute('class',this.renderConfig.className);}wrapper.appendChild(resizerElem);style.overflow='hidden';var svg=createNS('svg');svg.setAttribute('width','1');svg.setAttribute('height','1');styleDiv(svg);this.resizerElem.appendChild(svg);var defs=createNS('defs');svg.appendChild(defs);this.data=animData;// Mask animation\nthis.setupGlobalData(animData,svg);this.globalData.defs=defs;this.layers=animData.layers;this.layerElement=this.resizerElem;this.build3dContainers();this.updateContainerSize();};HybridRendererBase.prototype.destroy=function(){if(this.animationItem.wrapper){this.animationItem.wrapper.innerText='';}this.animationItem.container=null;this.globalData.defs=null;var i;var len=this.layers?this.layers.length:0;for(i=0;i<len;i+=1){if(this.elements[i]&&this.elements[i].destroy){this.elements[i].destroy();}}this.elements.length=0;this.destroyed=true;this.animationItem=null;};HybridRendererBase.prototype.updateContainerSize=function(){var elementWidth=this.animationItem.wrapper.offsetWidth;var elementHeight=this.animationItem.wrapper.offsetHeight;var elementRel=elementWidth/elementHeight;var animationRel=this.globalData.compSize.w/this.globalData.compSize.h;var sx;var sy;var tx;var ty;if(animationRel>elementRel){sx=elementWidth/this.globalData.compSize.w;sy=elementWidth/this.globalData.compSize.w;tx=0;ty=(elementHeight-this.globalData.compSize.h*(elementWidth/this.globalData.compSize.w))/2;}else{sx=elementHeight/this.globalData.compSize.h;sy=elementHeight/this.globalData.compSize.h;tx=(elementWidth-this.globalData.compSize.w*(elementHeight/this.globalData.compSize.h))/2;ty=0;}var style=this.resizerElem.style;style.webkitTransform='matrix3d('+sx+',0,0,0,0,'+sy+',0,0,0,0,1,0,'+tx+','+ty+',0,1)';style.transform=style.webkitTransform;};HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame;HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display='none';};HybridRendererBase.prototype.show=function(){this.resizerElem.style.display='block';};HybridRendererBase.prototype.initItems=function(){this.buildAllItems();if(this.camera){this.camera.setup();}else{var cWidth=this.globalData.compSize.w;var cHeight=this.globalData.compSize.h;var i;var len=this.threeDElements.length;for(i=0;i<len;i+=1){var style=this.threeDElements[i].perspectiveElem.style;style.webkitPerspective=Math.sqrt(Math.pow(cWidth,2)+Math.pow(cHeight,2))+'px';style.perspective=style.webkitPerspective;}}};HybridRendererBase.prototype.searchExtraCompositions=function(assets){var i;var len=assets.length;var floatingContainer=createTag('div');for(i=0;i<len;i+=1){if(assets[i].xt){var comp=this.createComp(assets[i],floatingContainer,this.globalData.comp,null);comp.initExpressions();this.globalData.projectInterface.registerComposition(comp);}}};function HCompElement(data,globalData,comp){this.layers=data.layers;this.supports3d=!data.hasMask;this.completeLayers=false;this.pendingElements=[];this.elements=this.layers?createSizedArray(this.layers.length):[];this.initElement(data,globalData,comp);this.tm=data.tm?PropertyFactory.getProp(this,data.tm,0,globalData.frameRate,this):{_placeholder:true};}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement);HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements;HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements();// divElement.style.clip = 'rect(0px, '+this.data.w+'px, '+this.data.h+'px, 0px)';\nif(this.data.hasMask){this.svgElement.setAttribute('width',this.data.w);this.svgElement.setAttribute('height',this.data.h);this.transformedElement=this.baseElement;}else{this.transformedElement=this.layerElement;}};HCompElement.prototype.addTo3dContainer=function(elem,pos){var j=0;var nextElement;while(j<pos){if(this.elements[j]&&this.elements[j].getBaseElement){nextElement=this.elements[j].getBaseElement();}j+=1;}if(nextElement){this.layerElement.insertBefore(elem,nextElement);}else{this.layerElement.appendChild(elem);}};HCompElement.prototype.createComp=function(data){if(!this.supports3d){return new SVGCompElement(data,this.globalData,this);}return new HCompElement(data,this.globalData,this);};function HybridRenderer(animationItem,config){this.animationItem=animationItem;this.layers=null;this.renderedFrame=-1;this.renderConfig={className:config&&config.className||'',imagePreserveAspectRatio:config&&config.imagePreserveAspectRatio||'xMidYMid slice',hideOnTransparent:!(config&&config.hideOnTransparent===false),filterSize:{width:config&&config.filterSize&&config.filterSize.width||'400%',height:config&&config.filterSize&&config.filterSize.height||'400%',x:config&&config.filterSize&&config.filterSize.x||'-100%',y:config&&config.filterSize&&config.filterSize.y||'-100%'},runExpressions:!config||config.runExpressions===undefined||config.runExpressions};this.globalData={_mdf:false,frameNum:-1,renderConfig:this.renderConfig};this.pendingElements=[];this.elements=[];this.threeDElements=[];this.destroyed=false;this.camera=null;this.supports3d=true;this.rendererType='html';}extendPrototype([HybridRendererBase],HybridRenderer);HybridRenderer.prototype.createComp=function(data){if(!this.supports3d){return new SVGCompElement(data,this.globalData,this);}return new HCompElement(data,this.globalData,this);};var CompExpressionInterface=function(){return function(comp){function _thisLayerFunction(name){var i=0;var len=comp.layers.length;while(i<len){if(comp.layers[i].nm===name||comp.layers[i].ind===name){return comp.elements[i].layerInterface;}i+=1;}return null;// return {active:false};\n}Object.defineProperty(_thisLayerFunction,'_name',{value:comp.data.nm});_thisLayerFunction.layer=_thisLayerFunction;_thisLayerFunction.pixelAspect=1;_thisLayerFunction.height=comp.data.h||comp.globalData.compSize.h;_thisLayerFunction.width=comp.data.w||comp.globalData.compSize.w;_thisLayerFunction.pixelAspect=1;_thisLayerFunction.frameDuration=1/comp.globalData.frameRate;_thisLayerFunction.displayStartTime=0;_thisLayerFunction.numLayers=comp.layers.length;return _thisLayerFunction;};}();function _typeof$2(obj){\"@babel/helpers - typeof\";if(typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"){_typeof$2=function _typeof(obj){return typeof obj;};}else{_typeof$2=function _typeof(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;};}return _typeof$2(obj);}/* eslint-disable *//*\r\n   Copyright 2014 David Bau.\r\n\r\n   Permission is hereby granted, free of charge, to any person obtaining\r\n   a copy of this software and associated documentation files (the\r\n   \"Software\"), to deal in the Software without restriction, including\r\n   without limitation the rights to use, copy, modify, merge, publish,\r\n   distribute, sublicense, and/or sell copies of the Software, and to\r\n   permit persons to whom the Software is furnished to do so, subject to\r\n   the following conditions:\r\n\r\n   The above copyright notice and this permission notice shall be\r\n   included in all copies or substantial portions of the Software.\r\n\r\n   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n   EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n   MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\r\n   IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\r\n   CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\r\n   TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n   SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\n   */function seedRandom(pool,math){//\n// The following constants are related to IEEE 754 limits.\n//\nvar global=this,width=256,// each RC4 output is 0 <= x < 256\nchunks=6,// at least six RC4 outputs for each double\ndigits=52,// there are 52 significant digits in a double\nrngname='random',// rngname: name for Math.random and Math.seedrandom\nstartdenom=math.pow(width,chunks),significance=math.pow(2,digits),overflow=significance*2,mask=width-1,nodecrypto;// node.js crypto module, initialized at the bottom.\n//\n// seedrandom()\n// This is the seedrandom function described above.\n//\nfunction seedrandom(seed,options,callback){var key=[];options=options===true?{entropy:true}:options||{};// Flatten the seed string or build one from local entropy if needed.\nvar shortseed=mixkey(flatten(options.entropy?[seed,tostring(pool)]:seed===null?autoseed():seed,3),key);// Use the seed to initialize an ARC4 generator.\nvar arc4=new ARC4(key);// This function returns a random double in [0, 1) that contains\n// randomness in every bit of the mantissa of the IEEE 754 value.\nvar prng=function prng(){var n=arc4.g(chunks),// Start with a numerator n < 2 ^ 48\nd=startdenom,//   and denominator d = 2 ^ 48.\nx=0;//   and no 'extra last byte'.\nwhile(n<significance){// Fill up all significant digits by\nn=(n+x)*width;//   shifting numerator and\nd*=width;//   denominator and generating a\nx=arc4.g(1);//   new least-significant-byte.\n}while(n>=overflow){// To avoid rounding up, before adding\nn/=2;//   last byte, shift everything\nd/=2;//   right using integer math until\nx>>>=1;//   we have exactly the desired bits.\n}return(n+x)/d;// Form the number within [0, 1).\n};prng.int32=function(){return arc4.g(4)|0;};prng.quick=function(){return arc4.g(4)/0x100000000;};prng[\"double\"]=prng;// Mix the randomness into accumulated entropy.\nmixkey(tostring(arc4.S),pool);// Calling convention: what to return as a function of prng, seed, is_math.\nreturn(options.pass||callback||function(prng,seed,is_math_call,state){if(state){// Load the arc4 state from the given state if it has an S array.\nif(state.S){copy(state,arc4);}// Only provide the .state method if requested via options.state.\nprng.state=function(){return copy(arc4,{});};}// If called as a method of Math (Math.seedrandom()), mutate\n// Math.random because that is how seedrandom.js has worked since v1.0.\nif(is_math_call){math[rngname]=prng;return seed;}// Otherwise, it is a newer calling convention, so return the\n// prng directly.\nelse return prng;})(prng,shortseed,'global'in options?options.global:this==math,options.state);}math['seed'+rngname]=seedrandom;//\n// ARC4\n//\n// An ARC4 implementation.  The constructor takes a key in the form of\n// an array of at most (width) integers that should be 0 <= x < (width).\n//\n// The g(count) method returns a pseudorandom integer that concatenates\n// the next (count) outputs from ARC4.  Its return value is a number x\n// that is in the range 0 <= x < (width ^ count).\n//\nfunction ARC4(key){var t,keylen=key.length,me=this,i=0,j=me.i=me.j=0,s=me.S=[];// The empty key [] is treated as [0].\nif(!keylen){key=[keylen++];}// Set up S using the standard key scheduling algorithm.\nwhile(i<width){s[i]=i++;}for(i=0;i<width;i++){s[i]=s[j=mask&j+key[i%keylen]+(t=s[i])];s[j]=t;}// The \"g\" method returns the next (count) outputs as one number.\nme.g=function(count){// Using instance members instead of closure state nearly doubles speed.\nvar t,r=0,i=me.i,j=me.j,s=me.S;while(count--){t=s[i=mask&i+1];r=r*width+s[mask&(s[i]=s[j=mask&j+t])+(s[j]=t)];}me.i=i;me.j=j;return r;// For robust unpredictability, the function call below automatically\n// discards an initial batch of values.  This is called RC4-drop[256].\n// See http://google.com/search?q=rsa+fluhrer+response&btnI\n};}//\n// copy()\n// Copies internal state of ARC4 to or from a plain object.\n//\nfunction copy(f,t){t.i=f.i;t.j=f.j;t.S=f.S.slice();return t;}//\n// flatten()\n// Converts an object tree to nested arrays of strings.\n//\nfunction flatten(obj,depth){var result=[],typ=_typeof$2(obj),prop;if(depth&&typ=='object'){for(prop in obj){try{result.push(flatten(obj[prop],depth-1));}catch(e){}}}return result.length?result:typ=='string'?obj:obj+'\\0';}//\n// mixkey()\n// Mixes a string seed into a key that is an array of integers, and\n// returns a shortened string seed that is equivalent to the result key.\n//\nfunction mixkey(seed,key){var stringseed=seed+'',smear,j=0;while(j<stringseed.length){key[mask&j]=mask&(smear^=key[mask&j]*19)+stringseed.charCodeAt(j++);}return tostring(key);}//\n// autoseed()\n// Returns an object for autoseeding, using window.crypto and Node crypto\n// module if available.\n//\nfunction autoseed(){try{if(nodecrypto){return tostring(nodecrypto.randomBytes(width));}var out=new Uint8Array(width);(global.crypto||global.msCrypto).getRandomValues(out);return tostring(out);}catch(e){var browser=global.navigator,plugins=browser&&browser.plugins;return[+new Date(),global,plugins,global.screen,tostring(pool)];}}//\n// tostring()\n// Converts an array of charcodes to a string\n//\nfunction tostring(a){return String.fromCharCode.apply(0,a);}//\n// When seedrandom.js is loaded, we immediately mix a few bits\n// from the built-in RNG into the entropy pool.  Because we do\n// not want to interfere with deterministic PRNG state later,\n// seedrandom will not call math.random on its own again after\n// initialization.\n//\nmixkey(math.random(),pool);//\n// Nodejs and AMD support: export the implementation as a module using\n// either convention.\n//\n// End anonymous scope, and pass initial values.\n};function initialize$2(BMMath){seedRandom([],BMMath);}var propTypes={SHAPE:'shape'};function _typeof$1(obj){\"@babel/helpers - typeof\";if(typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"){_typeof$1=function _typeof(obj){return typeof obj;};}else{_typeof$1=function _typeof(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;};}return _typeof$1(obj);}var ExpressionManager=function(){'use strict';var ob={};var Math=BMMath;var window=null;var document=null;var XMLHttpRequest=null;var fetch=null;var frames=null;var _lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={};}function $bm_isInstanceOfArray(arr){return arr.constructor===Array||arr.constructor===Float32Array;}function isNumerable(tOfV,v){return tOfV==='number'||v instanceof Number||tOfV==='boolean'||tOfV==='string';}function $bm_neg(a){var tOfA=_typeof$1(a);if(tOfA==='number'||a instanceof Number||tOfA==='boolean'){return-a;}if($bm_isInstanceOfArray(a)){var i;var lenA=a.length;var retArr=[];for(i=0;i<lenA;i+=1){retArr[i]=-a[i];}return retArr;}if(a.propType){return a.v;}return-a;}var easeInBez=BezierFactory.getBezierEasing(0.333,0,0.833,0.833,'easeIn').get;var easeOutBez=BezierFactory.getBezierEasing(0.167,0.167,0.667,1,'easeOut').get;var easeInOutBez=BezierFactory.getBezierEasing(0.33,0,0.667,1,'easeInOut').get;function sum(a,b){var tOfA=_typeof$1(a);var tOfB=_typeof$1(b);if(isNumerable(tOfA,a)&&isNumerable(tOfB,b)||tOfA==='string'||tOfB==='string'){return a+b;}if($bm_isInstanceOfArray(a)&&isNumerable(tOfB,b)){a=a.slice(0);a[0]+=b;return a;}if(isNumerable(tOfA,a)&&$bm_isInstanceOfArray(b)){b=b.slice(0);b[0]=a+b[0];return b;}if($bm_isInstanceOfArray(a)&&$bm_isInstanceOfArray(b)){var i=0;var lenA=a.length;var lenB=b.length;var retArr=[];while(i<lenA||i<lenB){if((typeof a[i]==='number'||a[i]instanceof Number)&&(typeof b[i]==='number'||b[i]instanceof Number)){retArr[i]=a[i]+b[i];}else{retArr[i]=b[i]===undefined?a[i]:a[i]||b[i];}i+=1;}return retArr;}return 0;}var add=sum;function sub(a,b){var tOfA=_typeof$1(a);var tOfB=_typeof$1(b);if(isNumerable(tOfA,a)&&isNumerable(tOfB,b)){if(tOfA==='string'){a=parseInt(a,10);}if(tOfB==='string'){b=parseInt(b,10);}return a-b;}if($bm_isInstanceOfArray(a)&&isNumerable(tOfB,b)){a=a.slice(0);a[0]-=b;return a;}if(isNumerable(tOfA,a)&&$bm_isInstanceOfArray(b)){b=b.slice(0);b[0]=a-b[0];return b;}if($bm_isInstanceOfArray(a)&&$bm_isInstanceOfArray(b)){var i=0;var lenA=a.length;var lenB=b.length;var retArr=[];while(i<lenA||i<lenB){if((typeof a[i]==='number'||a[i]instanceof Number)&&(typeof b[i]==='number'||b[i]instanceof Number)){retArr[i]=a[i]-b[i];}else{retArr[i]=b[i]===undefined?a[i]:a[i]||b[i];}i+=1;}return retArr;}return 0;}function mul(a,b){var tOfA=_typeof$1(a);var tOfB=_typeof$1(b);var arr;if(isNumerable(tOfA,a)&&isNumerable(tOfB,b)){return a*b;}var i;var len;if($bm_isInstanceOfArray(a)&&isNumerable(tOfB,b)){len=a.length;arr=createTypedArray('float32',len);for(i=0;i<len;i+=1){arr[i]=a[i]*b;}return arr;}if(isNumerable(tOfA,a)&&$bm_isInstanceOfArray(b)){len=b.length;arr=createTypedArray('float32',len);for(i=0;i<len;i+=1){arr[i]=a*b[i];}return arr;}return 0;}function div(a,b){var tOfA=_typeof$1(a);var tOfB=_typeof$1(b);var arr;if(isNumerable(tOfA,a)&&isNumerable(tOfB,b)){return a/b;}var i;var len;if($bm_isInstanceOfArray(a)&&isNumerable(tOfB,b)){len=a.length;arr=createTypedArray('float32',len);for(i=0;i<len;i+=1){arr[i]=a[i]/b;}return arr;}if(isNumerable(tOfA,a)&&$bm_isInstanceOfArray(b)){len=b.length;arr=createTypedArray('float32',len);for(i=0;i<len;i+=1){arr[i]=a/b[i];}return arr;}return 0;}function mod(a,b){if(typeof a==='string'){a=parseInt(a,10);}if(typeof b==='string'){b=parseInt(b,10);}return a%b;}var $bm_sum=sum;var $bm_sub=sub;var $bm_mul=mul;var $bm_div=div;var $bm_mod=mod;function clamp(num,min,max){if(min>max){var mm=max;max=min;min=mm;}return Math.min(Math.max(num,min),max);}function radiansToDegrees(val){return val/degToRads;}var radians_to_degrees=radiansToDegrees;function degreesToRadians(val){return val*degToRads;}var degrees_to_radians=radiansToDegrees;var helperLengthArray=[0,0,0,0,0,0];function length(arr1,arr2){if(typeof arr1==='number'||arr1 instanceof Number){arr2=arr2||0;return Math.abs(arr1-arr2);}if(!arr2){arr2=helperLengthArray;}var i;var len=Math.min(arr1.length,arr2.length);var addedLength=0;for(i=0;i<len;i+=1){addedLength+=Math.pow(arr2[i]-arr1[i],2);}return Math.sqrt(addedLength);}function normalize(vec){return div(vec,length(vec));}function rgbToHsl(val){var r=val[0];var g=val[1];var b=val[2];var max=Math.max(r,g,b);var min=Math.min(r,g,b);var h;var s;var l=(max+min)/2;if(max===min){h=0;// achromatic\ns=0;// achromatic\n}else{var d=max-min;s=l>0.5?d/(2-max-min):d/(max+min);switch(max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4;break;default:break;}h/=6;}return[h,s,l,val[3]];}function hue2rgb(p,q,t){if(t<0)t+=1;if(t>1)t-=1;if(t<1/6)return p+(q-p)*6*t;if(t<1/2)return q;if(t<2/3)return p+(q-p)*(2/3-t)*6;return p;}function hslToRgb(val){var h=val[0];var s=val[1];var l=val[2];var r;var g;var b;if(s===0){r=l;// achromatic\nb=l;// achromatic\ng=l;// achromatic\n}else{var q=l<0.5?l*(1+s):l+s-l*s;var p=2*l-q;r=hue2rgb(p,q,h+1/3);g=hue2rgb(p,q,h);b=hue2rgb(p,q,h-1/3);}return[r,g,b,val[3]];}function linear(t,tMin,tMax,value1,value2){if(value1===undefined||value2===undefined){value1=tMin;value2=tMax;tMin=0;tMax=1;}if(tMax<tMin){var _tMin=tMax;tMax=tMin;tMin=_tMin;}if(t<=tMin){return value1;}if(t>=tMax){return value2;}var perc=tMax===tMin?0:(t-tMin)/(tMax-tMin);if(!value1.length){return value1+(value2-value1)*perc;}var i;var len=value1.length;var arr=createTypedArray('float32',len);for(i=0;i<len;i+=1){arr[i]=value1[i]+(value2[i]-value1[i])*perc;}return arr;}function random(min,max){if(max===undefined){if(min===undefined){min=0;max=1;}else{max=min;min=undefined;}}if(max.length){var i;var len=max.length;if(!min){min=createTypedArray('float32',len);}var arr=createTypedArray('float32',len);var rnd=BMMath.random();for(i=0;i<len;i+=1){arr[i]=min[i]+rnd*(max[i]-min[i]);}return arr;}if(min===undefined){min=0;}var rndm=BMMath.random();return min+rndm*(max-min);}function createPath(points,inTangents,outTangents,closed){var i;var len=points.length;var path=shapePool.newElement();path.setPathData(!!closed,len);var arrPlaceholder=[0,0];var inVertexPoint;var outVertexPoint;for(i=0;i<len;i+=1){inVertexPoint=inTangents&&inTangents[i]?inTangents[i]:arrPlaceholder;outVertexPoint=outTangents&&outTangents[i]?outTangents[i]:arrPlaceholder;path.setTripleAt(points[i][0],points[i][1],outVertexPoint[0]+points[i][0],outVertexPoint[1]+points[i][1],inVertexPoint[0]+points[i][0],inVertexPoint[1]+points[i][1],i,true);}return path;}function initiateExpression(elem,data,property){// Bail out if we don't want expressions\nfunction noOp(_value){return _value;}if(!elem.globalData.renderConfig.runExpressions){return noOp;}var val=data.x;var needsVelocity=/velocity(?![\\w\\d])/.test(val);var _needsRandom=val.indexOf('random')!==-1;var elemType=elem.data.ty;var transform;var $bm_transform;var content;var effect;var thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime;Object.defineProperty(thisProperty,'value',{get:function get(){return thisProperty.v;}});elem.comp.frameDuration=1/elem.comp.globalData.frameRate;elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate;var outPoint=elem.data.op/elem.comp.globalData.frameRate;var width=elem.data.sw?elem.data.sw:0;var height=elem.data.sh?elem.data.sh:0;var name=elem.data.nm;var loopIn;var loop_in;var loopOut;var loop_out;var smooth;var toWorld;var fromWorld;var fromComp;var toComp;var fromCompToSurface;var position;var rotation;var anchorPoint;var scale;var thisLayer;var thisComp;var mask;var valueAtTime;var velocityAtTime;var scoped_bm_rt;// val = val.replace(/(\\\\?\"|')((http)(s)?(:\\/))?\\/.*?(\\\\?\"|')/g, \"\\\"\\\"\"); // deter potential network calls\nvar expression_function=eval('[function _expression_function(){'+val+';scoped_bm_rt=$bm_rt}]')[0];// eslint-disable-line no-eval\nvar numKeys=property.kf?data.k.length:0;var active=!this.data||this.data.hd!==true;var wiggle=function wiggle(freq,amp){var iWiggle;var j;var lenWiggle=this.pv.length?this.pv.length:1;var addedAmps=createTypedArray('float32',lenWiggle);freq=5;var iterations=Math.floor(time*freq);iWiggle=0;j=0;while(iWiggle<iterations){// var rnd = BMMath.random();\nfor(j=0;j<lenWiggle;j+=1){addedAmps[j]+=-amp+amp*2*BMMath.random();// addedAmps[j] += -amp + amp*2*rnd;\n}iWiggle+=1;}// var rnd2 = BMMath.random();\nvar periods=time*freq;var perc=periods-Math.floor(periods);var arr=createTypedArray('float32',lenWiggle);if(lenWiggle>1){for(j=0;j<lenWiggle;j+=1){arr[j]=this.pv[j]+addedAmps[j]+(-amp+amp*2*BMMath.random())*perc;// arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp*2*rnd)*perc;\n// arr[i] = this.pv[i] + addedAmp + amp1*perc + amp2*(1-perc);\n}return arr;}return this.pv+addedAmps[0]+(-amp+amp*2*BMMath.random())*perc;}.bind(this);if(thisProperty.loopIn){loopIn=thisProperty.loopIn.bind(thisProperty);loop_in=loopIn;}if(thisProperty.loopOut){loopOut=thisProperty.loopOut.bind(thisProperty);loop_out=loopOut;}if(thisProperty.smooth){smooth=thisProperty.smooth.bind(thisProperty);}function loopInDuration(type,duration){return loopIn(type,duration,true);}function loopOutDuration(type,duration){return loopOut(type,duration,true);}if(this.getValueAtTime){valueAtTime=this.getValueAtTime.bind(this);}if(this.getVelocityAtTime){velocityAtTime=this.getVelocityAtTime.bind(this);}var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(elem1,elem2){var fVec=[elem2[0]-elem1[0],elem2[1]-elem1[1],elem2[2]-elem1[2]];var pitch=Math.atan2(fVec[0],Math.sqrt(fVec[1]*fVec[1]+fVec[2]*fVec[2]))/degToRads;var yaw=-Math.atan2(fVec[1],fVec[2])/degToRads;return[yaw,pitch,0];}function easeOut(t,tMin,tMax,val1,val2){return applyEase(easeOutBez,t,tMin,tMax,val1,val2);}function easeIn(t,tMin,tMax,val1,val2){return applyEase(easeInBez,t,tMin,tMax,val1,val2);}function ease(t,tMin,tMax,val1,val2){return applyEase(easeInOutBez,t,tMin,tMax,val1,val2);}function applyEase(fn,t,tMin,tMax,val1,val2){if(val1===undefined){val1=tMin;val2=tMax;}else{t=(t-tMin)/(tMax-tMin);}if(t>1){t=1;}else if(t<0){t=0;}var mult=fn(t);if($bm_isInstanceOfArray(val1)){var iKey;var lenKey=val1.length;var arr=createTypedArray('float32',lenKey);for(iKey=0;iKey<lenKey;iKey+=1){arr[iKey]=(val2[iKey]-val1[iKey])*mult+val1[iKey];}return arr;}return(val2-val1)*mult+val1;}function nearestKey(time){var iKey;var lenKey=data.k.length;var index;var keyTime;if(!data.k.length||typeof data.k[0]==='number'){index=0;keyTime=0;}else{index=-1;time*=elem.comp.globalData.frameRate;if(time<data.k[0].t){index=1;keyTime=data.k[0].t;}else{for(iKey=0;iKey<lenKey-1;iKey+=1){if(time===data.k[iKey].t){index=iKey+1;keyTime=data.k[iKey].t;break;}else if(time>data.k[iKey].t&&time<data.k[iKey+1].t){if(time-data.k[iKey].t>data.k[iKey+1].t-time){index=iKey+2;keyTime=data.k[iKey+1].t;}else{index=iKey+1;keyTime=data.k[iKey].t;}break;}}if(index===-1){index=iKey+1;keyTime=data.k[iKey].t;}}}var obKey={};obKey.index=index;obKey.time=keyTime/elem.comp.globalData.frameRate;return obKey;}function key(ind){var obKey;var iKey;var lenKey;if(!data.k.length||typeof data.k[0]==='number'){throw new Error('The property has no keyframe at index '+ind);}ind-=1;obKey={time:data.k[ind].t/elem.comp.globalData.frameRate,value:[]};var arr=Object.prototype.hasOwnProperty.call(data.k[ind],'s')?data.k[ind].s:data.k[ind-1].e;lenKey=arr.length;for(iKey=0;iKey<lenKey;iKey+=1){obKey[iKey]=arr[iKey];obKey.value[iKey]=arr[iKey];}return obKey;}function framesToTime(fr,fps){if(!fps){fps=elem.comp.globalData.frameRate;}return fr/fps;}function timeToFrames(t,fps){if(!t&&t!==0){t=time;}if(!fps){fps=elem.comp.globalData.frameRate;}return t*fps;}function seedRandom(seed){BMMath.seedrandom(randSeed+seed);}function sourceRectAtTime(){return elem.sourceRectAtTime();}function substring(init,end){if(typeof value==='string'){if(end===undefined){return value.substring(init);}return value.substring(init,end);}return'';}function substr(init,end){if(typeof value==='string'){if(end===undefined){return value.substr(init);}return value.substr(init,end);}return'';}function posterizeTime(framesPerSecond){time=framesPerSecond===0?0:Math.floor(time*framesPerSecond)/framesPerSecond;value=valueAtTime(time);}var time;var velocity;var value;var text;var textIndex;var textTotal;var selectorValue;var index=elem.data.ind;var hasParent=!!(elem.hierarchy&&elem.hierarchy.length);var parent;var randSeed=Math.floor(Math.random()*1000000);var globalData=elem.globalData;function executeExpression(_value){// globalData.pushExpression();\nvalue=_value;if(this.frameExpressionId===elem.globalData.frameId&&this.propType!=='textSelector'){return value;}if(this.propType==='textSelector'){textIndex=this.textIndex;textTotal=this.textTotal;selectorValue=this.selectorValue;}if(!thisLayer){text=elem.layerInterface.text;thisLayer=elem.layerInterface;thisComp=elem.comp.compInterface;toWorld=thisLayer.toWorld.bind(thisLayer);fromWorld=thisLayer.fromWorld.bind(thisLayer);fromComp=thisLayer.fromComp.bind(thisLayer);toComp=thisLayer.toComp.bind(thisLayer);mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null;fromCompToSurface=fromComp;}if(!transform){transform=elem.layerInterface('ADBE Transform Group');$bm_transform=transform;if(transform){anchorPoint=transform.anchorPoint;/* position = transform.position;\r\n                      rotation = transform.rotation;\r\n                      scale = transform.scale; */}}if(elemType===4&&!content){content=thisLayer('ADBE Root Vectors Group');}if(!effect){effect=thisLayer(4);}hasParent=!!(elem.hierarchy&&elem.hierarchy.length);if(hasParent&&!parent){parent=elem.hierarchy[0].layerInterface;}time=this.comp.renderedFrame/this.comp.globalData.frameRate;if(_needsRandom){seedRandom(randSeed+time);}if(needsVelocity){velocity=velocityAtTime(time);}expression_function();this.frameExpressionId=elem.globalData.frameId;// TODO: Check if it's possible to return on ShapeInterface the .v value\n// Changed this to a ternary operation because Rollup failed compiling it correctly\nscoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt;return scoped_bm_rt;}// Bundlers will see these as dead code and unless we reference them\nexecuteExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData];return executeExpression;}ob.initiateExpression=initiateExpression;ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal];ob.resetFrame=resetFrame;return ob;}();var Expressions=function(){var ob={};ob.initExpressions=initExpressions;ob.resetFrame=ExpressionManager.resetFrame;function initExpressions(animation){var stackCount=0;var registers=[];function pushExpression(){stackCount+=1;}function popExpression(){stackCount-=1;if(stackCount===0){releaseInstances();}}function registerExpressionProperty(expression){if(registers.indexOf(expression)===-1){registers.push(expression);}}function releaseInstances(){var i;var len=registers.length;for(i=0;i<len;i+=1){registers[i].release();}registers.length=0;}animation.renderer.compInterface=CompExpressionInterface(animation.renderer);animation.renderer.globalData.projectInterface.registerComposition(animation.renderer);animation.renderer.globalData.pushExpression=pushExpression;animation.renderer.globalData.popExpression=popExpression;animation.renderer.globalData.registerExpressionProperty=registerExpressionProperty;}return ob;}();var MaskManagerInterface=function(){function MaskInterface(mask,data){this._mask=mask;this._data=data;}Object.defineProperty(MaskInterface.prototype,'maskPath',{get:function get(){if(this._mask.prop.k){this._mask.prop.getValue();}return this._mask.prop;}});Object.defineProperty(MaskInterface.prototype,'maskOpacity',{get:function get(){if(this._mask.op.k){this._mask.op.getValue();}return this._mask.op.v*100;}});var MaskManager=function MaskManager(maskManager){var _masksInterfaces=createSizedArray(maskManager.viewData.length);var i;var len=maskManager.viewData.length;for(i=0;i<len;i+=1){_masksInterfaces[i]=new MaskInterface(maskManager.viewData[i],maskManager.masksProperties[i]);}var maskFunction=function maskFunction(name){i=0;while(i<len){if(maskManager.masksProperties[i].nm===name){return _masksInterfaces[i];}i+=1;}return null;};return maskFunction;};return MaskManager;}();var ExpressionPropertyInterface=function(){var defaultUnidimensionalValue={pv:0,v:0,mult:1};var defaultMultidimensionalValue={pv:[0,0,0],v:[0,0,0],mult:1};function completeProperty(expressionValue,property,type){Object.defineProperty(expressionValue,'velocity',{get:function get(){return property.getVelocityAtTime(property.comp.currentFrame);}});expressionValue.numKeys=property.keyframes?property.keyframes.length:0;expressionValue.key=function(pos){if(!expressionValue.numKeys){return 0;}var value='';if('s'in property.keyframes[pos-1]){value=property.keyframes[pos-1].s;}else if('e'in property.keyframes[pos-2]){value=property.keyframes[pos-2].e;}else{value=property.keyframes[pos-2].s;}var valueProp=type==='unidimensional'?new Number(value):Object.assign({},value);// eslint-disable-line no-new-wrappers\nvalueProp.time=property.keyframes[pos-1].t/property.elem.comp.globalData.frameRate;valueProp.value=type==='unidimensional'?value[0]:value;return valueProp;};expressionValue.valueAtTime=property.getValueAtTime;expressionValue.speedAtTime=property.getSpeedAtTime;expressionValue.velocityAtTime=property.getVelocityAtTime;expressionValue.propertyGroup=property.propertyGroup;}function UnidimensionalPropertyInterface(property){if(!property||!('pv'in property)){property=defaultUnidimensionalValue;}var mult=1/property.mult;var val=property.pv*mult;var expressionValue=new Number(val);// eslint-disable-line no-new-wrappers\nexpressionValue.value=val;completeProperty(expressionValue,property,'unidimensional');return function(){if(property.k){property.getValue();}val=property.v*mult;if(expressionValue.value!==val){expressionValue=new Number(val);// eslint-disable-line no-new-wrappers\nexpressionValue.value=val;completeProperty(expressionValue,property,'unidimensional');}return expressionValue;};}function MultidimensionalPropertyInterface(property){if(!property||!('pv'in property)){property=defaultMultidimensionalValue;}var mult=1/property.mult;var len=property.data&&property.data.l||property.pv.length;var expressionValue=createTypedArray('float32',len);var arrValue=createTypedArray('float32',len);expressionValue.value=arrValue;completeProperty(expressionValue,property,'multidimensional');return function(){if(property.k){property.getValue();}for(var i=0;i<len;i+=1){arrValue[i]=property.v[i]*mult;expressionValue[i]=arrValue[i];}return expressionValue;};}// TODO: try to avoid using this getter\nfunction defaultGetter(){return defaultUnidimensionalValue;}return function(property){if(!property){return defaultGetter;}if(property.propType==='unidimensional'){return UnidimensionalPropertyInterface(property);}return MultidimensionalPropertyInterface(property);};}();var TransformExpressionInterface=function(){return function(transform){function _thisFunction(name){switch(name){case'scale':case'Scale':case'ADBE Scale':case 6:return _thisFunction.scale;case'rotation':case'Rotation':case'ADBE Rotation':case'ADBE Rotate Z':case 10:return _thisFunction.rotation;case'ADBE Rotate X':return _thisFunction.xRotation;case'ADBE Rotate Y':return _thisFunction.yRotation;case'position':case'Position':case'ADBE Position':case 2:return _thisFunction.position;case'ADBE Position_0':return _thisFunction.xPosition;case'ADBE Position_1':return _thisFunction.yPosition;case'ADBE Position_2':return _thisFunction.zPosition;case'anchorPoint':case'AnchorPoint':case'Anchor Point':case'ADBE AnchorPoint':case 1:return _thisFunction.anchorPoint;case'opacity':case'Opacity':case 11:return _thisFunction.opacity;default:return null;}}Object.defineProperty(_thisFunction,'rotation',{get:ExpressionPropertyInterface(transform.r||transform.rz)});Object.defineProperty(_thisFunction,'zRotation',{get:ExpressionPropertyInterface(transform.rz||transform.r)});Object.defineProperty(_thisFunction,'xRotation',{get:ExpressionPropertyInterface(transform.rx)});Object.defineProperty(_thisFunction,'yRotation',{get:ExpressionPropertyInterface(transform.ry)});Object.defineProperty(_thisFunction,'scale',{get:ExpressionPropertyInterface(transform.s)});var _px;var _py;var _pz;var _transformFactory;if(transform.p){_transformFactory=ExpressionPropertyInterface(transform.p);}else{_px=ExpressionPropertyInterface(transform.px);_py=ExpressionPropertyInterface(transform.py);if(transform.pz){_pz=ExpressionPropertyInterface(transform.pz);}}Object.defineProperty(_thisFunction,'position',{get:function get(){if(transform.p){return _transformFactory();}return[_px(),_py(),_pz?_pz():0];}});Object.defineProperty(_thisFunction,'xPosition',{get:ExpressionPropertyInterface(transform.px)});Object.defineProperty(_thisFunction,'yPosition',{get:ExpressionPropertyInterface(transform.py)});Object.defineProperty(_thisFunction,'zPosition',{get:ExpressionPropertyInterface(transform.pz)});Object.defineProperty(_thisFunction,'anchorPoint',{get:ExpressionPropertyInterface(transform.a)});Object.defineProperty(_thisFunction,'opacity',{get:ExpressionPropertyInterface(transform.o)});Object.defineProperty(_thisFunction,'skew',{get:ExpressionPropertyInterface(transform.sk)});Object.defineProperty(_thisFunction,'skewAxis',{get:ExpressionPropertyInterface(transform.sa)});Object.defineProperty(_thisFunction,'orientation',{get:ExpressionPropertyInterface(transform.or)});return _thisFunction;};}();var LayerExpressionInterface=function(){function getMatrix(time){var toWorldMat=new Matrix();if(time!==undefined){var propMatrix=this._elem.finalTransform.mProp.getValueAtTime(time);propMatrix.clone(toWorldMat);}else{var transformMat=this._elem.finalTransform.mProp;transformMat.applyToMatrix(toWorldMat);}return toWorldMat;}function toWorldVec(arr,time){var toWorldMat=this.getMatrix(time);toWorldMat.props[12]=0;toWorldMat.props[13]=0;toWorldMat.props[14]=0;return this.applyPoint(toWorldMat,arr);}function toWorld(arr,time){var toWorldMat=this.getMatrix(time);return this.applyPoint(toWorldMat,arr);}function fromWorldVec(arr,time){var toWorldMat=this.getMatrix(time);toWorldMat.props[12]=0;toWorldMat.props[13]=0;toWorldMat.props[14]=0;return this.invertPoint(toWorldMat,arr);}function fromWorld(arr,time){var toWorldMat=this.getMatrix(time);return this.invertPoint(toWorldMat,arr);}function applyPoint(matrix,arr){if(this._elem.hierarchy&&this._elem.hierarchy.length){var i;var len=this._elem.hierarchy.length;for(i=0;i<len;i+=1){this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);}}return matrix.applyToPointArray(arr[0],arr[1],arr[2]||0);}function invertPoint(matrix,arr){if(this._elem.hierarchy&&this._elem.hierarchy.length){var i;var len=this._elem.hierarchy.length;for(i=0;i<len;i+=1){this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);}}return matrix.inversePoint(arr);}function fromComp(arr){var toWorldMat=new Matrix();toWorldMat.reset();this._elem.finalTransform.mProp.applyToMatrix(toWorldMat);if(this._elem.hierarchy&&this._elem.hierarchy.length){var i;var len=this._elem.hierarchy.length;for(i=0;i<len;i+=1){this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);}return toWorldMat.inversePoint(arr);}return toWorldMat.inversePoint(arr);}function sampleImage(){return[1,1,1,1];}return function(elem){var transformInterface;function _registerMaskInterface(maskManager){_thisLayerFunction.mask=new MaskManagerInterface(maskManager,elem);}function _registerEffectsInterface(effects){_thisLayerFunction.effect=effects;}function _thisLayerFunction(name){switch(name){case'ADBE Root Vectors Group':case'Contents':case 2:return _thisLayerFunction.shapeInterface;case 1:case 6:case'Transform':case'transform':case'ADBE Transform Group':return transformInterface;case 4:case'ADBE Effect Parade':case'effects':case'Effects':return _thisLayerFunction.effect;case'ADBE Text Properties':return _thisLayerFunction.textInterface;default:return null;}}_thisLayerFunction.getMatrix=getMatrix;_thisLayerFunction.invertPoint=invertPoint;_thisLayerFunction.applyPoint=applyPoint;_thisLayerFunction.toWorld=toWorld;_thisLayerFunction.toWorldVec=toWorldVec;_thisLayerFunction.fromWorld=fromWorld;_thisLayerFunction.fromWorldVec=fromWorldVec;_thisLayerFunction.toComp=toWorld;_thisLayerFunction.fromComp=fromComp;_thisLayerFunction.sampleImage=sampleImage;_thisLayerFunction.sourceRectAtTime=elem.sourceRectAtTime.bind(elem);_thisLayerFunction._elem=elem;transformInterface=TransformExpressionInterface(elem.finalTransform.mProp);var anchorPointDescriptor=getDescriptor(transformInterface,'anchorPoint');Object.defineProperties(_thisLayerFunction,{hasParent:{get:function get(){return elem.hierarchy.length;}},parent:{get:function get(){return elem.hierarchy[0].layerInterface;}},rotation:getDescriptor(transformInterface,'rotation'),scale:getDescriptor(transformInterface,'scale'),position:getDescriptor(transformInterface,'position'),opacity:getDescriptor(transformInterface,'opacity'),anchorPoint:anchorPointDescriptor,anchor_point:anchorPointDescriptor,transform:{get:function get(){return transformInterface;}},active:{get:function get(){return elem.isInRange;}}});_thisLayerFunction.startTime=elem.data.st;_thisLayerFunction.index=elem.data.ind;_thisLayerFunction.source=elem.data.refId;_thisLayerFunction.height=elem.data.ty===0?elem.data.h:100;_thisLayerFunction.width=elem.data.ty===0?elem.data.w:100;_thisLayerFunction.inPoint=elem.data.ip/elem.comp.globalData.frameRate;_thisLayerFunction.outPoint=elem.data.op/elem.comp.globalData.frameRate;_thisLayerFunction._name=elem.data.nm;_thisLayerFunction.registerMaskInterface=_registerMaskInterface;_thisLayerFunction.registerEffectsInterface=_registerEffectsInterface;return _thisLayerFunction;};}();var propertyGroupFactory=function(){return function(interfaceFunction,parentPropertyGroup){return function(val){val=val===undefined?1:val;if(val<=0){return interfaceFunction;}return parentPropertyGroup(val-1);};};}();var PropertyInterface=function(){return function(propertyName,propertyGroup){var interfaceFunction={_name:propertyName};function _propertyGroup(val){val=val===undefined?1:val;if(val<=0){return interfaceFunction;}return propertyGroup(val-1);}return _propertyGroup;};}();var EffectsExpressionInterface=function(){var ob={createEffectsInterface:createEffectsInterface};function createEffectsInterface(elem,propertyGroup){if(elem.effectsManager){var effectElements=[];var effectsData=elem.data.ef;var i;var len=elem.effectsManager.effectElements.length;for(i=0;i<len;i+=1){effectElements.push(createGroupInterface(effectsData[i],elem.effectsManager.effectElements[i],propertyGroup,elem));}var effects=elem.data.ef||[];var groupInterface=function groupInterface(name){i=0;len=effects.length;while(i<len){if(name===effects[i].nm||name===effects[i].mn||name===effects[i].ix){return effectElements[i];}i+=1;}return null;};Object.defineProperty(groupInterface,'numProperties',{get:function get(){return effects.length;}});return groupInterface;}return null;}function createGroupInterface(data,elements,propertyGroup,elem){function groupInterface(name){var effects=data.ef;var i=0;var len=effects.length;while(i<len){if(name===effects[i].nm||name===effects[i].mn||name===effects[i].ix){if(effects[i].ty===5){return effectElements[i];}return effectElements[i]();}i+=1;}throw new Error();}var _propertyGroup=propertyGroupFactory(groupInterface,propertyGroup);var effectElements=[];var i;var len=data.ef.length;for(i=0;i<len;i+=1){if(data.ef[i].ty===5){effectElements.push(createGroupInterface(data.ef[i],elements.effectElements[i],elements.effectElements[i].propertyGroup,elem));}else{effectElements.push(createValueInterface(elements.effectElements[i],data.ef[i].ty,elem,_propertyGroup));}}if(data.mn==='ADBE Color Control'){Object.defineProperty(groupInterface,'color',{get:function get(){return effectElements[0]();}});}Object.defineProperties(groupInterface,{numProperties:{get:function get(){return data.np;}},_name:{value:data.nm},propertyGroup:{value:_propertyGroup}});groupInterface.enabled=data.en!==0;groupInterface.active=groupInterface.enabled;return groupInterface;}function createValueInterface(element,type,elem,propertyGroup){var expressionProperty=ExpressionPropertyInterface(element.p);function interfaceFunction(){if(type===10){return elem.comp.compInterface(element.p.v);}return expressionProperty();}if(element.p.setGroupProperty){element.p.setGroupProperty(PropertyInterface('',propertyGroup));}return interfaceFunction;}return ob;}();var ShapePathInterface=function(){return function pathInterfaceFactory(shape,view,propertyGroup){var prop=view.sh;function interfaceFunction(val){if(val==='Shape'||val==='shape'||val==='Path'||val==='path'||val==='ADBE Vector Shape'||val===2){return interfaceFunction.path;}return null;}var _propertyGroup=propertyGroupFactory(interfaceFunction,propertyGroup);prop.setGroupProperty(PropertyInterface('Path',_propertyGroup));Object.defineProperties(interfaceFunction,{path:{get:function get(){if(prop.k){prop.getValue();}return prop;}},shape:{get:function get(){if(prop.k){prop.getValue();}return prop;}},_name:{value:shape.nm},ix:{value:shape.ix},propertyIndex:{value:shape.ix},mn:{value:shape.mn},propertyGroup:{value:propertyGroup}});return interfaceFunction;};}();var ShapeExpressionInterface=function(){function iterateElements(shapes,view,propertyGroup){var arr=[];var i;var len=shapes?shapes.length:0;for(i=0;i<len;i+=1){if(shapes[i].ty==='gr'){arr.push(groupInterfaceFactory(shapes[i],view[i],propertyGroup));}else if(shapes[i].ty==='fl'){arr.push(fillInterfaceFactory(shapes[i],view[i],propertyGroup));}else if(shapes[i].ty==='st'){arr.push(strokeInterfaceFactory(shapes[i],view[i],propertyGroup));}else if(shapes[i].ty==='tm'){arr.push(trimInterfaceFactory(shapes[i],view[i],propertyGroup));}else if(shapes[i].ty==='tr'){// arr.push(transformInterfaceFactory(shapes[i],view[i],propertyGroup));\n}else if(shapes[i].ty==='el'){arr.push(ellipseInterfaceFactory(shapes[i],view[i],propertyGroup));}else if(shapes[i].ty==='sr'){arr.push(starInterfaceFactory(shapes[i],view[i],propertyGroup));}else if(shapes[i].ty==='sh'){arr.push(ShapePathInterface(shapes[i],view[i],propertyGroup));}else if(shapes[i].ty==='rc'){arr.push(rectInterfaceFactory(shapes[i],view[i],propertyGroup));}else if(shapes[i].ty==='rd'){arr.push(roundedInterfaceFactory(shapes[i],view[i],propertyGroup));}else if(shapes[i].ty==='rp'){arr.push(repeaterInterfaceFactory(shapes[i],view[i],propertyGroup));}else if(shapes[i].ty==='gf'){arr.push(gradientFillInterfaceFactory(shapes[i],view[i],propertyGroup));}else{arr.push(defaultInterfaceFactory(shapes[i],view[i],propertyGroup));}}return arr;}function contentsInterfaceFactory(shape,view,propertyGroup){var interfaces;var interfaceFunction=function _interfaceFunction(value){var i=0;var len=interfaces.length;while(i<len){if(interfaces[i]._name===value||interfaces[i].mn===value||interfaces[i].propertyIndex===value||interfaces[i].ix===value||interfaces[i].ind===value){return interfaces[i];}i+=1;}if(typeof value==='number'){return interfaces[value-1];}return null;};interfaceFunction.propertyGroup=propertyGroupFactory(interfaceFunction,propertyGroup);interfaces=iterateElements(shape.it,view.it,interfaceFunction.propertyGroup);interfaceFunction.numProperties=interfaces.length;var transformInterface=transformInterfaceFactory(shape.it[shape.it.length-1],view.it[view.it.length-1],interfaceFunction.propertyGroup);interfaceFunction.transform=transformInterface;interfaceFunction.propertyIndex=shape.cix;interfaceFunction._name=shape.nm;return interfaceFunction;}function groupInterfaceFactory(shape,view,propertyGroup){var interfaceFunction=function _interfaceFunction(value){switch(value){case'ADBE Vectors Group':case'Contents':case 2:return interfaceFunction.content;// Not necessary for now. Keeping them here in case a new case appears\n// case 'ADBE Vector Transform Group':\n// case 3:\ndefault:return interfaceFunction.transform;}};interfaceFunction.propertyGroup=propertyGroupFactory(interfaceFunction,propertyGroup);var content=contentsInterfaceFactory(shape,view,interfaceFunction.propertyGroup);var transformInterface=transformInterfaceFactory(shape.it[shape.it.length-1],view.it[view.it.length-1],interfaceFunction.propertyGroup);interfaceFunction.content=content;interfaceFunction.transform=transformInterface;Object.defineProperty(interfaceFunction,'_name',{get:function get(){return shape.nm;}});// interfaceFunction.content = interfaceFunction;\ninterfaceFunction.numProperties=shape.np;interfaceFunction.propertyIndex=shape.ix;interfaceFunction.nm=shape.nm;interfaceFunction.mn=shape.mn;return interfaceFunction;}function fillInterfaceFactory(shape,view,propertyGroup){function interfaceFunction(val){if(val==='Color'||val==='color'){return interfaceFunction.color;}if(val==='Opacity'||val==='opacity'){return interfaceFunction.opacity;}return null;}Object.defineProperties(interfaceFunction,{color:{get:ExpressionPropertyInterface(view.c)},opacity:{get:ExpressionPropertyInterface(view.o)},_name:{value:shape.nm},mn:{value:shape.mn}});view.c.setGroupProperty(PropertyInterface('Color',propertyGroup));view.o.setGroupProperty(PropertyInterface('Opacity',propertyGroup));return interfaceFunction;}function gradientFillInterfaceFactory(shape,view,propertyGroup){function interfaceFunction(val){if(val==='Start Point'||val==='start point'){return interfaceFunction.startPoint;}if(val==='End Point'||val==='end point'){return interfaceFunction.endPoint;}if(val==='Opacity'||val==='opacity'){return interfaceFunction.opacity;}return null;}Object.defineProperties(interfaceFunction,{startPoint:{get:ExpressionPropertyInterface(view.s)},endPoint:{get:ExpressionPropertyInterface(view.e)},opacity:{get:ExpressionPropertyInterface(view.o)},type:{get:function get(){return'a';}},_name:{value:shape.nm},mn:{value:shape.mn}});view.s.setGroupProperty(PropertyInterface('Start Point',propertyGroup));view.e.setGroupProperty(PropertyInterface('End Point',propertyGroup));view.o.setGroupProperty(PropertyInterface('Opacity',propertyGroup));return interfaceFunction;}function defaultInterfaceFactory(){function interfaceFunction(){return null;}return interfaceFunction;}function strokeInterfaceFactory(shape,view,propertyGroup){var _propertyGroup=propertyGroupFactory(interfaceFunction,propertyGroup);var _dashPropertyGroup=propertyGroupFactory(dashOb,_propertyGroup);function addPropertyToDashOb(i){Object.defineProperty(dashOb,shape.d[i].nm,{get:ExpressionPropertyInterface(view.d.dataProps[i].p)});}var i;var len=shape.d?shape.d.length:0;var dashOb={};for(i=0;i<len;i+=1){addPropertyToDashOb(i);view.d.dataProps[i].p.setGroupProperty(_dashPropertyGroup);}function interfaceFunction(val){if(val==='Color'||val==='color'){return interfaceFunction.color;}if(val==='Opacity'||val==='opacity'){return interfaceFunction.opacity;}if(val==='Stroke Width'||val==='stroke width'){return interfaceFunction.strokeWidth;}return null;}Object.defineProperties(interfaceFunction,{color:{get:ExpressionPropertyInterface(view.c)},opacity:{get:ExpressionPropertyInterface(view.o)},strokeWidth:{get:ExpressionPropertyInterface(view.w)},dash:{get:function get(){return dashOb;}},_name:{value:shape.nm},mn:{value:shape.mn}});view.c.setGroupProperty(PropertyInterface('Color',_propertyGroup));view.o.setGroupProperty(PropertyInterface('Opacity',_propertyGroup));view.w.setGroupProperty(PropertyInterface('Stroke Width',_propertyGroup));return interfaceFunction;}function trimInterfaceFactory(shape,view,propertyGroup){function interfaceFunction(val){if(val===shape.e.ix||val==='End'||val==='end'){return interfaceFunction.end;}if(val===shape.s.ix){return interfaceFunction.start;}if(val===shape.o.ix){return interfaceFunction.offset;}return null;}var _propertyGroup=propertyGroupFactory(interfaceFunction,propertyGroup);interfaceFunction.propertyIndex=shape.ix;view.s.setGroupProperty(PropertyInterface('Start',_propertyGroup));view.e.setGroupProperty(PropertyInterface('End',_propertyGroup));view.o.setGroupProperty(PropertyInterface('Offset',_propertyGroup));interfaceFunction.propertyIndex=shape.ix;interfaceFunction.propertyGroup=propertyGroup;Object.defineProperties(interfaceFunction,{start:{get:ExpressionPropertyInterface(view.s)},end:{get:ExpressionPropertyInterface(view.e)},offset:{get:ExpressionPropertyInterface(view.o)},_name:{value:shape.nm}});interfaceFunction.mn=shape.mn;return interfaceFunction;}function transformInterfaceFactory(shape,view,propertyGroup){function interfaceFunction(value){if(shape.a.ix===value||value==='Anchor Point'){return interfaceFunction.anchorPoint;}if(shape.o.ix===value||value==='Opacity'){return interfaceFunction.opacity;}if(shape.p.ix===value||value==='Position'){return interfaceFunction.position;}if(shape.r.ix===value||value==='Rotation'||value==='ADBE Vector Rotation'){return interfaceFunction.rotation;}if(shape.s.ix===value||value==='Scale'){return interfaceFunction.scale;}if(shape.sk&&shape.sk.ix===value||value==='Skew'){return interfaceFunction.skew;}if(shape.sa&&shape.sa.ix===value||value==='Skew Axis'){return interfaceFunction.skewAxis;}return null;}var _propertyGroup=propertyGroupFactory(interfaceFunction,propertyGroup);view.transform.mProps.o.setGroupProperty(PropertyInterface('Opacity',_propertyGroup));view.transform.mProps.p.setGroupProperty(PropertyInterface('Position',_propertyGroup));view.transform.mProps.a.setGroupProperty(PropertyInterface('Anchor Point',_propertyGroup));view.transform.mProps.s.setGroupProperty(PropertyInterface('Scale',_propertyGroup));view.transform.mProps.r.setGroupProperty(PropertyInterface('Rotation',_propertyGroup));if(view.transform.mProps.sk){view.transform.mProps.sk.setGroupProperty(PropertyInterface('Skew',_propertyGroup));view.transform.mProps.sa.setGroupProperty(PropertyInterface('Skew Angle',_propertyGroup));}view.transform.op.setGroupProperty(PropertyInterface('Opacity',_propertyGroup));Object.defineProperties(interfaceFunction,{opacity:{get:ExpressionPropertyInterface(view.transform.mProps.o)},position:{get:ExpressionPropertyInterface(view.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(view.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(view.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(view.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(view.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(view.transform.mProps.sa)},_name:{value:shape.nm}});interfaceFunction.ty='tr';interfaceFunction.mn=shape.mn;interfaceFunction.propertyGroup=propertyGroup;return interfaceFunction;}function ellipseInterfaceFactory(shape,view,propertyGroup){function interfaceFunction(value){if(shape.p.ix===value){return interfaceFunction.position;}if(shape.s.ix===value){return interfaceFunction.size;}return null;}var _propertyGroup=propertyGroupFactory(interfaceFunction,propertyGroup);interfaceFunction.propertyIndex=shape.ix;var prop=view.sh.ty==='tm'?view.sh.prop:view.sh;prop.s.setGroupProperty(PropertyInterface('Size',_propertyGroup));prop.p.setGroupProperty(PropertyInterface('Position',_propertyGroup));Object.defineProperties(interfaceFunction,{size:{get:ExpressionPropertyInterface(prop.s)},position:{get:ExpressionPropertyInterface(prop.p)},_name:{value:shape.nm}});interfaceFunction.mn=shape.mn;return interfaceFunction;}function starInterfaceFactory(shape,view,propertyGroup){function interfaceFunction(value){if(shape.p.ix===value){return interfaceFunction.position;}if(shape.r.ix===value){return interfaceFunction.rotation;}if(shape.pt.ix===value){return interfaceFunction.points;}if(shape.or.ix===value||value==='ADBE Vector Star Outer Radius'){return interfaceFunction.outerRadius;}if(shape.os.ix===value){return interfaceFunction.outerRoundness;}if(shape.ir&&(shape.ir.ix===value||value==='ADBE Vector Star Inner Radius')){return interfaceFunction.innerRadius;}if(shape.is&&shape.is.ix===value){return interfaceFunction.innerRoundness;}return null;}var _propertyGroup=propertyGroupFactory(interfaceFunction,propertyGroup);var prop=view.sh.ty==='tm'?view.sh.prop:view.sh;interfaceFunction.propertyIndex=shape.ix;prop.or.setGroupProperty(PropertyInterface('Outer Radius',_propertyGroup));prop.os.setGroupProperty(PropertyInterface('Outer Roundness',_propertyGroup));prop.pt.setGroupProperty(PropertyInterface('Points',_propertyGroup));prop.p.setGroupProperty(PropertyInterface('Position',_propertyGroup));prop.r.setGroupProperty(PropertyInterface('Rotation',_propertyGroup));if(shape.ir){prop.ir.setGroupProperty(PropertyInterface('Inner Radius',_propertyGroup));prop.is.setGroupProperty(PropertyInterface('Inner Roundness',_propertyGroup));}Object.defineProperties(interfaceFunction,{position:{get:ExpressionPropertyInterface(prop.p)},rotation:{get:ExpressionPropertyInterface(prop.r)},points:{get:ExpressionPropertyInterface(prop.pt)},outerRadius:{get:ExpressionPropertyInterface(prop.or)},outerRoundness:{get:ExpressionPropertyInterface(prop.os)},innerRadius:{get:ExpressionPropertyInterface(prop.ir)},innerRoundness:{get:ExpressionPropertyInterface(prop.is)},_name:{value:shape.nm}});interfaceFunction.mn=shape.mn;return interfaceFunction;}function rectInterfaceFactory(shape,view,propertyGroup){function interfaceFunction(value){if(shape.p.ix===value){return interfaceFunction.position;}if(shape.r.ix===value){return interfaceFunction.roundness;}if(shape.s.ix===value||value==='Size'||value==='ADBE Vector Rect Size'){return interfaceFunction.size;}return null;}var _propertyGroup=propertyGroupFactory(interfaceFunction,propertyGroup);var prop=view.sh.ty==='tm'?view.sh.prop:view.sh;interfaceFunction.propertyIndex=shape.ix;prop.p.setGroupProperty(PropertyInterface('Position',_propertyGroup));prop.s.setGroupProperty(PropertyInterface('Size',_propertyGroup));prop.r.setGroupProperty(PropertyInterface('Rotation',_propertyGroup));Object.defineProperties(interfaceFunction,{position:{get:ExpressionPropertyInterface(prop.p)},roundness:{get:ExpressionPropertyInterface(prop.r)},size:{get:ExpressionPropertyInterface(prop.s)},_name:{value:shape.nm}});interfaceFunction.mn=shape.mn;return interfaceFunction;}function roundedInterfaceFactory(shape,view,propertyGroup){function interfaceFunction(value){if(shape.r.ix===value||value==='Round Corners 1'){return interfaceFunction.radius;}return null;}var _propertyGroup=propertyGroupFactory(interfaceFunction,propertyGroup);var prop=view;interfaceFunction.propertyIndex=shape.ix;prop.rd.setGroupProperty(PropertyInterface('Radius',_propertyGroup));Object.defineProperties(interfaceFunction,{radius:{get:ExpressionPropertyInterface(prop.rd)},_name:{value:shape.nm}});interfaceFunction.mn=shape.mn;return interfaceFunction;}function repeaterInterfaceFactory(shape,view,propertyGroup){function interfaceFunction(value){if(shape.c.ix===value||value==='Copies'){return interfaceFunction.copies;}if(shape.o.ix===value||value==='Offset'){return interfaceFunction.offset;}return null;}var _propertyGroup=propertyGroupFactory(interfaceFunction,propertyGroup);var prop=view;interfaceFunction.propertyIndex=shape.ix;prop.c.setGroupProperty(PropertyInterface('Copies',_propertyGroup));prop.o.setGroupProperty(PropertyInterface('Offset',_propertyGroup));Object.defineProperties(interfaceFunction,{copies:{get:ExpressionPropertyInterface(prop.c)},offset:{get:ExpressionPropertyInterface(prop.o)},_name:{value:shape.nm}});interfaceFunction.mn=shape.mn;return interfaceFunction;}return function(shapes,view,propertyGroup){var interfaces;function _interfaceFunction(value){if(typeof value==='number'){value=value===undefined?1:value;if(value===0){return propertyGroup;}return interfaces[value-1];}var i=0;var len=interfaces.length;while(i<len){if(interfaces[i]._name===value){return interfaces[i];}i+=1;}return null;}function parentGroupWrapper(){return propertyGroup;}_interfaceFunction.propertyGroup=propertyGroupFactory(_interfaceFunction,parentGroupWrapper);interfaces=iterateElements(shapes,view,_interfaceFunction.propertyGroup);_interfaceFunction.numProperties=interfaces.length;_interfaceFunction._name='Contents';return _interfaceFunction;};}();var TextExpressionInterface=function(){return function(elem){var _sourceText;function _thisLayerFunction(name){switch(name){case'ADBE Text Document':return _thisLayerFunction.sourceText;default:return null;}}Object.defineProperty(_thisLayerFunction,'sourceText',{get:function get(){elem.textProperty.getValue();var stringValue=elem.textProperty.currentData.t;if(!_sourceText||stringValue!==_sourceText.value){_sourceText=new String(stringValue);// eslint-disable-line no-new-wrappers\n// If stringValue is an empty string, eval returns undefined, so it has to be returned as a String primitive\n_sourceText.value=stringValue||new String(stringValue);// eslint-disable-line no-new-wrappers\nObject.defineProperty(_sourceText,'style',{get:function get(){return{fillColor:elem.textProperty.currentData.fc};}});}return _sourceText;}});return _thisLayerFunction;};}();function _typeof(obj){\"@babel/helpers - typeof\";if(typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;};}return _typeof(obj);}var FootageInterface=function(){var outlineInterfaceFactory=function outlineInterfaceFactory(elem){var currentPropertyName='';var currentProperty=elem.getFootageData();function init(){currentPropertyName='';currentProperty=elem.getFootageData();return searchProperty;}function searchProperty(value){if(currentProperty[value]){currentPropertyName=value;currentProperty=currentProperty[value];if(_typeof(currentProperty)==='object'){return searchProperty;}return currentProperty;}var propertyNameIndex=value.indexOf(currentPropertyName);if(propertyNameIndex!==-1){var index=parseInt(value.substr(propertyNameIndex+currentPropertyName.length),10);currentProperty=currentProperty[index];if(_typeof(currentProperty)==='object'){return searchProperty;}return currentProperty;}return'';}return init;};var dataInterfaceFactory=function dataInterfaceFactory(elem){function interfaceFunction(value){if(value==='Outline'){return interfaceFunction.outlineInterface();}return null;}interfaceFunction._name='Outline';interfaceFunction.outlineInterface=outlineInterfaceFactory(elem);return interfaceFunction;};return function(elem){function _interfaceFunction(value){if(value==='Data'){return _interfaceFunction.dataInterface;}return null;}_interfaceFunction._name='Data';_interfaceFunction.dataInterface=dataInterfaceFactory(elem);return _interfaceFunction;};}();var interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(type){return interfaces[type]||null;}var expressionHelpers=function(){function searchExpressions(elem,data,prop){if(data.x){prop.k=true;prop.x=true;prop.initiateExpression=ExpressionManager.initiateExpression;prop.effectsSequence.push(prop.initiateExpression(elem,data,prop).bind(prop));}}function getValueAtTime(frameNum){frameNum*=this.elem.globalData.frameRate;frameNum-=this.offsetTime;if(frameNum!==this._cachingAtTime.lastFrame){this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<frameNum?this._cachingAtTime.lastIndex:0;this._cachingAtTime.value=this.interpolateValue(frameNum,this._cachingAtTime);this._cachingAtTime.lastFrame=frameNum;}return this._cachingAtTime.value;}function getSpeedAtTime(frameNum){var delta=-0.01;var v1=this.getValueAtTime(frameNum);var v2=this.getValueAtTime(frameNum+delta);var speed=0;if(v1.length){var i;for(i=0;i<v1.length;i+=1){speed+=Math.pow(v2[i]-v1[i],2);}speed=Math.sqrt(speed)*100;}else{speed=0;}return speed;}function getVelocityAtTime(frameNum){if(this.vel!==undefined){return this.vel;}var delta=-0.001;// frameNum += this.elem.data.st;\nvar v1=this.getValueAtTime(frameNum);var v2=this.getValueAtTime(frameNum+delta);var velocity;if(v1.length){velocity=createTypedArray('float32',v1.length);var i;for(i=0;i<v1.length;i+=1){// removing frameRate\n// if needed, don't add it here\n// velocity[i] = this.elem.globalData.frameRate*((v2[i] - v1[i])/delta);\nvelocity[i]=(v2[i]-v1[i])/delta;}}else{velocity=(v2-v1)/delta;}return velocity;}function getStaticValueAtTime(){return this.pv;}function setGroupProperty(propertyGroup){this.propertyGroup=propertyGroup;}return{searchExpressions:searchExpressions,getSpeedAtTime:getSpeedAtTime,getVelocityAtTime:getVelocityAtTime,getValueAtTime:getValueAtTime,getStaticValueAtTime:getStaticValueAtTime,setGroupProperty:setGroupProperty};}();function addPropertyDecorator(){function loopOut(type,duration,durationFlag){if(!this.k||!this.keyframes){return this.pv;}type=type?type.toLowerCase():'';var currentFrame=this.comp.renderedFrame;var keyframes=this.keyframes;var lastKeyFrame=keyframes[keyframes.length-1].t;if(currentFrame<=lastKeyFrame){return this.pv;}var cycleDuration;var firstKeyFrame;if(!durationFlag){if(!duration||duration>keyframes.length-1){duration=keyframes.length-1;}firstKeyFrame=keyframes[keyframes.length-1-duration].t;cycleDuration=lastKeyFrame-firstKeyFrame;}else{if(!duration){cycleDuration=Math.max(0,lastKeyFrame-this.elem.data.ip);}else{cycleDuration=Math.abs(lastKeyFrame-this.elem.comp.globalData.frameRate*duration);}firstKeyFrame=lastKeyFrame-cycleDuration;}var i;var len;var ret;if(type==='pingpong'){var iterations=Math.floor((currentFrame-firstKeyFrame)/cycleDuration);if(iterations%2!==0){return this.getValueAtTime((cycleDuration-(currentFrame-firstKeyFrame)%cycleDuration+firstKeyFrame)/this.comp.globalData.frameRate,0);// eslint-disable-line\n}}else if(type==='offset'){var initV=this.getValueAtTime(firstKeyFrame/this.comp.globalData.frameRate,0);var endV=this.getValueAtTime(lastKeyFrame/this.comp.globalData.frameRate,0);var current=this.getValueAtTime(((currentFrame-firstKeyFrame)%cycleDuration+firstKeyFrame)/this.comp.globalData.frameRate,0);// eslint-disable-line\nvar repeats=Math.floor((currentFrame-firstKeyFrame)/cycleDuration);if(this.pv.length){ret=new Array(initV.length);len=ret.length;for(i=0;i<len;i+=1){ret[i]=(endV[i]-initV[i])*repeats+current[i];}return ret;}return(endV-initV)*repeats+current;}else if(type==='continue'){var lastValue=this.getValueAtTime(lastKeyFrame/this.comp.globalData.frameRate,0);var nextLastValue=this.getValueAtTime((lastKeyFrame-0.001)/this.comp.globalData.frameRate,0);if(this.pv.length){ret=new Array(lastValue.length);len=ret.length;for(i=0;i<len;i+=1){ret[i]=lastValue[i]+(lastValue[i]-nextLastValue[i])*((currentFrame-lastKeyFrame)/this.comp.globalData.frameRate)/0.0005;// eslint-disable-line\n}return ret;}return lastValue+(lastValue-nextLastValue)*((currentFrame-lastKeyFrame)/0.001);}return this.getValueAtTime(((currentFrame-firstKeyFrame)%cycleDuration+firstKeyFrame)/this.comp.globalData.frameRate,0);// eslint-disable-line\n}function loopIn(type,duration,durationFlag){if(!this.k){return this.pv;}type=type?type.toLowerCase():'';var currentFrame=this.comp.renderedFrame;var keyframes=this.keyframes;var firstKeyFrame=keyframes[0].t;if(currentFrame>=firstKeyFrame){return this.pv;}var cycleDuration;var lastKeyFrame;if(!durationFlag){if(!duration||duration>keyframes.length-1){duration=keyframes.length-1;}lastKeyFrame=keyframes[duration].t;cycleDuration=lastKeyFrame-firstKeyFrame;}else{if(!duration){cycleDuration=Math.max(0,this.elem.data.op-firstKeyFrame);}else{cycleDuration=Math.abs(this.elem.comp.globalData.frameRate*duration);}lastKeyFrame=firstKeyFrame+cycleDuration;}var i;var len;var ret;if(type==='pingpong'){var iterations=Math.floor((firstKeyFrame-currentFrame)/cycleDuration);if(iterations%2===0){return this.getValueAtTime(((firstKeyFrame-currentFrame)%cycleDuration+firstKeyFrame)/this.comp.globalData.frameRate,0);// eslint-disable-line\n}}else if(type==='offset'){var initV=this.getValueAtTime(firstKeyFrame/this.comp.globalData.frameRate,0);var endV=this.getValueAtTime(lastKeyFrame/this.comp.globalData.frameRate,0);var current=this.getValueAtTime((cycleDuration-(firstKeyFrame-currentFrame)%cycleDuration+firstKeyFrame)/this.comp.globalData.frameRate,0);var repeats=Math.floor((firstKeyFrame-currentFrame)/cycleDuration)+1;if(this.pv.length){ret=new Array(initV.length);len=ret.length;for(i=0;i<len;i+=1){ret[i]=current[i]-(endV[i]-initV[i])*repeats;}return ret;}return current-(endV-initV)*repeats;}else if(type==='continue'){var firstValue=this.getValueAtTime(firstKeyFrame/this.comp.globalData.frameRate,0);var nextFirstValue=this.getValueAtTime((firstKeyFrame+0.001)/this.comp.globalData.frameRate,0);if(this.pv.length){ret=new Array(firstValue.length);len=ret.length;for(i=0;i<len;i+=1){ret[i]=firstValue[i]+(firstValue[i]-nextFirstValue[i])*(firstKeyFrame-currentFrame)/0.001;}return ret;}return firstValue+(firstValue-nextFirstValue)*(firstKeyFrame-currentFrame)/0.001;}return this.getValueAtTime((cycleDuration-((firstKeyFrame-currentFrame)%cycleDuration+firstKeyFrame))/this.comp.globalData.frameRate,0);// eslint-disable-line\n}function smooth(width,samples){if(!this.k){return this.pv;}width=(width||0.4)*0.5;samples=Math.floor(samples||5);if(samples<=1){return this.pv;}var currentTime=this.comp.renderedFrame/this.comp.globalData.frameRate;var initFrame=currentTime-width;var endFrame=currentTime+width;var sampleFrequency=samples>1?(endFrame-initFrame)/(samples-1):1;var i=0;var j=0;var value;if(this.pv.length){value=createTypedArray('float32',this.pv.length);}else{value=0;}var sampleValue;while(i<samples){sampleValue=this.getValueAtTime(initFrame+i*sampleFrequency);if(this.pv.length){for(j=0;j<this.pv.length;j+=1){value[j]+=sampleValue[j];}}else{value+=sampleValue;}i+=1;}if(this.pv.length){for(j=0;j<this.pv.length;j+=1){value[j]/=samples;}}else{value/=samples;}return value;}function getTransformValueAtTime(time){if(!this._transformCachingAtTime){this._transformCachingAtTime={v:new Matrix()};}/// /\nvar matrix=this._transformCachingAtTime.v;matrix.cloneFromProps(this.pre.props);if(this.appliedTransformations<1){var anchor=this.a.getValueAtTime(time);matrix.translate(-anchor[0]*this.a.mult,-anchor[1]*this.a.mult,anchor[2]*this.a.mult);}if(this.appliedTransformations<2){var scale=this.s.getValueAtTime(time);matrix.scale(scale[0]*this.s.mult,scale[1]*this.s.mult,scale[2]*this.s.mult);}if(this.sk&&this.appliedTransformations<3){var skew=this.sk.getValueAtTime(time);var skewAxis=this.sa.getValueAtTime(time);matrix.skewFromAxis(-skew*this.sk.mult,skewAxis*this.sa.mult);}if(this.r&&this.appliedTransformations<4){var rotation=this.r.getValueAtTime(time);matrix.rotate(-rotation*this.r.mult);}else if(!this.r&&this.appliedTransformations<4){var rotationZ=this.rz.getValueAtTime(time);var rotationY=this.ry.getValueAtTime(time);var rotationX=this.rx.getValueAtTime(time);var orientation=this.or.getValueAtTime(time);matrix.rotateZ(-rotationZ*this.rz.mult).rotateY(rotationY*this.ry.mult).rotateX(rotationX*this.rx.mult).rotateZ(-orientation[2]*this.or.mult).rotateY(orientation[1]*this.or.mult).rotateX(orientation[0]*this.or.mult);}if(this.data.p&&this.data.p.s){var positionX=this.px.getValueAtTime(time);var positionY=this.py.getValueAtTime(time);if(this.data.p.z){var positionZ=this.pz.getValueAtTime(time);matrix.translate(positionX*this.px.mult,positionY*this.py.mult,-positionZ*this.pz.mult);}else{matrix.translate(positionX*this.px.mult,positionY*this.py.mult,0);}}else{var position=this.p.getValueAtTime(time);matrix.translate(position[0]*this.p.mult,position[1]*this.p.mult,-position[2]*this.p.mult);}return matrix;/// /\n}function getTransformStaticValueAtTime(){return this.v.clone(new Matrix());}var getTransformProperty=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(elem,data,container){var prop=getTransformProperty(elem,data,container);if(prop.dynamicProperties.length){prop.getValueAtTime=getTransformValueAtTime.bind(prop);}else{prop.getValueAtTime=getTransformStaticValueAtTime.bind(prop);}prop.setGroupProperty=expressionHelpers.setGroupProperty;return prop;};var propertyGetProp=PropertyFactory.getProp;PropertyFactory.getProp=function(elem,data,type,mult,container){var prop=propertyGetProp(elem,data,type,mult,container);// prop.getVelocityAtTime = getVelocityAtTime;\n// prop.loopOut = loopOut;\n// prop.loopIn = loopIn;\nif(prop.kf){prop.getValueAtTime=expressionHelpers.getValueAtTime.bind(prop);}else{prop.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(prop);}prop.setGroupProperty=expressionHelpers.setGroupProperty;prop.loopOut=loopOut;prop.loopIn=loopIn;prop.smooth=smooth;prop.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(prop);prop.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(prop);prop.numKeys=data.a===1?data.k.length:0;prop.propertyIndex=data.ix;var value=0;if(type!==0){value=createTypedArray('float32',data.a===1?data.k[0].s.length:data.k.length);}prop._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:value};expressionHelpers.searchExpressions(elem,data,prop);if(prop.k){container.addDynamicProperty(prop);}return prop;};function getShapeValueAtTime(frameNum){// For now this caching object is created only when needed instead of creating it when the shape is initialized.\nif(!this._cachingAtTime){this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame};}frameNum*=this.elem.globalData.frameRate;frameNum-=this.offsetTime;if(frameNum!==this._cachingAtTime.lastTime){this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<frameNum?this._caching.lastIndex:0;this._cachingAtTime.lastTime=frameNum;this.interpolateShape(frameNum,this._cachingAtTime.shapeValue,this._cachingAtTime);}return this._cachingAtTime.shapeValue;}var ShapePropertyConstructorFunction=ShapePropertyFactory.getConstructorFunction();var KeyframedShapePropertyConstructorFunction=ShapePropertyFactory.getKeyframedConstructorFunction();function ShapeExpressions(){}ShapeExpressions.prototype={vertices:function vertices(prop,time){if(this.k){this.getValue();}var shapePath=this.v;if(time!==undefined){shapePath=this.getValueAtTime(time,0);}var i;var len=shapePath._length;var vertices=shapePath[prop];var points=shapePath.v;var arr=createSizedArray(len);for(i=0;i<len;i+=1){if(prop==='i'||prop==='o'){arr[i]=[vertices[i][0]-points[i][0],vertices[i][1]-points[i][1]];}else{arr[i]=[vertices[i][0],vertices[i][1]];}}return arr;},points:function points(time){return this.vertices('v',time);},inTangents:function inTangents(time){return this.vertices('i',time);},outTangents:function outTangents(time){return this.vertices('o',time);},isClosed:function isClosed(){return this.v.c;},pointOnPath:function pointOnPath(perc,time){var shapePath=this.v;if(time!==undefined){shapePath=this.getValueAtTime(time,0);}if(!this._segmentsLength){this._segmentsLength=bez.getSegmentsLength(shapePath);}var segmentsLength=this._segmentsLength;var lengths=segmentsLength.lengths;var lengthPos=segmentsLength.totalLength*perc;var i=0;var len=lengths.length;var accumulatedLength=0;var pt;while(i<len){if(accumulatedLength+lengths[i].addedLength>lengthPos){var initIndex=i;var endIndex=shapePath.c&&i===len-1?0:i+1;var segmentPerc=(lengthPos-accumulatedLength)/lengths[i].addedLength;pt=bez.getPointInSegment(shapePath.v[initIndex],shapePath.v[endIndex],shapePath.o[initIndex],shapePath.i[endIndex],segmentPerc,lengths[i]);break;}else{accumulatedLength+=lengths[i].addedLength;}i+=1;}if(!pt){pt=shapePath.c?[shapePath.v[0][0],shapePath.v[0][1]]:[shapePath.v[shapePath._length-1][0],shapePath.v[shapePath._length-1][1]];}return pt;},vectorOnPath:function vectorOnPath(perc,time,vectorType){// perc doesn't use triple equality because it can be a Number object as well as a primitive.\nif(perc==1){// eslint-disable-line eqeqeq\nperc=this.v.c;}else if(perc==0){// eslint-disable-line eqeqeq\nperc=0.999;}var pt1=this.pointOnPath(perc,time);var pt2=this.pointOnPath(perc+0.001,time);var xLength=pt2[0]-pt1[0];var yLength=pt2[1]-pt1[1];var magnitude=Math.sqrt(Math.pow(xLength,2)+Math.pow(yLength,2));if(magnitude===0){return[0,0];}var unitVector=vectorType==='tangent'?[xLength/magnitude,yLength/magnitude]:[-yLength/magnitude,xLength/magnitude];return unitVector;},tangentOnPath:function tangentOnPath(perc,time){return this.vectorOnPath(perc,time,'tangent');},normalOnPath:function normalOnPath(perc,time){return this.vectorOnPath(perc,time,'normal');},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime};extendPrototype([ShapeExpressions],ShapePropertyConstructorFunction);extendPrototype([ShapeExpressions],KeyframedShapePropertyConstructorFunction);KeyframedShapePropertyConstructorFunction.prototype.getValueAtTime=getShapeValueAtTime;KeyframedShapePropertyConstructorFunction.prototype.initiateExpression=ExpressionManager.initiateExpression;var propertyGetShapeProp=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(elem,data,type,arr,trims){var prop=propertyGetShapeProp(elem,data,type,arr,trims);prop.propertyIndex=data.ix;prop.lock=false;if(type===3){expressionHelpers.searchExpressions(elem,data.pt,prop);}else if(type===4){expressionHelpers.searchExpressions(elem,data.ks,prop);}if(prop.k){elem.addDynamicProperty(prop);}return prop;};}function initialize$1(){addPropertyDecorator();}function addDecorator(){function searchExpressions(){if(this.data.d.x){this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this);this.addEffect(this.getExpressionValue.bind(this));return true;}return null;}TextProperty.prototype.getExpressionValue=function(currentValue,text){var newValue=this.calculateExpression(text);if(currentValue.t!==newValue){var newData={};this.copyData(newData,currentValue);newData.t=newValue.toString();newData.__complete=false;return newData;}return currentValue;};TextProperty.prototype.searchProperty=function(){var isKeyframed=this.searchKeyframes();var hasExpressions=this.searchExpressions();this.kf=isKeyframed||hasExpressions;return this.kf;};TextProperty.prototype.searchExpressions=searchExpressions;}function initialize(){addDecorator();}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function createMergeNode(resultId,ins){var feMerge=createNS('feMerge');feMerge.setAttribute('result',resultId);var feMergeNode;var i;for(i=0;i<ins.length;i+=1){feMergeNode=createNS('feMergeNode');feMergeNode.setAttribute('in',ins[i]);feMerge.appendChild(feMergeNode);feMerge.appendChild(feMergeNode);}return feMerge;}};var linearFilterValue='0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0';function SVGTintFilter(filter,filterManager,elem,id,source){this.filterManager=filterManager;var feColorMatrix=createNS('feColorMatrix');feColorMatrix.setAttribute('type','matrix');feColorMatrix.setAttribute('color-interpolation-filters','linearRGB');feColorMatrix.setAttribute('values',linearFilterValue+' 1 0');this.linearFilter=feColorMatrix;feColorMatrix.setAttribute('result',id+'_tint_1');filter.appendChild(feColorMatrix);feColorMatrix=createNS('feColorMatrix');feColorMatrix.setAttribute('type','matrix');feColorMatrix.setAttribute('color-interpolation-filters','sRGB');feColorMatrix.setAttribute('values','1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');feColorMatrix.setAttribute('result',id+'_tint_2');filter.appendChild(feColorMatrix);this.matrixFilter=feColorMatrix;var feMerge=this.createMergeNode(id,[source,id+'_tint_1',id+'_tint_2']);filter.appendChild(feMerge);}extendPrototype([SVGComposableEffect],SVGTintFilter);SVGTintFilter.prototype.renderFrame=function(forceRender){if(forceRender||this.filterManager._mdf){var colorBlack=this.filterManager.effectElements[0].p.v;var colorWhite=this.filterManager.effectElements[1].p.v;var opacity=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute('values',linearFilterValue+' '+opacity+' 0');this.matrixFilter.setAttribute('values',colorWhite[0]-colorBlack[0]+' 0 0 0 '+colorBlack[0]+' '+(colorWhite[1]-colorBlack[1])+' 0 0 0 '+colorBlack[1]+' '+(colorWhite[2]-colorBlack[2])+' 0 0 0 '+colorBlack[2]+' 0 0 0 1 0');}};function SVGFillFilter(filter,filterManager,elem,id){this.filterManager=filterManager;var feColorMatrix=createNS('feColorMatrix');feColorMatrix.setAttribute('type','matrix');feColorMatrix.setAttribute('color-interpolation-filters','sRGB');feColorMatrix.setAttribute('values','1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');feColorMatrix.setAttribute('result',id);filter.appendChild(feColorMatrix);this.matrixFilter=feColorMatrix;}SVGFillFilter.prototype.renderFrame=function(forceRender){if(forceRender||this.filterManager._mdf){var color=this.filterManager.effectElements[2].p.v;var opacity=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute('values','0 0 0 0 '+color[0]+' 0 0 0 0 '+color[1]+' 0 0 0 0 '+color[2]+' 0 0 0 '+opacity+' 0');}};function SVGStrokeEffect(fil,filterManager,elem){this.initialized=false;this.filterManager=filterManager;this.elem=elem;this.paths=[];}SVGStrokeEffect.prototype.initialize=function(){var elemChildren=this.elem.layerElement.children||this.elem.layerElement.childNodes;var path;var groupPath;var i;var len;if(this.filterManager.effectElements[1].p.v===1){len=this.elem.maskManager.masksProperties.length;i=0;}else{i=this.filterManager.effectElements[0].p.v-1;len=i+1;}groupPath=createNS('g');groupPath.setAttribute('fill','none');groupPath.setAttribute('stroke-linecap','round');groupPath.setAttribute('stroke-dashoffset',1);for(i;i<len;i+=1){path=createNS('path');groupPath.appendChild(path);this.paths.push({p:path,m:i});}if(this.filterManager.effectElements[10].p.v===3){var mask=createNS('mask');var id=createElementID();mask.setAttribute('id',id);mask.setAttribute('mask-type','alpha');mask.appendChild(groupPath);this.elem.globalData.defs.appendChild(mask);var g=createNS('g');g.setAttribute('mask','url('+getLocationHref()+'#'+id+')');while(elemChildren[0]){g.appendChild(elemChildren[0]);}this.elem.layerElement.appendChild(g);this.masker=mask;groupPath.setAttribute('stroke','#fff');}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2){elemChildren=this.elem.layerElement.children||this.elem.layerElement.childNodes;while(elemChildren.length){this.elem.layerElement.removeChild(elemChildren[0]);}}this.elem.layerElement.appendChild(groupPath);this.elem.layerElement.removeAttribute('mask');groupPath.setAttribute('stroke','#fff');}this.initialized=true;this.pathMasker=groupPath;};SVGStrokeEffect.prototype.renderFrame=function(forceRender){if(!this.initialized){this.initialize();}var i;var len=this.paths.length;var mask;var path;for(i=0;i<len;i+=1){if(this.paths[i].m!==-1){mask=this.elem.maskManager.viewData[this.paths[i].m];path=this.paths[i].p;if(forceRender||this.filterManager._mdf||mask.prop._mdf){path.setAttribute('d',mask.lastPath);}if(forceRender||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||mask.prop._mdf){var dasharrayValue;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var s=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*0.01;var e=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*0.01;var l=path.getTotalLength();dasharrayValue='0 0 0 '+l*s+' ';var lineLength=l*(e-s);var segment=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*0.01;var units=Math.floor(lineLength/segment);var j;for(j=0;j<units;j+=1){dasharrayValue+='1 '+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*0.01+' ';}dasharrayValue+='0 '+l*10+' 0 0';}else{dasharrayValue='1 '+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*0.01;}path.setAttribute('stroke-dasharray',dasharrayValue);}}}if(forceRender||this.filterManager.effectElements[4].p._mdf){this.pathMasker.setAttribute('stroke-width',this.filterManager.effectElements[4].p.v*2);}if(forceRender||this.filterManager.effectElements[6].p._mdf){this.pathMasker.setAttribute('opacity',this.filterManager.effectElements[6].p.v);}if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(forceRender||this.filterManager.effectElements[3].p._mdf){var color=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute('stroke','rgb('+bmFloor(color[0]*255)+','+bmFloor(color[1]*255)+','+bmFloor(color[2]*255)+')');}}};function SVGTritoneFilter(filter,filterManager,elem,id){this.filterManager=filterManager;var feColorMatrix=createNS('feColorMatrix');feColorMatrix.setAttribute('type','matrix');feColorMatrix.setAttribute('color-interpolation-filters','linearRGB');feColorMatrix.setAttribute('values','0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');filter.appendChild(feColorMatrix);var feComponentTransfer=createNS('feComponentTransfer');feComponentTransfer.setAttribute('color-interpolation-filters','sRGB');feComponentTransfer.setAttribute('result',id);this.matrixFilter=feComponentTransfer;var feFuncR=createNS('feFuncR');feFuncR.setAttribute('type','table');feComponentTransfer.appendChild(feFuncR);this.feFuncR=feFuncR;var feFuncG=createNS('feFuncG');feFuncG.setAttribute('type','table');feComponentTransfer.appendChild(feFuncG);this.feFuncG=feFuncG;var feFuncB=createNS('feFuncB');feFuncB.setAttribute('type','table');feComponentTransfer.appendChild(feFuncB);this.feFuncB=feFuncB;filter.appendChild(feComponentTransfer);}SVGTritoneFilter.prototype.renderFrame=function(forceRender){if(forceRender||this.filterManager._mdf){var color1=this.filterManager.effectElements[0].p.v;var color2=this.filterManager.effectElements[1].p.v;var color3=this.filterManager.effectElements[2].p.v;var tableR=color3[0]+' '+color2[0]+' '+color1[0];var tableG=color3[1]+' '+color2[1]+' '+color1[1];var tableB=color3[2]+' '+color2[2]+' '+color1[2];this.feFuncR.setAttribute('tableValues',tableR);this.feFuncG.setAttribute('tableValues',tableG);this.feFuncB.setAttribute('tableValues',tableB);}};function SVGProLevelsFilter(filter,filterManager,elem,id){this.filterManager=filterManager;var effectElements=this.filterManager.effectElements;var feComponentTransfer=createNS('feComponentTransfer');// Red\nif(effectElements[10].p.k||effectElements[10].p.v!==0||effectElements[11].p.k||effectElements[11].p.v!==1||effectElements[12].p.k||effectElements[12].p.v!==1||effectElements[13].p.k||effectElements[13].p.v!==0||effectElements[14].p.k||effectElements[14].p.v!==1){this.feFuncR=this.createFeFunc('feFuncR',feComponentTransfer);}// Green\nif(effectElements[17].p.k||effectElements[17].p.v!==0||effectElements[18].p.k||effectElements[18].p.v!==1||effectElements[19].p.k||effectElements[19].p.v!==1||effectElements[20].p.k||effectElements[20].p.v!==0||effectElements[21].p.k||effectElements[21].p.v!==1){this.feFuncG=this.createFeFunc('feFuncG',feComponentTransfer);}// Blue\nif(effectElements[24].p.k||effectElements[24].p.v!==0||effectElements[25].p.k||effectElements[25].p.v!==1||effectElements[26].p.k||effectElements[26].p.v!==1||effectElements[27].p.k||effectElements[27].p.v!==0||effectElements[28].p.k||effectElements[28].p.v!==1){this.feFuncB=this.createFeFunc('feFuncB',feComponentTransfer);}// Alpha\nif(effectElements[31].p.k||effectElements[31].p.v!==0||effectElements[32].p.k||effectElements[32].p.v!==1||effectElements[33].p.k||effectElements[33].p.v!==1||effectElements[34].p.k||effectElements[34].p.v!==0||effectElements[35].p.k||effectElements[35].p.v!==1){this.feFuncA=this.createFeFunc('feFuncA',feComponentTransfer);}// RGB\nif(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA){feComponentTransfer.setAttribute('color-interpolation-filters','sRGB');filter.appendChild(feComponentTransfer);}if(effectElements[3].p.k||effectElements[3].p.v!==0||effectElements[4].p.k||effectElements[4].p.v!==1||effectElements[5].p.k||effectElements[5].p.v!==1||effectElements[6].p.k||effectElements[6].p.v!==0||effectElements[7].p.k||effectElements[7].p.v!==1){feComponentTransfer=createNS('feComponentTransfer');feComponentTransfer.setAttribute('color-interpolation-filters','sRGB');feComponentTransfer.setAttribute('result',id);filter.appendChild(feComponentTransfer);this.feFuncRComposed=this.createFeFunc('feFuncR',feComponentTransfer);this.feFuncGComposed=this.createFeFunc('feFuncG',feComponentTransfer);this.feFuncBComposed=this.createFeFunc('feFuncB',feComponentTransfer);}}SVGProLevelsFilter.prototype.createFeFunc=function(type,feComponentTransfer){var feFunc=createNS(type);feFunc.setAttribute('type','table');feComponentTransfer.appendChild(feFunc);return feFunc;};SVGProLevelsFilter.prototype.getTableValue=function(inputBlack,inputWhite,gamma,outputBlack,outputWhite){var cnt=0;var segments=256;var perc;var min=Math.min(inputBlack,inputWhite);var max=Math.max(inputBlack,inputWhite);var table=Array.call(null,{length:segments});var colorValue;var pos=0;var outputDelta=outputWhite-outputBlack;var inputDelta=inputWhite-inputBlack;while(cnt<=256){perc=cnt/256;if(perc<=min){colorValue=inputDelta<0?outputWhite:outputBlack;}else if(perc>=max){colorValue=inputDelta<0?outputBlack:outputWhite;}else{colorValue=outputBlack+outputDelta*Math.pow((perc-inputBlack)/inputDelta,1/gamma);}table[pos]=colorValue;pos+=1;cnt+=256/(segments-1);}return table.join(' ');};SVGProLevelsFilter.prototype.renderFrame=function(forceRender){if(forceRender||this.filterManager._mdf){var val;var effectElements=this.filterManager.effectElements;if(this.feFuncRComposed&&(forceRender||effectElements[3].p._mdf||effectElements[4].p._mdf||effectElements[5].p._mdf||effectElements[6].p._mdf||effectElements[7].p._mdf)){val=this.getTableValue(effectElements[3].p.v,effectElements[4].p.v,effectElements[5].p.v,effectElements[6].p.v,effectElements[7].p.v);this.feFuncRComposed.setAttribute('tableValues',val);this.feFuncGComposed.setAttribute('tableValues',val);this.feFuncBComposed.setAttribute('tableValues',val);}if(this.feFuncR&&(forceRender||effectElements[10].p._mdf||effectElements[11].p._mdf||effectElements[12].p._mdf||effectElements[13].p._mdf||effectElements[14].p._mdf)){val=this.getTableValue(effectElements[10].p.v,effectElements[11].p.v,effectElements[12].p.v,effectElements[13].p.v,effectElements[14].p.v);this.feFuncR.setAttribute('tableValues',val);}if(this.feFuncG&&(forceRender||effectElements[17].p._mdf||effectElements[18].p._mdf||effectElements[19].p._mdf||effectElements[20].p._mdf||effectElements[21].p._mdf)){val=this.getTableValue(effectElements[17].p.v,effectElements[18].p.v,effectElements[19].p.v,effectElements[20].p.v,effectElements[21].p.v);this.feFuncG.setAttribute('tableValues',val);}if(this.feFuncB&&(forceRender||effectElements[24].p._mdf||effectElements[25].p._mdf||effectElements[26].p._mdf||effectElements[27].p._mdf||effectElements[28].p._mdf)){val=this.getTableValue(effectElements[24].p.v,effectElements[25].p.v,effectElements[26].p.v,effectElements[27].p.v,effectElements[28].p.v);this.feFuncB.setAttribute('tableValues',val);}if(this.feFuncA&&(forceRender||effectElements[31].p._mdf||effectElements[32].p._mdf||effectElements[33].p._mdf||effectElements[34].p._mdf||effectElements[35].p._mdf)){val=this.getTableValue(effectElements[31].p.v,effectElements[32].p.v,effectElements[33].p.v,effectElements[34].p.v,effectElements[35].p.v);this.feFuncA.setAttribute('tableValues',val);}}};function SVGDropShadowEffect(filter,filterManager,elem,id,source){var globalFilterSize=filterManager.container.globalData.renderConfig.filterSize;var filterSize=filterManager.data.fs||globalFilterSize;filter.setAttribute('x',filterSize.x||globalFilterSize.x);filter.setAttribute('y',filterSize.y||globalFilterSize.y);filter.setAttribute('width',filterSize.width||globalFilterSize.width);filter.setAttribute('height',filterSize.height||globalFilterSize.height);this.filterManager=filterManager;var feGaussianBlur=createNS('feGaussianBlur');feGaussianBlur.setAttribute('in','SourceAlpha');feGaussianBlur.setAttribute('result',id+'_drop_shadow_1');feGaussianBlur.setAttribute('stdDeviation','0');this.feGaussianBlur=feGaussianBlur;filter.appendChild(feGaussianBlur);var feOffset=createNS('feOffset');feOffset.setAttribute('dx','25');feOffset.setAttribute('dy','0');feOffset.setAttribute('in',id+'_drop_shadow_1');feOffset.setAttribute('result',id+'_drop_shadow_2');this.feOffset=feOffset;filter.appendChild(feOffset);var feFlood=createNS('feFlood');feFlood.setAttribute('flood-color','#00ff00');feFlood.setAttribute('flood-opacity','1');feFlood.setAttribute('result',id+'_drop_shadow_3');this.feFlood=feFlood;filter.appendChild(feFlood);var feComposite=createNS('feComposite');feComposite.setAttribute('in',id+'_drop_shadow_3');feComposite.setAttribute('in2',id+'_drop_shadow_2');feComposite.setAttribute('operator','in');feComposite.setAttribute('result',id+'_drop_shadow_4');filter.appendChild(feComposite);var feMerge=this.createMergeNode(id,[id+'_drop_shadow_4',source]);filter.appendChild(feMerge);//\n}extendPrototype([SVGComposableEffect],SVGDropShadowEffect);SVGDropShadowEffect.prototype.renderFrame=function(forceRender){if(forceRender||this.filterManager._mdf){if(forceRender||this.filterManager.effectElements[4].p._mdf){this.feGaussianBlur.setAttribute('stdDeviation',this.filterManager.effectElements[4].p.v/4);}if(forceRender||this.filterManager.effectElements[0].p._mdf){var col=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute('flood-color',rgbToHex(Math.round(col[0]*255),Math.round(col[1]*255),Math.round(col[2]*255)));}if(forceRender||this.filterManager.effectElements[1].p._mdf){this.feFlood.setAttribute('flood-opacity',this.filterManager.effectElements[1].p.v/255);}if(forceRender||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var distance=this.filterManager.effectElements[3].p.v;var angle=(this.filterManager.effectElements[2].p.v-90)*degToRads;var x=distance*Math.cos(angle);var y=distance*Math.sin(angle);this.feOffset.setAttribute('dx',x);this.feOffset.setAttribute('dy',y);}}};var _svgMatteSymbols=[];function SVGMatte3Effect(filterElem,filterManager,elem){this.initialized=false;this.filterManager=filterManager;this.filterElem=filterElem;this.elem=elem;elem.matteElement=createNS('g');elem.matteElement.appendChild(elem.layerElement);elem.matteElement.appendChild(elem.transformedElement);elem.baseElement=elem.matteElement;}SVGMatte3Effect.prototype.findSymbol=function(mask){var i=0;var len=_svgMatteSymbols.length;while(i<len){if(_svgMatteSymbols[i]===mask){return _svgMatteSymbols[i];}i+=1;}return null;};SVGMatte3Effect.prototype.replaceInParent=function(mask,symbolId){var parentNode=mask.layerElement.parentNode;if(!parentNode){return;}var children=parentNode.children;var i=0;var len=children.length;while(i<len){if(children[i]===mask.layerElement){break;}i+=1;}var nextChild;if(i<=len-2){nextChild=children[i+1];}var useElem=createNS('use');useElem.setAttribute('href','#'+symbolId);if(nextChild){parentNode.insertBefore(useElem,nextChild);}else{parentNode.appendChild(useElem);}};SVGMatte3Effect.prototype.setElementAsMask=function(elem,mask){if(!this.findSymbol(mask)){var symbolId=createElementID();var masker=createNS('mask');masker.setAttribute('id',mask.layerId);masker.setAttribute('mask-type','alpha');_svgMatteSymbols.push(mask);var defs=elem.globalData.defs;defs.appendChild(masker);var symbol=createNS('symbol');symbol.setAttribute('id',symbolId);this.replaceInParent(mask,symbolId);symbol.appendChild(mask.layerElement);defs.appendChild(symbol);var useElem=createNS('use');useElem.setAttribute('href','#'+symbolId);masker.appendChild(useElem);mask.data.hd=false;mask.show();}elem.setMatte(mask.layerId);};SVGMatte3Effect.prototype.initialize=function(){var ind=this.filterManager.effectElements[0].p.v;var elements=this.elem.comp.elements;var i=0;var len=elements.length;while(i<len){if(elements[i]&&elements[i].data.ind===ind){this.setElementAsMask(this.elem,elements[i]);}i+=1;}this.initialized=true;};SVGMatte3Effect.prototype.renderFrame=function(){if(!this.initialized){this.initialize();}};function SVGGaussianBlurEffect(filter,filterManager,elem,id){// Outset the filter region by 100% on all sides to accommodate blur expansion.\nfilter.setAttribute('x','-100%');filter.setAttribute('y','-100%');filter.setAttribute('width','300%');filter.setAttribute('height','300%');this.filterManager=filterManager;var feGaussianBlur=createNS('feGaussianBlur');feGaussianBlur.setAttribute('result',id);filter.appendChild(feGaussianBlur);this.feGaussianBlur=feGaussianBlur;}SVGGaussianBlurEffect.prototype.renderFrame=function(forceRender){if(forceRender||this.filterManager._mdf){// Empirical value, matching AE's blur appearance.\nvar kBlurrinessToSigma=0.3;var sigma=this.filterManager.effectElements[0].p.v*kBlurrinessToSigma;// Dimensions mapping:\n//\n//   1 -> horizontal & vertical\n//   2 -> horizontal only\n//   3 -> vertical only\n//\nvar dimensions=this.filterManager.effectElements[1].p.v;var sigmaX=dimensions==3?0:sigma;// eslint-disable-line eqeqeq\nvar sigmaY=dimensions==2?0:sigma;// eslint-disable-line eqeqeq\nthis.feGaussianBlur.setAttribute('stdDeviation',sigmaX+' '+sigmaY);// Repeat edges mapping:\n//\n//   0 -> off -> duplicate\n//   1 -> on  -> wrap\nvar edgeMode=this.filterManager.effectElements[2].p.v==1?'wrap':'duplicate';// eslint-disable-line eqeqeq\nthis.feGaussianBlur.setAttribute('edgeMode',edgeMode);}};function TransformEffect(){}TransformEffect.prototype.init=function(effectsManager){this.effectsManager=effectsManager;this.type=effectTypes.TRANSFORM_EFFECT;this.matrix=new Matrix();this.opacity=-1;this._mdf=false;this._opMdf=false;};TransformEffect.prototype.renderFrame=function(forceFrame){this._opMdf=false;this._mdf=false;if(forceFrame||this.effectsManager._mdf){var effectElements=this.effectsManager.effectElements;var anchor=effectElements[0].p.v;var position=effectElements[1].p.v;var isUniformScale=effectElements[2].p.v===1;var scaleHeight=effectElements[3].p.v;var scaleWidth=isUniformScale?scaleHeight:effectElements[4].p.v;var skew=effectElements[5].p.v;var skewAxis=effectElements[6].p.v;var rotation=effectElements[7].p.v;this.matrix.reset();this.matrix.translate(-anchor[0],-anchor[1],anchor[2]);this.matrix.scale(scaleWidth*0.01,scaleHeight*0.01,1);this.matrix.rotate(-rotation*degToRads);this.matrix.skewFromAxis(-skew*degToRads,(skewAxis+90)*degToRads);this.matrix.translate(position[0],position[1],0);this._mdf=true;if(this.opacity!==effectElements[8].p.v){this.opacity=effectElements[8].p.v;this._opMdf=true;}}};function SVGTransformEffect(_,filterManager){this.init(filterManager);}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(effectsManager){this.init(effectsManager);}extendPrototype([TransformEffect],CVTransformEffect);registerRenderer('canvas',CanvasRenderer);registerRenderer('html',HybridRenderer);registerRenderer('svg',SVGRenderer);// Registering shape modifiers\nShapeModifiers.registerModifier('tm',TrimModifier);ShapeModifiers.registerModifier('pb',PuckerAndBloatModifier);ShapeModifiers.registerModifier('rp',RepeaterModifier);ShapeModifiers.registerModifier('rd',RoundCornersModifier);ShapeModifiers.registerModifier('zz',ZigZagModifier);ShapeModifiers.registerModifier('op',OffsetPathModifier);// Registering expression plugin\nsetExpressionsPlugin(Expressions);setExpressionInterfaces(getInterface);initialize$1();initialize();// Registering svg effects\nregisterEffect$1(20,SVGTintFilter,true);registerEffect$1(21,SVGFillFilter,true);registerEffect$1(22,SVGStrokeEffect,false);registerEffect$1(23,SVGTritoneFilter,true);registerEffect$1(24,SVGProLevelsFilter,true);registerEffect$1(25,SVGDropShadowEffect,true);registerEffect$1(28,SVGMatte3Effect,false);registerEffect$1(29,SVGGaussianBlurEffect,true);registerEffect$1(35,SVGTransformEffect,false);registerEffect(35,CVTransformEffect);return lottie;});","map":{"version":3,"names":["navigator","global","factory","exports","module","define","amd","globalThis","self","lottie","svgNS","locationHref","_useWebWorker","initialDefaultFrame","setWebWorker","flag","getWebWorker","setLocationHref","value","getLocationHref","createTag","type","document","createElement","extendPrototype","sources","destination","i","len","length","sourcePrototype","prototype","attr","Object","hasOwnProperty","call","getDescriptor","object","prop","getOwnPropertyDescriptor","createProxyFunction","ProxyFunction","audioControllerFactory","AudioController","audioFactory","audios","_volume","_isMuted","addAudio","audio","push","pause","resume","setRate","rateValue","createAudio","assetPath","window","Howl","src","isPlaying","play","seek","playing","rate","setVolume","setAudioFactory","_updateVolume","mute","unmute","getVolume","volume","createTypedArray","createRegularArray","arr","createTypedArrayFactory","Float32Array","Int16Array","Uint8ClampedArray","createSizedArray","Array","apply","_typeof$6","obj","Symbol","iterator","_typeof","constructor","subframeEnabled","expressionsPlugin","expressionsInterfaces","idPrefix$1","isSafari","test","userAgent","_shouldRoundValues","bmPow","Math","pow","bmSqrt","sqrt","bmFloor","floor","bmMax","max","bmMin","min","BMMath","propertyNames","ProjectInterface$1","random","abs","val","tOfVal","absArr","defaultCurveSegments","degToRads","PI","roundCorner","roundValues","bmRnd","round","styleDiv","element","style","position","top","left","display","transformOrigin","webkitTransformOrigin","backfaceVisibility","webkitBackfaceVisibility","transformStyle","webkitTransformStyle","mozTransformStyle","BMEnterFrameEvent","currentTime","totalTime","frameMultiplier","direction","BMCompleteEvent","BMCompleteLoopEvent","totalLoops","currentLoop","BMSegmentStartEvent","firstFrame","totalFrames","BMDestroyEvent","target","BMRenderFrameErrorEvent","nativeError","BMConfigErrorEvent","BMAnimationConfigErrorEvent","createElementID","_count","createID","HSVtoRGB","h","s","v","r","g","b","f","p","q","t","RGBtoHSV","d","addSaturationToRGB","color","offset","hsv","addBrightnessToRGB","addHueToRGB","rgbToHex","colorMap","hex","toString","setSubframeEnabled","getSubframeEnabled","setExpressionsPlugin","getExpressionsPlugin","setExpressionInterfaces","getExpressionInterfaces","setDefaultCurveSegments","getDefaultCurveSegments","setIdPrefix","getIdPrefix","createNS","createElementNS","_typeof$5","dataManager","_counterId","processes","workerFn","workerInstance","workerProxy","onmessage","postMessage","path","data","_workerSelf","createWorker","fn","Worker","Blob","blob","url","URL","createObjectURL","setupWorker","workerStart","e","dataFunctionManager","completeLayers","layers","comps","layerData","j","jLen","k","kLen","completed","hasMask","maskProps","masksProperties","pt","convertPathsToAbsoluteValues","ty","findCompLayers","refId","completeShapes","shapes","completeText","completeChars","chars","assets","findComp","id","comp","__used","JSON","parse","stringify","ks","it","o","checkVersion","minimum","animVersionString","animVersion","split","checkText","minimumVersion","updateTextLayer","textLayer","documentData","iterateLayers","animationData","checkChars","charData","ip","op","st","sr","a","sk","sa","checkPathProperties","pathData","checkColors","iterateShapes","c","checkShapes","completeClosingShapes","closed","cl","completeData","__complete","moduleOb","assetLoader","formatResponse","xhr","contentTypeHeader","getResponseHeader","responseType","indexOf","response","responseText","loadAsset","fullPath","callback","errorCallback","XMLHttpRequest","err","onreadystatechange","readyState","status","open","join","error","send","load","payload","animation","event","process","onComplete","onError","createProcess","loadAnimation","processId","location","origin","pathname","loadData","completeAnimation","anim","ImagePreloader","proxyImage","canvas","width","height","ctx","getContext","fillStyle","fillRect","imageLoaded","loadedAssets","totalImages","loadedFootagesCount","totalFootages","imagesLoadedCb","footageLoaded","getAssetsPath","assetData","assetsPath","originalPath","imagePath","u","testImageLoaded","img","intervalId","setInterval","box","getBBox","_imageLoaded","clearInterval","bind","createImageData","addEventListener","ob","setAttributeNS","_elementHelper","append","appendChild","createImgData","crossOrigin","createFootageData","footageData","_footageLoaded","loadAssets","cb","images","_createImageData","setPath","setAssetsPath","getAsset","destroy","loadedImages","loadedFootages","setCacheType","elementHelper","ImagePreloaderFactory","BaseEvent","triggerEvent","eventName","args","_cbs","callbacks","removeEventListener","splice","markerParser","parsePayloadLines","lines","keys","line","keysCount","trim","Error","_markers","markers","_marker","markerData","time","tm","duration","dr","cm","_","__","name","ProjectInterface","registerComposition","compositions","_thisProjectFunction","nm","prepareFrame","xt","currentFrame","compInterface","renderers","registerRenderer","key","getRenderer","getRegisteredRenderer","_typeof$4","AnimationItem","isLoaded","currentRawFrame","frameRate","frameMult","playSpeed","playDirection","playCount","isPaused","autoplay","loop","renderer","animationID","timeCompleted","segmentPos","isSubframeEnabled","segments","_idle","_completedLoop","projectInterface","imagePreloader","audioController","configAnimation","onSetupError","onSegmentComplete","drawnFrameEvent","setParams","params","wrapper","container","animType","RendererClass","rendererSettings","globalData","defs","setProjectInterface","undefined","parseInt","autoloadSegments","initialSegment","setupAnimation","lastIndexOf","substr","fileName","trigger","setData","wrapperAttributes","attributes","getNamedItem","prerender","includeLayers","newLayers","fonts","fontManager","addChars","addFonts","initExpressions","loadNextSegment","segment","shift","segmentPath","loadSegments","imagesLoaded","checkLoaded","preloadImages","animData","fr","searchExtraCompositions","updaFrameModifier","waitForFontsLoaded","triggerConfigError","setTimeout","rendererType","initItems","gotoFrame","resize","_width","_height","updateContainerSize","setSubframe","renderFrame","resetFrame","triggerRenderFrameError","togglePause","stop","setCurrentRawFrameValue","getMarkerData","markerName","marker","goToAndStop","isFrame","numValue","Number","isNaN","frameModifier","goToAndPlay","playSegments","advanceTime","nextValue","_isComplete","checkSegments","adjustSegment","setSpeed","setDirection","setSegment","init","end","pendingFrame","forceFlag","resetSegments","onEnterFrame","onLoopComplete","onSegmentStart","onDestroy","setLoop","isLooping","getPath","getAssetData","hide","show","getDuration","updateDocumentData","index","getElementByPath","animationManager","registeredAnimations","initTime","playingAnimationsNum","_stopped","_isFrozen","removeElement","ev","animItem","subtractPlayingCount","registerAnimation","elem","getRegisteredAnimations","lenAnims","animations","addPlayingCount","activate","nowTime","elapsedTime","requestAnimationFrame","first","searchAnimations","standalone","animElements","concat","slice","getElementsByClassName","setAttribute","body","getElementsByTagName","innerText","div","freeze","unfreeze","BezierFactory","getBezierEasing","beziers","str","replace","bezEasing","BezierEasing","NEWTON_ITERATIONS","NEWTON_MIN_SLOPE","SUBDIVISION_PRECISION","SUBDIVISION_MAX_ITERATIONS","kSplineTableSize","kSampleStepSize","float32ArraySupported","A","aA1","aA2","B","C","calcBezier","aT","getSlope","binarySubdivide","aX","aA","aB","mX1","mX2","currentX","currentT","newtonRaphsonIterate","aGuessT","currentSlope","points","_p","_mSampleValues","_precomputed","get","x","mY1","mY2","_precompute","_getTForX","_calcSampleValues","mSampleValues","intervalStart","currentSample","lastSample","dist","guessForT","initialSlope","pooling","_double","poolFactory","initialLength","_create","_release","_length","_maxLength","pool","newElement","release","bezierLengthPool","create","addedLength","percents","lengths","segmentsLengthPool","totalLength","bezFunction","math","pointOnLine2D","x1","y1","x2","y2","x3","y3","det1","pointOnLine3D","z1","z2","z3","dist1","dist2","dist3","diffDist","getBezierLength","pt1","pt2","pt3","pt4","curveSegments","ptCoord","perc","ptDistance","point","lastPoint","lengthData","getSegmentsLength","shapeData","segmentsLength","pathV","pathO","pathI","BezierData","segmentLength","PointData","partial","partialLength","buildBezierData","storedData","bezierName","bezierData","getDistancePerc","initPos","lengthPos","lPerc","dir","getPointInSegment","percent","t1","u1","ptX","ptY","bezierSegmentPoints","getNewSegment","startPerc","endPerc","t0","u0","u0u0u0","t0u0u0_3","t0t0u0_3","t0t0t0","u0u0u1","t0u0u1_3","t0t0u1_3","t0t0t1","u0u1u1","t0u1u1_3","t0t1u1_3","t0t1t1","u1u1u1","t1u1u1_3","t1t1u1_3","t1t1t1","bez","initFrame","mathAbs","interpolateValue","frameNum","caching","offsetTime","newValue","propType","pv","iterationIndex","lastIndex","keyframes","keyData","nextKeyData","keyframeMetadata","keyframesMetadata","fnc","nextKeyTime","keyTime","endValue","to","ti","ind","__fnct","y","n","distanceInLine","segmentPerc","lastFrame","_lastKeyframeIndex","_lastAddedLength","_lastPoint","outX","outY","inX","inY","keyValue","sh","quatStart","createQuaternion","quatEnd","quaternionToEuler","slerp","out","ax","ay","az","aw","bx","by","bz","bw","omega","cosom","sinom","scale0","scale1","acos","sin","quat","qx","qy","qz","qw","heading","atan2","attitude","asin","bank","values","c1","cos","c2","c3","s1","s2","s3","w","z","getValueAtCurrentTime","renderedFrame","endTime","_caching","renderResult","setVValue","multipliedValue","mult","_mdf","processEffectsSequence","frameId","effectsSequence","lock","_isFirstFrame","finalValue","kf","addEffect","effectFunction","addDynamicProperty","ValueProperty","vel","getValue","MultiDimensionalProperty","KeyframedValueProperty","KeyframedMultidimensionalProperty","arrLen","PropertyFactory","getProp","sid","slotManager","DynamicPropertyContainer","dynamicProperties","_isAnimated","iterateDynamicProperties","initDynamicPropertyContainer","pointPool","ShapePath","setPathData","setLength","doubleArrayLength","setXYAt","pos","setTripleAt","vX","vY","oX","oY","iX","iY","reverse","newPath","vertices","outPoints","inPoints","cnt","shapePool","shapePath","clone","shape","cloned","ShapeCollection","addShape","releaseShapes","shapeCollectionPool","newShapeCollection","shapeCollection","ShapePropertyFactory","interpolateShape","previousValue","keyPropS","keyPropE","isHold","vertexValue","interpolateShapeCurrentTime","resetShape","paths","localShapeCollection","shapesEqual","shape1","shape2","ShapeProperty","reset","KeyframedShapeProperty","EllShapeProperty","cPoint","EllShapePropertyFactory","convertEllToPath","p0","p1","s0","_cw","_v","StarShapeProperty","StarShapePropertyFactory","sy","ir","is","convertToPath","convertStarToPath","convertPolygonToPath","or","os","numPts","angle","longFlag","longRad","shortRad","longRound","shortRound","longPerimSegment","shortPerimSegment","rad","roundness","perimSegment","currentAng","ox","oy","RectShapeProperty","RectShapePropertyFactory","convertRectToPath","v0","v1","getShapeProp","dataProp","getConstructorFunction","getKeyframedConstructorFunction","Matrix","_cos","_sin","_tan","tan","_rnd","props","rotate","mCos","mSin","_t","rotateX","rotateY","rotateZ","shear","sx","skew","skewFromAxis","scale","sz","setTransform","l","m","translate","tx","tz","transform","a2","b2","d2","e2","f2","g2","h2","i2","j2","k2","l2","m2","n2","o2","p2","_identityCalculated","a1","b1","d1","e1","f1","g1","h1","i1","j1","k1","l1","m1","n1","o1","multiply","matrix","matrixProps","isIdentity","_identity","equals","matr","cloneFromProps","applyToPoint","applyToX","applyToY","applyToZ","getInverseMatrix","determinant","inverseMatrix","inversePoint","applyToPointArray","inversePoints","pts","retPts","applyToTriplePoints","p4","p5","p12","p13","applyToPointStringified","toCSS","cssValue","roundMatrixProperty","to2dCSS","_a","_b","_c","_d","_e","_f","_typeof$3","setLocation","href","setSubframeRendering","setPrefix","prefix","setQuality","inBrowser","installPlugin","plugin","getFactory","useWebWorker","setIDPrefix","__getFactory","version","checkReady","readyStateCheckInterval","getQueryVariable","variable","vars","queryString","pair","decodeURIComponent","scripts","myScript","bodymovin","ShapeModifiers","modifiers","registerModifier","getModifier","ShapeModifier","initModifierProperties","addShapeToModifier","setAsAnimated","processKeys","TrimModifier","sValue","eValue","pathsData","calculateShapeEdges","shapeLength","totalModifierLength","shapeSegments","segmentOb","shapeS","shapeE","releasePathsData","processShapes","_s","shapePaths","totalShapeLength","edges","newShapesData","addShapes","lastShapeInCollection","lastShape","pop","addPaths","newPaths","addSegment","newShape","addSegmentFromArray","shapeSegment","currentLengthData","segmentCount","PuckerAndBloatModifier","amount","processPath","centerPoint","pathLength","clonedPath","TransformPropertyFactory","defaultVector","applyToMatrix","mat","rz","ry","rx","px","py","pz","forceRender","_isDirty","precalculateMatrix","pre","appliedTransformations","autoOriented","v2","getValueAtTime","autoOrient","_addDynamicProperty","TransformProperty","getTransformProperty","RepeaterModifier","tr","so","eo","pMatrix","rMatrix","sMatrix","tMatrix","applyTransforms","inv","scaleX","scaleY","elemsData","_currentCopies","_elements","_groups","unshift","resetElements","elements","_processed","cloneElements","newElements","changeGroupRender","renderFlag","_render","items","itemsTransform","cont","hasReloaded","copies","ceil","group","ix","reloadShapes","elems","transformData","offsetModulo","roundOffset","pProps","rProps","sProps","iteration","mProps","RoundCornersModifier","rd","currentV","currentI","currentO","closerV","distance","newPosPerc","floatEqual","floatZero","lerp","lerpPoint","quadRoots","singleRoot","delta","polynomialCoefficients","p3","singlePoint","PolynomialBezier","linearize","pointEqual","coeffx","coeffy","derivative","tangentAngle","normalAngle","inflectionPoints","denom","tcusp","square","root","filter","p10","p11","p20","p21","extrema","bounds","boundingBox","right","bottom","cx","cy","intersectData","t2","splitData","boxIntersect","intersectsImpl","depth","tolerance","intersections","maxRecursion","d1s","d2s","other","nextIndex","shapeSegmentInverted","crossProduct","lineIntersection","start1","end1","start2","end2","v3","v4","polarOffset","pointDistance","hypot","ZigZagModifier","amplitude","frequency","pointsType","setPoint","outputBezier","outAmplitude","inAmplitude","angO","angI","getPerpendicularVector","vector","rot","rotatedVector","getProjectingAngle","cur","prevIndex","prevPoint","nextPoint","pVector","zigZagCorner","pointType","prevDist","nextDist","zigZagSegment","count","linearOffset","offsetSegment","p1a","p1b","p2b","p2a","joinLines","seg1","seg2","lineJoin","miterLimit","angleOut","angleIn","center","radius","intersection","getIntersection","intersect","pruneSegmentIntersection","outa","outb","pruneIntersections","offsetSegmentSplit","flex","mid","OffsetPathModifier","ml","lj","inputBezier","multiSegments","lastSeg","multiSegment","getFontProperties","fontData","styles","fStyle","fWeight","styleName","toLowerCase","weight","FontManager","maxWaitingTime","emptyChar","size","combinedCharacters","BLACK_FLAG_CODE_POINT","CANCEL_TAG_CODE_POINT","A_TAG_CODE_POINT","Z_TAG_CODE_POINT","VARIATION_SELECTOR_16_CODE_POINT","ZERO_WIDTH_JOINER_CODE_POINT","REGIONAL_CHARACTER_A_CODE_POINT","REGIONAL_CHARACTER_Z_CODE_POINT","surrogateModifiers","trimFontOptions","font","familyArray","enabledFamilies","setUpNode","family","parentNode","fontFamily","node","fontSize","fontVariant","fontStyle","fontWeight","letterSpacing","offsetWidth","parent","checkLoadedFonts","loadedCount","loaded","fOrigin","monoCase","sansCase","removeChild","Date","now","checkLoadedFontsBinded","setIsLoadedBinded","createHelper","def","engine","helper","fontProps","tHelper","fFamily","textContent","fClass","tCanvasHelper","OffscreenCanvas","measure","text","getComputedTextLength","measureText","list","forEach","cache","fontArr","_pendingFonts","shouldLoadFont","loadedSelector","fPath","querySelectorAll","rel","sc","found","ch","getCharData","_char","charCodeAt","console","warn","_warned","_char2","fontName","getFontByName","doubleSize","singleSize","fName","getCodePoint","string","codePoint","second","isModifier","firstCharCode","secondCharCode","sum","isZeroWidthJoiner","charCode","isVariationSelector","isRegionalCode","isFlagEmoji","isCombinedCharacter","_char3","isRegionalFlag","setIsLoaded","Font","typekitLoaded","fontPrototype","SlotManager","slots","assign","slotFactory","RenderableElement","initRenderable","isInRange","hidden","isTransparent","renderableComponents","addRenderableComponent","component","removeRenderableComponent","prepareRenderableFrame","num","checkLayerLimits","checkTransparency","finalTransform","mProp","renderConfig","hideOnTransparent","renderRenderable","sourceRectAtTime","getLayerSize","textData","getBlendMode","blendModeEnums","mode","SliderEffect","AngleEffect","ColorEffect","PointEffect","LayerIndexEffect","MaskIndexEffect","CheckboxEffect","NoValueEffect","EffectsManager","effects","ef","effectElements","effectItem","GroupEffect","eff","BaseElement","checkMasks","LayerExpressionInterface","EffectsExpressionInterface","ShapeExpressionInterface","TextExpressionInterface","CompExpressionInterface","layerInterface","maskManager","registerMaskInterface","effectsInterface","createEffectsInterface","registerEffectsInterface","shapeInterface","shapesData","itemsData","content","textInterface","setBlendMode","blendModeValue","bm","baseElement","layerElement","initBaseData","layerId","effectsManager","getType","FrameElement","prepareProperties","isVisible","_isParent","FootageElement","imageLoader","getBaseElement","FootageInterface","getFootageData","AudioElement","_isPlaying","_canPlay","_currentTime","_volumeMultiplier","_previousVolume","_placeholder","lv","au","timeRemapped","totalVolume","volumeValue","BaseRenderer","checkLayers","buildItem","checkPendingElements","createItem","layer","createImage","createComp","createSolid","createNull","createShape","createText","createCamera","createFootage","buildAllItems","pInterface","progressiveLoad","buildElementParenting","parentName","hierarchy","addPendingElement","setAsParent","setHierarchy","pendingElements","getElementById","pathValue","setupGlobalData","fontsContainer","animationItem","compSize","effectTypes","TRANSFORM_EFFECT","TransformElement","initTransform","_matMdf","_localMatMdf","_opMdf","localMat","localOpacity","ao","renderTransform","finalMat","renderLocalTransform","localTransforms","lmat","localOp","opacity","searchEffectTransforms","renderableEffectsManager","transformEffects","getEffects","globalToLocal","transforms","ptNew","mHelper","MaskElement","maskElement","viewData","solidPath","properties","currentMasks","rect","expansor","feMorph","maskType","maskRef","lastPath","filterID","expan","lastOperator","filterId","lastRadius","mask","createLayerSolidPath","invRect","drawPath","maskedElement","getMaskProperty","isFirstFrame","getMaskelement","pathNodes","pathString","pathShapeValue","filtersFactory","createFilter","createAlphaToLuminanceFilter","filId","skipCoordinates","fil","feColorMatrix","featureSupport","svgLumaHidden","offscreenCanvas","registeredEffects$1","idPrefix","SVGEffects","source","filters","filterManager","Effect","effect","countsAsEffect","registerEffect$1","SVGBaseElement","initRendererElement","createContainerElements","matteElement","transformedElement","_sizeChanged","layerElementParent","td","matteMasks","gg","tt","ln","hd","cp","clipId","cpGroup","renderElement","destroyBaseElement","createRenderableComponents","getMatte","matteType","useElement","masker","maskGroup","maskGrouper","feCTr","feFunc","alphaRect","setMatte","HierarchyElement","initHierarchy","checkParenting","RenderableDOMElement","_prototype","initElement","createContent","renderInnerContent","innerElem","IImageElement","sourceRect","pr","imagePreserveAspectRatio","ProcessedElement","IShapeElement","addShapeToModifiers","shapeModifiers","isShapeInAnimatedModifiers","isAnimatedWithShape","renderModifiers","shouldBreakProcess","searchProcessedElement","processedElements","addProcessedElement","lineCapEnum","lineJoinEnum","SVGShapeData","transformers","level","caches","lStr","lvl","SVGStyleData","pElem","msElem","DashProperty","dataProps","dashStr","dashArray","dashoffset","SVGStrokeStyleData","styleOb","SVGFillStyleData","SVGNoStyleData","GradientProperty","cLength","_cmdf","_omdf","_collapsable","checkCollapsable","_hasOpacity","comparePoints","diff","SVGGradientFillStyleData","initGradientData","stops","setGradientData","setGradientOpacity","pathElement","gradientId","gfill","gf","cst","opacityId","maskId","opFill","lc","of","ms","ost","SVGGradientStrokeStyleData","ShapeGroupData","prevViewData","gr","SVGTransformData","buildShapeString","_o","_i","shapeString","SVGElementsRenderer","_identityMatrix","_matrixHelper","createRenderFunction","renderFill","renderGradient","renderGradientStroke","renderStroke","renderPath","renderContentTransform","renderNoop","styleData","itemData","pathStringTransformed","redraw","lLen","iterations","styleElem","hasOpacity","attr1","attr2","cValues","oValues","ang","SVGShapeElement","stylesList","animatedContents","initSecondaryElement","identityMatrix","buildExpressionInterface","searchShapes","filterUniqueShapes","tempShapes","areAnimated","setShapesAsAnimated","createStyleElement","elementData","GradientConstructor","addToAnimatedContents","createGroupElement","createTransformElement","transformProperty","createShapeElement","ownTransformers","shapeProperty","setElementStyles","render","ownStyles","ownModifiers","currentTransform","modifier","processedPos","renderShape","animatedContent","LetterProps","sw","fc","update","updated","TextProperty","_frameId","keysIndex","canResize","minimumFontSize","currentData","ascent","boxWidth","defaultBoxWidth","justifyOffset","lh","lineWidths","ls","ps","fillColorAnim","strokeColorAnim","strokeWidthAnim","yOffset","finalSize","finalText","finalLineHeight","copyData","searchProperty","completeTextData","setCurrentData","searchKeyframes","getKeyframeValue","_finalValue","currentValue","currentIndex","textKeys","buildFinalText","charactersArray","shouldCombine","shouldCombineNext","currentChars","charAt","letters","newLineFlag","anchorGrouping","currentSize","currentPos","currentLine","lineWidth","maxLineWidth","trackingOffset","boxHeight","currentHeight","lastSpaceIndex","uncollapsedSpaces","currentChar","an","add","anIndexes","animatorJustifyOffset","extra","animators","animatorData","letterData","based","indexes","fh","fs","fb","rn","totalChars","currentInd","newInd","newData","dData","recalculate","canResizeFont","_canResize","setMinimumFontSize","_fontValue","TextSelectorProp","TextSelectorPropFactory","_currentTextLength","finalS","finalE","xe","ne","sm","getMult","textProperty","easer","tot","smoothness","threshold","newCharsFlag","divisor","getTextSelectorProp","TextAnimatorDataProperty","animatorProps","defaultData","textAnimatorAnimatables","TextAnimatorProperty","renderType","_hasMaskedPath","_textData","_renderType","_elem","_animatorsData","_pathData","_moreOptions","alignment","renderedLetters","lettersChangedFlag","searchProperties","getMeasures","matrixHelper","renderedLettersCount","xPos","yPos","pathInfo","currentLength","currentPoint","pointInd","segmentInd","tanAngle","tLength","pi","yOff","firstLine","animatorSelector","letterValue","offf","xPathPos","yPathPos","initPathPos","initSegmentInd","initPointInd","elemOpacity","letterSw","letterSc","letterFc","letterM","letterP","defaultPropsArray","letterO","animatorFirstCharOffset","justifyOffsetMult","isNewLine","animatorOffset","atan","ITextElement","textAnimator","createPathShape","shapeStr","_fontSize","applyTextPropertiesToMatrix","lineNumber","buildColor","colorData","emptyProp","validateText","buildNewText","emptyShapeData","SVGTextLottieElement","textSpans","singleShape","textContainer","buildTextContents","textArray","textContents","currentTextContent","String","fromCharCode","buildShapeData","shapeItem","usesGlyphs","tSpan","tElement","justify","span","glyph","cachedSpansLength","childSpan","glyphElement","SVGCompElement","_debug","textBox","bbox","renderedLetter","textSpan","ISolidElement","NullElement","SVGRendererBase","svgElement","viewBoxSize","viewBoxOnly","contentVisibility","className","focusable","preserveAspectRatio","destroyed","findIndexByInd","appendElementInPos","elementIndex","tp","matteMask","nextElement","insertBefore","ICompElement","setElements","getElements","destroyElements","supports3d","SVGRenderer","config","ariaLabel","title","titleElement","titleId","description","descElement","descId","filterSize","runExpressions","ShapeTransformManager","sequences","sequenceList","transform_key_count","addTransformSequence","sequence","processSequence","processSequences","getNewKey","lumaLoader","lumaBuffer","lumaBufferCtx","svg","createLumaSvgFilter","_svg","loadLuma","getLuma","createCanvas","loadLumaCanvas","getLumaCanvas","registeredEffects","CVEffects","registerEffect","CVMaskElement","hasMasks","canvasContext","beginPath","moveTo","lineTo","bezierCurveTo","save","clip","CVBaseElement","operationsMap","createElements","buffers","bufferCanvas","bufferCanvas2","_isProxy","transformCanvas","blendMode","globalCompositeOperation","hideElement","showElement","clearCanvas","clearRect","prepareLayer","buffer","bufferCtx","drawImage","getTransform","exitLayer","forceRealStack","ctxTransform","ctxOpacity","restore","CVShapeData","transformsManager","styledShapes","styledShape","trNodes","CVShapeElement","transformHelper","dashResetter","preTransforms","co","wi","da","addTransformToStyleList","removeTransformFromStyleList","closeStyles","shouldRender","ownTransforms","_shouldRender","renderShapeTransform","parentTransform","groupTransform","drawLayer","nodes","currentStyle","coOp","currentGlobalAlpha","ctxStrokeStyle","grd","ctxLineWidth","ctxLineCap","ctxLineJoin","ctxMiterLimit","ctxFillStyle","setLineDash","lineDashOffset","closePath","ctxStroke","ctxFill","isMain","renderGradientFill","renderStyledShape","shapeNodes","groupTransformMat","createLinearGradient","createRadialGradient","addColorStop","CVTextElement","stroke","fill","currentRender","sWidth","fValue","hasFill","hasStroke","commands","pathArr","commandsCounter","lastFill","lastStroke","lastStrokeW","CVImageElement","imgW","imgH","imgRel","canvasRel","widthCrop","heightCrop","par","CVSolidElement","ctxFillRect","CanvasRendererBase","globalAlpha","strokeStyle","lineCap","rule","contextData","actionFlag","containerStyle","mozTransformOrigin","context","setContext","isDashed","elementWidth","elementHeight","offsetHeight","dpr","elementRel","animationRel","fillType","CanvasContext","CVContextData","stack","cArrPos","cTr","nativeContext","transformMat","currentOpacity","currentFillStyle","appliedFillStyle","currentStrokeStyle","appliedStrokeStyle","currentLineWidth","appliedLineWidth","currentLineCap","appliedLineCap","currentLineJoin","appliedLineJoin","appliedMiterLimit","currentMiterLimit","duplicate","newLength","forceRestore","currentContext","prevStack","saveOnNativeFlag","currentStack","newStack","setOpacity","trProps","CVCompElement","CanvasRenderer","devicePixelRatio","HBaseElement","checkBlendMode","tg","transformedElementStyle","matrixValue","webkitTransform","addEffects","HSolidElement","backgroundColor","HShapeElement","shapesContainer","currentBBox","_renderShapeFrame","shapeCont","getTransformedPoint","calculateShapeBoundingBox","item","vPoint","oPoint","nextIPoint","nextVPoint","checkBounds","getBoundsOfCurve","shapeBoundingBox","xMax","yMax","tempBoundingBox","b2ac","calculateF","calculateBoundingBox","expandStrokeBoundingBox","widthProperty","kfw","currentBoxContains","changed","shapeStyle","shapeTransform","HTextElement","textPaths","isMasked","compW","compH","innerElemStyle","textColor","strokeWidth","lineHeight","tParent","tCont","children","tContStyle","tContTranslation","tStyle","tSpanTranslation","svgStyle","translation","textPath","margin","svgTransform","HCameraElement","pe","_prevMat","setup","threeDElements","perspectiveStyle","perspectiveElem","perspective","webkitPerspective","mTransf","diffVector","mag","lookDir","lookLengthOnXZ","mRotationX","mRotationY","hasMatrixChanged","matValue","HImageElement","Image","imageElem","HybridRendererBase","camera","newDOMElement","ddd","addTo3dContainer","nextDOMElement","nextLayer","tmpDOMElement","getThreeDContainerByPos","startPos","endPos","createThreeDContainer","threeDContainerData","build3dContainers","lastThreeDContainerData","currentContainer","resizerElem","overflow","cWidth","cHeight","floatingContainer","HCompElement","_createBaseContainerElements","HybridRenderer","_thisLayerFunction","defineProperty","pixelAspect","frameDuration","displayStartTime","numLayers","_typeof$2","seedRandom","chunks","digits","rngname","startdenom","significance","nodecrypto","seedrandom","seed","options","entropy","shortseed","mixkey","flatten","tostring","autoseed","arc4","ARC4","prng","int32","quick","S","pass","is_math_call","state","copy","keylen","me","result","typ","stringseed","smear","randomBytes","Uint8Array","crypto","msCrypto","getRandomValues","browser","plugins","screen","initialize$2","propTypes","SHAPE","_typeof$1","ExpressionManager","fetch","frames","_lottieGlobal","$bm_isInstanceOfArray","isNumerable","tOfV","$bm_neg","tOfA","lenA","retArr","easeInBez","easeOutBez","easeInOutBez","tOfB","lenB","sub","mul","mod","$bm_sum","$bm_sub","$bm_mul","$bm_div","$bm_mod","clamp","mm","radiansToDegrees","radians_to_degrees","degreesToRadians","degrees_to_radians","helperLengthArray","arr1","arr2","normalize","vec","rgbToHsl","hue2rgb","hslToRgb","linear","tMin","tMax","value1","value2","_tMin","rnd","rndm","createPath","inTangents","outTangents","arrPlaceholder","inVertexPoint","outVertexPoint","initiateExpression","property","noOp","_value","needsVelocity","_needsRandom","elemType","$bm_transform","thisProperty","valueAtTime","inPoint","outPoint","loopIn","loop_in","loopOut","loop_out","smooth","toWorld","fromWorld","fromComp","toComp","fromCompToSurface","rotation","anchorPoint","thisLayer","thisComp","velocityAtTime","scoped_bm_rt","expression_function","eval","numKeys","active","wiggle","freq","amp","iWiggle","lenWiggle","addedAmps","periods","loopInDuration","loopOutDuration","getVelocityAtTime","lookAt","elem1","elem2","fVec","pitch","yaw","easeOut","val1","val2","applyEase","easeIn","ease","iKey","lenKey","nearestKey","obKey","framesToTime","fps","timeToFrames","randSeed","substring","posterizeTime","framesPerSecond","velocity","textIndex","textTotal","selectorValue","hasParent","executeExpression","frameExpressionId","__preventDeadCodeRemoval","Expressions","stackCount","registers","pushExpression","popExpression","releaseInstances","registerExpressionProperty","expression","MaskManagerInterface","MaskInterface","_mask","_data","MaskManager","_masksInterfaces","maskFunction","ExpressionPropertyInterface","defaultUnidimensionalValue","defaultMultidimensionalValue","completeProperty","expressionValue","valueProp","speedAtTime","getSpeedAtTime","propertyGroup","UnidimensionalPropertyInterface","MultidimensionalPropertyInterface","arrValue","defaultGetter","TransformExpressionInterface","_thisFunction","xRotation","yRotation","xPosition","yPosition","zPosition","_px","_py","_pz","_transformFactory","getMatrix","toWorldMat","propMatrix","toWorldVec","applyPoint","fromWorldVec","invertPoint","sampleImage","transformInterface","_registerMaskInterface","_registerEffectsInterface","anchorPointDescriptor","defineProperties","anchor_point","startTime","_name","propertyGroupFactory","interfaceFunction","parentPropertyGroup","PropertyInterface","propertyName","_propertyGroup","effectsData","createGroupInterface","groupInterface","mn","createValueInterface","numProperties","np","enabled","en","expressionProperty","setGroupProperty","ShapePathInterface","pathInterfaceFactory","view","propertyIndex","iterateElements","groupInterfaceFactory","fillInterfaceFactory","strokeInterfaceFactory","trimInterfaceFactory","ellipseInterfaceFactory","starInterfaceFactory","rectInterfaceFactory","roundedInterfaceFactory","repeaterInterfaceFactory","gradientFillInterfaceFactory","defaultInterfaceFactory","contentsInterfaceFactory","interfaces","_interfaceFunction","transformInterfaceFactory","cix","startPoint","endPoint","_dashPropertyGroup","dashOb","addPropertyToDashOb","dash","start","skewAxis","outerRadius","outerRoundness","innerRadius","innerRoundness","parentGroupWrapper","_sourceText","sourceText","stringValue","fillColor","outlineInterfaceFactory","currentPropertyName","currentProperty","propertyNameIndex","dataInterfaceFactory","outlineInterface","dataInterface","footage","getInterface","expressionHelpers","searchExpressions","_cachingAtTime","speed","getStaticValueAtTime","addPropertyDecorator","durationFlag","lastKeyFrame","cycleDuration","firstKeyFrame","ret","initV","endV","current","repeats","lastValue","nextLastValue","firstValue","nextFirstValue","samples","endFrame","sampleFrequency","sampleValue","getTransformValueAtTime","_transformCachingAtTime","anchor","rotationZ","rotationY","rotationX","orientation","positionX","positionY","positionZ","getTransformStaticValueAtTime","propertyGetProp","getShapeValueAtTime","shapeValue","lastTime","ShapePropertyConstructorFunction","KeyframedShapePropertyConstructorFunction","ShapeExpressions","isClosed","pointOnPath","_segmentsLength","accumulatedLength","initIndex","endIndex","vectorOnPath","vectorType","xLength","yLength","magnitude","unitVector","tangentOnPath","normalOnPath","propertyGetShapeProp","trims","initialize$1","addDecorator","calculateExpression","getExpressionValue","isKeyframed","hasExpressions","initialize","SVGComposableEffect","createMergeNode","resultId","ins","feMerge","feMergeNode","linearFilterValue","SVGTintFilter","linearFilter","matrixFilter","colorBlack","colorWhite","SVGFillFilter","SVGStrokeEffect","initialized","elemChildren","childNodes","groupPath","removeAttribute","pathMasker","dasharrayValue","getTotalLength","lineLength","units","SVGTritoneFilter","feComponentTransfer","feFuncR","feFuncG","feFuncB","color1","color2","color3","tableR","tableG","tableB","SVGProLevelsFilter","createFeFunc","feFuncA","feFuncRComposed","feFuncGComposed","feFuncBComposed","getTableValue","inputBlack","inputWhite","gamma","outputBlack","outputWhite","table","colorValue","outputDelta","inputDelta","SVGDropShadowEffect","globalFilterSize","feGaussianBlur","feOffset","feFlood","feComposite","col","_svgMatteSymbols","SVGMatte3Effect","filterElem","findSymbol","replaceInParent","symbolId","nextChild","useElem","setElementAsMask","symbol","SVGGaussianBlurEffect","kBlurrinessToSigma","sigma","dimensions","sigmaX","sigmaY","edgeMode","TransformEffect","forceFrame","isUniformScale","scaleHeight","scaleWidth","SVGTransformEffect","CVTransformEffect"],"sources":["C:/xampp/htdocs/TaskMasterPro/docs/trim03/03_prototipo_funcional/TaskMaster_Pro/frontend/node_modules/lottie-web/build/player/lottie.js"],"sourcesContent":["(typeof navigator !== \"undefined\") && (function (global, factory) {\r\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\r\n  typeof define === 'function' && define.amd ? define(factory) :\r\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.lottie = factory());\r\n})(this, (function () { 'use strict';\r\n\r\n  var svgNS = 'http://www.w3.org/2000/svg';\r\n  var locationHref = '';\r\n  var _useWebWorker = false;\r\n  var initialDefaultFrame = -999999;\r\n\r\n  var setWebWorker = function setWebWorker(flag) {\r\n    _useWebWorker = !!flag;\r\n  };\r\n\r\n  var getWebWorker = function getWebWorker() {\r\n    return _useWebWorker;\r\n  };\r\n\r\n  var setLocationHref = function setLocationHref(value) {\r\n    locationHref = value;\r\n  };\r\n\r\n  var getLocationHref = function getLocationHref() {\r\n    return locationHref;\r\n  };\r\n\r\n  function createTag(type) {\r\n    // return {appendChild:function(){},setAttribute:function(){},style:{}}\r\n    return document.createElement(type);\r\n  }\r\n\r\n  function extendPrototype(sources, destination) {\r\n    var i;\r\n    var len = sources.length;\r\n    var sourcePrototype;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      sourcePrototype = sources[i].prototype;\r\n\r\n      for (var attr in sourcePrototype) {\r\n        if (Object.prototype.hasOwnProperty.call(sourcePrototype, attr)) destination.prototype[attr] = sourcePrototype[attr];\r\n      }\r\n    }\r\n  }\r\n\r\n  function getDescriptor(object, prop) {\r\n    return Object.getOwnPropertyDescriptor(object, prop);\r\n  }\r\n\r\n  function createProxyFunction(prototype) {\r\n    function ProxyFunction() {}\r\n\r\n    ProxyFunction.prototype = prototype;\r\n    return ProxyFunction;\r\n  }\r\n\r\n  // import Howl from '../../3rd_party/howler';\r\n  var audioControllerFactory = function () {\r\n    function AudioController(audioFactory) {\r\n      this.audios = [];\r\n      this.audioFactory = audioFactory;\r\n      this._volume = 1;\r\n      this._isMuted = false;\r\n    }\r\n\r\n    AudioController.prototype = {\r\n      addAudio: function addAudio(audio) {\r\n        this.audios.push(audio);\r\n      },\r\n      pause: function pause() {\r\n        var i;\r\n        var len = this.audios.length;\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n          this.audios[i].pause();\r\n        }\r\n      },\r\n      resume: function resume() {\r\n        var i;\r\n        var len = this.audios.length;\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n          this.audios[i].resume();\r\n        }\r\n      },\r\n      setRate: function setRate(rateValue) {\r\n        var i;\r\n        var len = this.audios.length;\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n          this.audios[i].setRate(rateValue);\r\n        }\r\n      },\r\n      createAudio: function createAudio(assetPath) {\r\n        if (this.audioFactory) {\r\n          return this.audioFactory(assetPath);\r\n        }\r\n\r\n        if (window.Howl) {\r\n          return new window.Howl({\r\n            src: [assetPath]\r\n          });\r\n        }\r\n\r\n        return {\r\n          isPlaying: false,\r\n          play: function play() {\r\n            this.isPlaying = true;\r\n          },\r\n          seek: function seek() {\r\n            this.isPlaying = false;\r\n          },\r\n          playing: function playing() {},\r\n          rate: function rate() {},\r\n          setVolume: function setVolume() {}\r\n        };\r\n      },\r\n      setAudioFactory: function setAudioFactory(audioFactory) {\r\n        this.audioFactory = audioFactory;\r\n      },\r\n      setVolume: function setVolume(value) {\r\n        this._volume = value;\r\n\r\n        this._updateVolume();\r\n      },\r\n      mute: function mute() {\r\n        this._isMuted = true;\r\n\r\n        this._updateVolume();\r\n      },\r\n      unmute: function unmute() {\r\n        this._isMuted = false;\r\n\r\n        this._updateVolume();\r\n      },\r\n      getVolume: function getVolume() {\r\n        return this._volume;\r\n      },\r\n      _updateVolume: function _updateVolume() {\r\n        var i;\r\n        var len = this.audios.length;\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n          this.audios[i].volume(this._volume * (this._isMuted ? 0 : 1));\r\n        }\r\n      }\r\n    };\r\n    return function () {\r\n      return new AudioController();\r\n    };\r\n  }();\r\n\r\n  var createTypedArray = function () {\r\n    function createRegularArray(type, len) {\r\n      var i = 0;\r\n      var arr = [];\r\n      var value;\r\n\r\n      switch (type) {\r\n        case 'int16':\r\n        case 'uint8c':\r\n          value = 1;\r\n          break;\r\n\r\n        default:\r\n          value = 1.1;\r\n          break;\r\n      }\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        arr.push(value);\r\n      }\r\n\r\n      return arr;\r\n    }\r\n\r\n    function createTypedArrayFactory(type, len) {\r\n      if (type === 'float32') {\r\n        return new Float32Array(len);\r\n      }\r\n\r\n      if (type === 'int16') {\r\n        return new Int16Array(len);\r\n      }\r\n\r\n      if (type === 'uint8c') {\r\n        return new Uint8ClampedArray(len);\r\n      }\r\n\r\n      return createRegularArray(type, len);\r\n    }\r\n\r\n    if (typeof Uint8ClampedArray === 'function' && typeof Float32Array === 'function') {\r\n      return createTypedArrayFactory;\r\n    }\r\n\r\n    return createRegularArray;\r\n  }();\r\n\r\n  function createSizedArray(len) {\r\n    return Array.apply(null, {\r\n      length: len\r\n    });\r\n  }\r\n\r\n  function _typeof$6(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$6 = function _typeof(obj) { return typeof obj; }; } else { _typeof$6 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$6(obj); }\r\n  var subframeEnabled = true;\r\n  var expressionsPlugin = null;\r\n  var expressionsInterfaces = null;\r\n  var idPrefix$1 = '';\r\n  var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\r\n  var _shouldRoundValues = false;\r\n  var bmPow = Math.pow;\r\n  var bmSqrt = Math.sqrt;\r\n  var bmFloor = Math.floor;\r\n  var bmMax = Math.max;\r\n  var bmMin = Math.min;\r\n  var BMMath = {};\r\n\r\n  (function () {\r\n    var propertyNames = ['abs', 'acos', 'acosh', 'asin', 'asinh', 'atan', 'atanh', 'atan2', 'ceil', 'cbrt', 'expm1', 'clz32', 'cos', 'cosh', 'exp', 'floor', 'fround', 'hypot', 'imul', 'log', 'log1p', 'log2', 'log10', 'max', 'min', 'pow', 'random', 'round', 'sign', 'sin', 'sinh', 'sqrt', 'tan', 'tanh', 'trunc', 'E', 'LN10', 'LN2', 'LOG10E', 'LOG2E', 'PI', 'SQRT1_2', 'SQRT2'];\r\n    var i;\r\n    var len = propertyNames.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      BMMath[propertyNames[i]] = Math[propertyNames[i]];\r\n    }\r\n  })();\r\n\r\n  function ProjectInterface$1() {\r\n    return {};\r\n  }\r\n\r\n  BMMath.random = Math.random;\r\n\r\n  BMMath.abs = function (val) {\r\n    var tOfVal = _typeof$6(val);\r\n\r\n    if (tOfVal === 'object' && val.length) {\r\n      var absArr = createSizedArray(val.length);\r\n      var i;\r\n      var len = val.length;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        absArr[i] = Math.abs(val[i]);\r\n      }\r\n\r\n      return absArr;\r\n    }\r\n\r\n    return Math.abs(val);\r\n  };\r\n\r\n  var defaultCurveSegments = 150;\r\n  var degToRads = Math.PI / 180;\r\n  var roundCorner = 0.5519;\r\n\r\n  function roundValues(flag) {\r\n    _shouldRoundValues = !!flag;\r\n  }\r\n\r\n  function bmRnd(value) {\r\n    if (_shouldRoundValues) {\r\n      return Math.round(value);\r\n    }\r\n\r\n    return value;\r\n  }\r\n\r\n  function styleDiv(element) {\r\n    element.style.position = 'absolute';\r\n    element.style.top = 0;\r\n    element.style.left = 0;\r\n    element.style.display = 'block';\r\n    element.style.transformOrigin = '0 0';\r\n    element.style.webkitTransformOrigin = '0 0';\r\n    element.style.backfaceVisibility = 'visible';\r\n    element.style.webkitBackfaceVisibility = 'visible';\r\n    element.style.transformStyle = 'preserve-3d';\r\n    element.style.webkitTransformStyle = 'preserve-3d';\r\n    element.style.mozTransformStyle = 'preserve-3d';\r\n  }\r\n\r\n  function BMEnterFrameEvent(type, currentTime, totalTime, frameMultiplier) {\r\n    this.type = type;\r\n    this.currentTime = currentTime;\r\n    this.totalTime = totalTime;\r\n    this.direction = frameMultiplier < 0 ? -1 : 1;\r\n  }\r\n\r\n  function BMCompleteEvent(type, frameMultiplier) {\r\n    this.type = type;\r\n    this.direction = frameMultiplier < 0 ? -1 : 1;\r\n  }\r\n\r\n  function BMCompleteLoopEvent(type, totalLoops, currentLoop, frameMultiplier) {\r\n    this.type = type;\r\n    this.currentLoop = currentLoop;\r\n    this.totalLoops = totalLoops;\r\n    this.direction = frameMultiplier < 0 ? -1 : 1;\r\n  }\r\n\r\n  function BMSegmentStartEvent(type, firstFrame, totalFrames) {\r\n    this.type = type;\r\n    this.firstFrame = firstFrame;\r\n    this.totalFrames = totalFrames;\r\n  }\r\n\r\n  function BMDestroyEvent(type, target) {\r\n    this.type = type;\r\n    this.target = target;\r\n  }\r\n\r\n  function BMRenderFrameErrorEvent(nativeError, currentTime) {\r\n    this.type = 'renderFrameError';\r\n    this.nativeError = nativeError;\r\n    this.currentTime = currentTime;\r\n  }\r\n\r\n  function BMConfigErrorEvent(nativeError) {\r\n    this.type = 'configError';\r\n    this.nativeError = nativeError;\r\n  }\r\n\r\n  function BMAnimationConfigErrorEvent(type, nativeError) {\r\n    this.type = type;\r\n    this.nativeError = nativeError;\r\n  }\r\n\r\n  var createElementID = function () {\r\n    var _count = 0;\r\n    return function createID() {\r\n      _count += 1;\r\n      return idPrefix$1 + '__lottie_element_' + _count;\r\n    };\r\n  }();\r\n\r\n  function HSVtoRGB(h, s, v) {\r\n    var r;\r\n    var g;\r\n    var b;\r\n    var i;\r\n    var f;\r\n    var p;\r\n    var q;\r\n    var t;\r\n    i = Math.floor(h * 6);\r\n    f = h * 6 - i;\r\n    p = v * (1 - s);\r\n    q = v * (1 - f * s);\r\n    t = v * (1 - (1 - f) * s);\r\n\r\n    switch (i % 6) {\r\n      case 0:\r\n        r = v;\r\n        g = t;\r\n        b = p;\r\n        break;\r\n\r\n      case 1:\r\n        r = q;\r\n        g = v;\r\n        b = p;\r\n        break;\r\n\r\n      case 2:\r\n        r = p;\r\n        g = v;\r\n        b = t;\r\n        break;\r\n\r\n      case 3:\r\n        r = p;\r\n        g = q;\r\n        b = v;\r\n        break;\r\n\r\n      case 4:\r\n        r = t;\r\n        g = p;\r\n        b = v;\r\n        break;\r\n\r\n      case 5:\r\n        r = v;\r\n        g = p;\r\n        b = q;\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n\r\n    return [r, g, b];\r\n  }\r\n\r\n  function RGBtoHSV(r, g, b) {\r\n    var max = Math.max(r, g, b);\r\n    var min = Math.min(r, g, b);\r\n    var d = max - min;\r\n    var h;\r\n    var s = max === 0 ? 0 : d / max;\r\n    var v = max / 255;\r\n\r\n    switch (max) {\r\n      case min:\r\n        h = 0;\r\n        break;\r\n\r\n      case r:\r\n        h = g - b + d * (g < b ? 6 : 0);\r\n        h /= 6 * d;\r\n        break;\r\n\r\n      case g:\r\n        h = b - r + d * 2;\r\n        h /= 6 * d;\r\n        break;\r\n\r\n      case b:\r\n        h = r - g + d * 4;\r\n        h /= 6 * d;\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n\r\n    return [h, s, v];\r\n  }\r\n\r\n  function addSaturationToRGB(color, offset) {\r\n    var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\r\n    hsv[1] += offset;\r\n\r\n    if (hsv[1] > 1) {\r\n      hsv[1] = 1;\r\n    } else if (hsv[1] <= 0) {\r\n      hsv[1] = 0;\r\n    }\r\n\r\n    return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\r\n  }\r\n\r\n  function addBrightnessToRGB(color, offset) {\r\n    var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\r\n    hsv[2] += offset;\r\n\r\n    if (hsv[2] > 1) {\r\n      hsv[2] = 1;\r\n    } else if (hsv[2] < 0) {\r\n      hsv[2] = 0;\r\n    }\r\n\r\n    return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\r\n  }\r\n\r\n  function addHueToRGB(color, offset) {\r\n    var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\r\n    hsv[0] += offset / 360;\r\n\r\n    if (hsv[0] > 1) {\r\n      hsv[0] -= 1;\r\n    } else if (hsv[0] < 0) {\r\n      hsv[0] += 1;\r\n    }\r\n\r\n    return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\r\n  }\r\n\r\n  var rgbToHex = function () {\r\n    var colorMap = [];\r\n    var i;\r\n    var hex;\r\n\r\n    for (i = 0; i < 256; i += 1) {\r\n      hex = i.toString(16);\r\n      colorMap[i] = hex.length === 1 ? '0' + hex : hex;\r\n    }\r\n\r\n    return function (r, g, b) {\r\n      if (r < 0) {\r\n        r = 0;\r\n      }\r\n\r\n      if (g < 0) {\r\n        g = 0;\r\n      }\r\n\r\n      if (b < 0) {\r\n        b = 0;\r\n      }\r\n\r\n      return '#' + colorMap[r] + colorMap[g] + colorMap[b];\r\n    };\r\n  }();\r\n\r\n  var setSubframeEnabled = function setSubframeEnabled(flag) {\r\n    subframeEnabled = !!flag;\r\n  };\r\n\r\n  var getSubframeEnabled = function getSubframeEnabled() {\r\n    return subframeEnabled;\r\n  };\r\n\r\n  var setExpressionsPlugin = function setExpressionsPlugin(value) {\r\n    expressionsPlugin = value;\r\n  };\r\n\r\n  var getExpressionsPlugin = function getExpressionsPlugin() {\r\n    return expressionsPlugin;\r\n  };\r\n\r\n  var setExpressionInterfaces = function setExpressionInterfaces(value) {\r\n    expressionsInterfaces = value;\r\n  };\r\n\r\n  var getExpressionInterfaces = function getExpressionInterfaces() {\r\n    return expressionsInterfaces;\r\n  };\r\n\r\n  var setDefaultCurveSegments = function setDefaultCurveSegments(value) {\r\n    defaultCurveSegments = value;\r\n  };\r\n\r\n  var getDefaultCurveSegments = function getDefaultCurveSegments() {\r\n    return defaultCurveSegments;\r\n  };\r\n\r\n  var setIdPrefix = function setIdPrefix(value) {\r\n    idPrefix$1 = value;\r\n  };\r\n\r\n  var getIdPrefix = function getIdPrefix() {\r\n    return idPrefix$1;\r\n  };\r\n\r\n  function createNS(type) {\r\n    // return {appendChild:function(){},setAttribute:function(){},style:{}}\r\n    return document.createElementNS(svgNS, type);\r\n  }\r\n\r\n  function _typeof$5(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$5 = function _typeof(obj) { return typeof obj; }; } else { _typeof$5 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$5(obj); }\r\n\r\n  var dataManager = function () {\r\n    var _counterId = 1;\r\n    var processes = [];\r\n    var workerFn;\r\n    var workerInstance;\r\n    var workerProxy = {\r\n      onmessage: function onmessage() {},\r\n      postMessage: function postMessage(path) {\r\n        workerFn({\r\n          data: path\r\n        });\r\n      }\r\n    };\r\n    var _workerSelf = {\r\n      postMessage: function postMessage(data) {\r\n        workerProxy.onmessage({\r\n          data: data\r\n        });\r\n      }\r\n    };\r\n\r\n    function createWorker(fn) {\r\n      if (window.Worker && window.Blob && getWebWorker()) {\r\n        var blob = new Blob(['var _workerSelf = self; self.onmessage = ', fn.toString()], {\r\n          type: 'text/javascript'\r\n        }); // var blob = new Blob(['self.onmessage = ', fn.toString()], { type: 'text/javascript' });\r\n\r\n        var url = URL.createObjectURL(blob);\r\n        return new Worker(url);\r\n      }\r\n\r\n      workerFn = fn;\r\n      return workerProxy;\r\n    }\r\n\r\n    function setupWorker() {\r\n      if (!workerInstance) {\r\n        workerInstance = createWorker(function workerStart(e) {\r\n          function dataFunctionManager() {\r\n            function completeLayers(layers, comps) {\r\n              var layerData;\r\n              var i;\r\n              var len = layers.length;\r\n              var j;\r\n              var jLen;\r\n              var k;\r\n              var kLen;\r\n\r\n              for (i = 0; i < len; i += 1) {\r\n                layerData = layers[i];\r\n\r\n                if ('ks' in layerData && !layerData.completed) {\r\n                  layerData.completed = true;\r\n\r\n                  if (layerData.hasMask) {\r\n                    var maskProps = layerData.masksProperties;\r\n                    jLen = maskProps.length;\r\n\r\n                    for (j = 0; j < jLen; j += 1) {\r\n                      if (maskProps[j].pt.k.i) {\r\n                        convertPathsToAbsoluteValues(maskProps[j].pt.k);\r\n                      } else {\r\n                        kLen = maskProps[j].pt.k.length;\r\n\r\n                        for (k = 0; k < kLen; k += 1) {\r\n                          if (maskProps[j].pt.k[k].s) {\r\n                            convertPathsToAbsoluteValues(maskProps[j].pt.k[k].s[0]);\r\n                          }\r\n\r\n                          if (maskProps[j].pt.k[k].e) {\r\n                            convertPathsToAbsoluteValues(maskProps[j].pt.k[k].e[0]);\r\n                          }\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n\r\n                  if (layerData.ty === 0) {\r\n                    layerData.layers = findCompLayers(layerData.refId, comps);\r\n                    completeLayers(layerData.layers, comps);\r\n                  } else if (layerData.ty === 4) {\r\n                    completeShapes(layerData.shapes);\r\n                  } else if (layerData.ty === 5) {\r\n                    completeText(layerData);\r\n                  }\r\n                }\r\n              }\r\n            }\r\n\r\n            function completeChars(chars, assets) {\r\n              if (chars) {\r\n                var i = 0;\r\n                var len = chars.length;\r\n\r\n                for (i = 0; i < len; i += 1) {\r\n                  if (chars[i].t === 1) {\r\n                    // var compData = findComp(chars[i].data.refId, assets);\r\n                    chars[i].data.layers = findCompLayers(chars[i].data.refId, assets); // chars[i].data.ip = 0;\r\n                    // chars[i].data.op = 99999;\r\n                    // chars[i].data.st = 0;\r\n                    // chars[i].data.sr = 1;\r\n                    // chars[i].w = compData.w;\r\n                    // chars[i].data.ks = {\r\n                    //   a: { k: [0, 0, 0], a: 0 },\r\n                    //   p: { k: [0, -compData.h, 0], a: 0 },\r\n                    //   r: { k: 0, a: 0 },\r\n                    //   s: { k: [100, 100], a: 0 },\r\n                    //   o: { k: 100, a: 0 },\r\n                    // };\r\n\r\n                    completeLayers(chars[i].data.layers, assets);\r\n                  }\r\n                }\r\n              }\r\n            }\r\n\r\n            function findComp(id, comps) {\r\n              var i = 0;\r\n              var len = comps.length;\r\n\r\n              while (i < len) {\r\n                if (comps[i].id === id) {\r\n                  return comps[i];\r\n                }\r\n\r\n                i += 1;\r\n              }\r\n\r\n              return null;\r\n            }\r\n\r\n            function findCompLayers(id, comps) {\r\n              var comp = findComp(id, comps);\r\n\r\n              if (comp) {\r\n                if (!comp.layers.__used) {\r\n                  comp.layers.__used = true;\r\n                  return comp.layers;\r\n                }\r\n\r\n                return JSON.parse(JSON.stringify(comp.layers));\r\n              }\r\n\r\n              return null;\r\n            }\r\n\r\n            function completeShapes(arr) {\r\n              var i;\r\n              var len = arr.length;\r\n              var j;\r\n              var jLen;\r\n\r\n              for (i = len - 1; i >= 0; i -= 1) {\r\n                if (arr[i].ty === 'sh') {\r\n                  if (arr[i].ks.k.i) {\r\n                    convertPathsToAbsoluteValues(arr[i].ks.k);\r\n                  } else {\r\n                    jLen = arr[i].ks.k.length;\r\n\r\n                    for (j = 0; j < jLen; j += 1) {\r\n                      if (arr[i].ks.k[j].s) {\r\n                        convertPathsToAbsoluteValues(arr[i].ks.k[j].s[0]);\r\n                      }\r\n\r\n                      if (arr[i].ks.k[j].e) {\r\n                        convertPathsToAbsoluteValues(arr[i].ks.k[j].e[0]);\r\n                      }\r\n                    }\r\n                  }\r\n                } else if (arr[i].ty === 'gr') {\r\n                  completeShapes(arr[i].it);\r\n                }\r\n              }\r\n            }\r\n\r\n            function convertPathsToAbsoluteValues(path) {\r\n              var i;\r\n              var len = path.i.length;\r\n\r\n              for (i = 0; i < len; i += 1) {\r\n                path.i[i][0] += path.v[i][0];\r\n                path.i[i][1] += path.v[i][1];\r\n                path.o[i][0] += path.v[i][0];\r\n                path.o[i][1] += path.v[i][1];\r\n              }\r\n            }\r\n\r\n            function checkVersion(minimum, animVersionString) {\r\n              var animVersion = animVersionString ? animVersionString.split('.') : [100, 100, 100];\r\n\r\n              if (minimum[0] > animVersion[0]) {\r\n                return true;\r\n              }\r\n\r\n              if (animVersion[0] > minimum[0]) {\r\n                return false;\r\n              }\r\n\r\n              if (minimum[1] > animVersion[1]) {\r\n                return true;\r\n              }\r\n\r\n              if (animVersion[1] > minimum[1]) {\r\n                return false;\r\n              }\r\n\r\n              if (minimum[2] > animVersion[2]) {\r\n                return true;\r\n              }\r\n\r\n              if (animVersion[2] > minimum[2]) {\r\n                return false;\r\n              }\r\n\r\n              return null;\r\n            }\r\n\r\n            var checkText = function () {\r\n              var minimumVersion = [4, 4, 14];\r\n\r\n              function updateTextLayer(textLayer) {\r\n                var documentData = textLayer.t.d;\r\n                textLayer.t.d = {\r\n                  k: [{\r\n                    s: documentData,\r\n                    t: 0\r\n                  }]\r\n                };\r\n              }\r\n\r\n              function iterateLayers(layers) {\r\n                var i;\r\n                var len = layers.length;\r\n\r\n                for (i = 0; i < len; i += 1) {\r\n                  if (layers[i].ty === 5) {\r\n                    updateTextLayer(layers[i]);\r\n                  }\r\n                }\r\n              }\r\n\r\n              return function (animationData) {\r\n                if (checkVersion(minimumVersion, animationData.v)) {\r\n                  iterateLayers(animationData.layers);\r\n\r\n                  if (animationData.assets) {\r\n                    var i;\r\n                    var len = animationData.assets.length;\r\n\r\n                    for (i = 0; i < len; i += 1) {\r\n                      if (animationData.assets[i].layers) {\r\n                        iterateLayers(animationData.assets[i].layers);\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              };\r\n            }();\r\n\r\n            var checkChars = function () {\r\n              var minimumVersion = [4, 7, 99];\r\n              return function (animationData) {\r\n                if (animationData.chars && !checkVersion(minimumVersion, animationData.v)) {\r\n                  var i;\r\n                  var len = animationData.chars.length;\r\n\r\n                  for (i = 0; i < len; i += 1) {\r\n                    var charData = animationData.chars[i];\r\n\r\n                    if (charData.data && charData.data.shapes) {\r\n                      completeShapes(charData.data.shapes);\r\n                      charData.data.ip = 0;\r\n                      charData.data.op = 99999;\r\n                      charData.data.st = 0;\r\n                      charData.data.sr = 1;\r\n                      charData.data.ks = {\r\n                        p: {\r\n                          k: [0, 0],\r\n                          a: 0\r\n                        },\r\n                        s: {\r\n                          k: [100, 100],\r\n                          a: 0\r\n                        },\r\n                        a: {\r\n                          k: [0, 0],\r\n                          a: 0\r\n                        },\r\n                        r: {\r\n                          k: 0,\r\n                          a: 0\r\n                        },\r\n                        o: {\r\n                          k: 100,\r\n                          a: 0\r\n                        }\r\n                      };\r\n\r\n                      if (!animationData.chars[i].t) {\r\n                        charData.data.shapes.push({\r\n                          ty: 'no'\r\n                        });\r\n                        charData.data.shapes[0].it.push({\r\n                          p: {\r\n                            k: [0, 0],\r\n                            a: 0\r\n                          },\r\n                          s: {\r\n                            k: [100, 100],\r\n                            a: 0\r\n                          },\r\n                          a: {\r\n                            k: [0, 0],\r\n                            a: 0\r\n                          },\r\n                          r: {\r\n                            k: 0,\r\n                            a: 0\r\n                          },\r\n                          o: {\r\n                            k: 100,\r\n                            a: 0\r\n                          },\r\n                          sk: {\r\n                            k: 0,\r\n                            a: 0\r\n                          },\r\n                          sa: {\r\n                            k: 0,\r\n                            a: 0\r\n                          },\r\n                          ty: 'tr'\r\n                        });\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              };\r\n            }();\r\n\r\n            var checkPathProperties = function () {\r\n              var minimumVersion = [5, 7, 15];\r\n\r\n              function updateTextLayer(textLayer) {\r\n                var pathData = textLayer.t.p;\r\n\r\n                if (typeof pathData.a === 'number') {\r\n                  pathData.a = {\r\n                    a: 0,\r\n                    k: pathData.a\r\n                  };\r\n                }\r\n\r\n                if (typeof pathData.p === 'number') {\r\n                  pathData.p = {\r\n                    a: 0,\r\n                    k: pathData.p\r\n                  };\r\n                }\r\n\r\n                if (typeof pathData.r === 'number') {\r\n                  pathData.r = {\r\n                    a: 0,\r\n                    k: pathData.r\r\n                  };\r\n                }\r\n              }\r\n\r\n              function iterateLayers(layers) {\r\n                var i;\r\n                var len = layers.length;\r\n\r\n                for (i = 0; i < len; i += 1) {\r\n                  if (layers[i].ty === 5) {\r\n                    updateTextLayer(layers[i]);\r\n                  }\r\n                }\r\n              }\r\n\r\n              return function (animationData) {\r\n                if (checkVersion(minimumVersion, animationData.v)) {\r\n                  iterateLayers(animationData.layers);\r\n\r\n                  if (animationData.assets) {\r\n                    var i;\r\n                    var len = animationData.assets.length;\r\n\r\n                    for (i = 0; i < len; i += 1) {\r\n                      if (animationData.assets[i].layers) {\r\n                        iterateLayers(animationData.assets[i].layers);\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              };\r\n            }();\r\n\r\n            var checkColors = function () {\r\n              var minimumVersion = [4, 1, 9];\r\n\r\n              function iterateShapes(shapes) {\r\n                var i;\r\n                var len = shapes.length;\r\n                var j;\r\n                var jLen;\r\n\r\n                for (i = 0; i < len; i += 1) {\r\n                  if (shapes[i].ty === 'gr') {\r\n                    iterateShapes(shapes[i].it);\r\n                  } else if (shapes[i].ty === 'fl' || shapes[i].ty === 'st') {\r\n                    if (shapes[i].c.k && shapes[i].c.k[0].i) {\r\n                      jLen = shapes[i].c.k.length;\r\n\r\n                      for (j = 0; j < jLen; j += 1) {\r\n                        if (shapes[i].c.k[j].s) {\r\n                          shapes[i].c.k[j].s[0] /= 255;\r\n                          shapes[i].c.k[j].s[1] /= 255;\r\n                          shapes[i].c.k[j].s[2] /= 255;\r\n                          shapes[i].c.k[j].s[3] /= 255;\r\n                        }\r\n\r\n                        if (shapes[i].c.k[j].e) {\r\n                          shapes[i].c.k[j].e[0] /= 255;\r\n                          shapes[i].c.k[j].e[1] /= 255;\r\n                          shapes[i].c.k[j].e[2] /= 255;\r\n                          shapes[i].c.k[j].e[3] /= 255;\r\n                        }\r\n                      }\r\n                    } else {\r\n                      shapes[i].c.k[0] /= 255;\r\n                      shapes[i].c.k[1] /= 255;\r\n                      shapes[i].c.k[2] /= 255;\r\n                      shapes[i].c.k[3] /= 255;\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n\r\n              function iterateLayers(layers) {\r\n                var i;\r\n                var len = layers.length;\r\n\r\n                for (i = 0; i < len; i += 1) {\r\n                  if (layers[i].ty === 4) {\r\n                    iterateShapes(layers[i].shapes);\r\n                  }\r\n                }\r\n              }\r\n\r\n              return function (animationData) {\r\n                if (checkVersion(minimumVersion, animationData.v)) {\r\n                  iterateLayers(animationData.layers);\r\n\r\n                  if (animationData.assets) {\r\n                    var i;\r\n                    var len = animationData.assets.length;\r\n\r\n                    for (i = 0; i < len; i += 1) {\r\n                      if (animationData.assets[i].layers) {\r\n                        iterateLayers(animationData.assets[i].layers);\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              };\r\n            }();\r\n\r\n            var checkShapes = function () {\r\n              var minimumVersion = [4, 4, 18];\r\n\r\n              function completeClosingShapes(arr) {\r\n                var i;\r\n                var len = arr.length;\r\n                var j;\r\n                var jLen;\r\n\r\n                for (i = len - 1; i >= 0; i -= 1) {\r\n                  if (arr[i].ty === 'sh') {\r\n                    if (arr[i].ks.k.i) {\r\n                      arr[i].ks.k.c = arr[i].closed;\r\n                    } else {\r\n                      jLen = arr[i].ks.k.length;\r\n\r\n                      for (j = 0; j < jLen; j += 1) {\r\n                        if (arr[i].ks.k[j].s) {\r\n                          arr[i].ks.k[j].s[0].c = arr[i].closed;\r\n                        }\r\n\r\n                        if (arr[i].ks.k[j].e) {\r\n                          arr[i].ks.k[j].e[0].c = arr[i].closed;\r\n                        }\r\n                      }\r\n                    }\r\n                  } else if (arr[i].ty === 'gr') {\r\n                    completeClosingShapes(arr[i].it);\r\n                  }\r\n                }\r\n              }\r\n\r\n              function iterateLayers(layers) {\r\n                var layerData;\r\n                var i;\r\n                var len = layers.length;\r\n                var j;\r\n                var jLen;\r\n                var k;\r\n                var kLen;\r\n\r\n                for (i = 0; i < len; i += 1) {\r\n                  layerData = layers[i];\r\n\r\n                  if (layerData.hasMask) {\r\n                    var maskProps = layerData.masksProperties;\r\n                    jLen = maskProps.length;\r\n\r\n                    for (j = 0; j < jLen; j += 1) {\r\n                      if (maskProps[j].pt.k.i) {\r\n                        maskProps[j].pt.k.c = maskProps[j].cl;\r\n                      } else {\r\n                        kLen = maskProps[j].pt.k.length;\r\n\r\n                        for (k = 0; k < kLen; k += 1) {\r\n                          if (maskProps[j].pt.k[k].s) {\r\n                            maskProps[j].pt.k[k].s[0].c = maskProps[j].cl;\r\n                          }\r\n\r\n                          if (maskProps[j].pt.k[k].e) {\r\n                            maskProps[j].pt.k[k].e[0].c = maskProps[j].cl;\r\n                          }\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n\r\n                  if (layerData.ty === 4) {\r\n                    completeClosingShapes(layerData.shapes);\r\n                  }\r\n                }\r\n              }\r\n\r\n              return function (animationData) {\r\n                if (checkVersion(minimumVersion, animationData.v)) {\r\n                  iterateLayers(animationData.layers);\r\n\r\n                  if (animationData.assets) {\r\n                    var i;\r\n                    var len = animationData.assets.length;\r\n\r\n                    for (i = 0; i < len; i += 1) {\r\n                      if (animationData.assets[i].layers) {\r\n                        iterateLayers(animationData.assets[i].layers);\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              };\r\n            }();\r\n\r\n            function completeData(animationData) {\r\n              if (animationData.__complete) {\r\n                return;\r\n              }\r\n\r\n              checkColors(animationData);\r\n              checkText(animationData);\r\n              checkChars(animationData);\r\n              checkPathProperties(animationData);\r\n              checkShapes(animationData);\r\n              completeLayers(animationData.layers, animationData.assets);\r\n              completeChars(animationData.chars, animationData.assets);\r\n              animationData.__complete = true;\r\n            }\r\n\r\n            function completeText(data) {\r\n              if (data.t.a.length === 0 && !('m' in data.t.p)) {// data.singleShape = true;\r\n              }\r\n            }\r\n\r\n            var moduleOb = {};\r\n            moduleOb.completeData = completeData;\r\n            moduleOb.checkColors = checkColors;\r\n            moduleOb.checkChars = checkChars;\r\n            moduleOb.checkPathProperties = checkPathProperties;\r\n            moduleOb.checkShapes = checkShapes;\r\n            moduleOb.completeLayers = completeLayers;\r\n            return moduleOb;\r\n          }\r\n\r\n          if (!_workerSelf.dataManager) {\r\n            _workerSelf.dataManager = dataFunctionManager();\r\n          }\r\n\r\n          if (!_workerSelf.assetLoader) {\r\n            _workerSelf.assetLoader = function () {\r\n              function formatResponse(xhr) {\r\n                // using typeof doubles the time of execution of this method,\r\n                // so if available, it's better to use the header to validate the type\r\n                var contentTypeHeader = xhr.getResponseHeader('content-type');\r\n\r\n                if (contentTypeHeader && xhr.responseType === 'json' && contentTypeHeader.indexOf('json') !== -1) {\r\n                  return xhr.response;\r\n                }\r\n\r\n                if (xhr.response && _typeof$5(xhr.response) === 'object') {\r\n                  return xhr.response;\r\n                }\r\n\r\n                if (xhr.response && typeof xhr.response === 'string') {\r\n                  return JSON.parse(xhr.response);\r\n                }\r\n\r\n                if (xhr.responseText) {\r\n                  return JSON.parse(xhr.responseText);\r\n                }\r\n\r\n                return null;\r\n              }\r\n\r\n              function loadAsset(path, fullPath, callback, errorCallback) {\r\n                var response;\r\n                var xhr = new XMLHttpRequest(); // set responseType after calling open or IE will break.\r\n\r\n                try {\r\n                  // This crashes on Android WebView prior to KitKat\r\n                  xhr.responseType = 'json';\r\n                } catch (err) {} // eslint-disable-line no-empty\r\n\r\n\r\n                xhr.onreadystatechange = function () {\r\n                  if (xhr.readyState === 4) {\r\n                    if (xhr.status === 200) {\r\n                      response = formatResponse(xhr);\r\n                      callback(response);\r\n                    } else {\r\n                      try {\r\n                        response = formatResponse(xhr);\r\n                        callback(response);\r\n                      } catch (err) {\r\n                        if (errorCallback) {\r\n                          errorCallback(err);\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n                };\r\n\r\n                try {\r\n                  // Hack to workaround banner validation\r\n                  xhr.open(['G', 'E', 'T'].join(''), path, true);\r\n                } catch (error) {\r\n                  // Hack to workaround banner validation\r\n                  xhr.open(['G', 'E', 'T'].join(''), fullPath + '/' + path, true);\r\n                }\r\n\r\n                xhr.send();\r\n              }\r\n\r\n              return {\r\n                load: loadAsset\r\n              };\r\n            }();\r\n          }\r\n\r\n          if (e.data.type === 'loadAnimation') {\r\n            _workerSelf.assetLoader.load(e.data.path, e.data.fullPath, function (data) {\r\n              _workerSelf.dataManager.completeData(data);\r\n\r\n              _workerSelf.postMessage({\r\n                id: e.data.id,\r\n                payload: data,\r\n                status: 'success'\r\n              });\r\n            }, function () {\r\n              _workerSelf.postMessage({\r\n                id: e.data.id,\r\n                status: 'error'\r\n              });\r\n            });\r\n          } else if (e.data.type === 'complete') {\r\n            var animation = e.data.animation;\r\n\r\n            _workerSelf.dataManager.completeData(animation);\r\n\r\n            _workerSelf.postMessage({\r\n              id: e.data.id,\r\n              payload: animation,\r\n              status: 'success'\r\n            });\r\n          } else if (e.data.type === 'loadData') {\r\n            _workerSelf.assetLoader.load(e.data.path, e.data.fullPath, function (data) {\r\n              _workerSelf.postMessage({\r\n                id: e.data.id,\r\n                payload: data,\r\n                status: 'success'\r\n              });\r\n            }, function () {\r\n              _workerSelf.postMessage({\r\n                id: e.data.id,\r\n                status: 'error'\r\n              });\r\n            });\r\n          }\r\n        });\r\n\r\n        workerInstance.onmessage = function (event) {\r\n          var data = event.data;\r\n          var id = data.id;\r\n          var process = processes[id];\r\n          processes[id] = null;\r\n\r\n          if (data.status === 'success') {\r\n            process.onComplete(data.payload);\r\n          } else if (process.onError) {\r\n            process.onError();\r\n          }\r\n        };\r\n      }\r\n    }\r\n\r\n    function createProcess(onComplete, onError) {\r\n      _counterId += 1;\r\n      var id = 'processId_' + _counterId;\r\n      processes[id] = {\r\n        onComplete: onComplete,\r\n        onError: onError\r\n      };\r\n      return id;\r\n    }\r\n\r\n    function loadAnimation(path, onComplete, onError) {\r\n      setupWorker();\r\n      var processId = createProcess(onComplete, onError);\r\n      workerInstance.postMessage({\r\n        type: 'loadAnimation',\r\n        path: path,\r\n        fullPath: window.location.origin + window.location.pathname,\r\n        id: processId\r\n      });\r\n    }\r\n\r\n    function loadData(path, onComplete, onError) {\r\n      setupWorker();\r\n      var processId = createProcess(onComplete, onError);\r\n      workerInstance.postMessage({\r\n        type: 'loadData',\r\n        path: path,\r\n        fullPath: window.location.origin + window.location.pathname,\r\n        id: processId\r\n      });\r\n    }\r\n\r\n    function completeAnimation(anim, onComplete, onError) {\r\n      setupWorker();\r\n      var processId = createProcess(onComplete, onError);\r\n      workerInstance.postMessage({\r\n        type: 'complete',\r\n        animation: anim,\r\n        id: processId\r\n      });\r\n    }\r\n\r\n    return {\r\n      loadAnimation: loadAnimation,\r\n      loadData: loadData,\r\n      completeAnimation: completeAnimation\r\n    };\r\n  }();\r\n\r\n  var ImagePreloader = function () {\r\n    var proxyImage = function () {\r\n      var canvas = createTag('canvas');\r\n      canvas.width = 1;\r\n      canvas.height = 1;\r\n      var ctx = canvas.getContext('2d');\r\n      ctx.fillStyle = 'rgba(0,0,0,0)';\r\n      ctx.fillRect(0, 0, 1, 1);\r\n      return canvas;\r\n    }();\r\n\r\n    function imageLoaded() {\r\n      this.loadedAssets += 1;\r\n\r\n      if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {\r\n        if (this.imagesLoadedCb) {\r\n          this.imagesLoadedCb(null);\r\n        }\r\n      }\r\n    }\r\n\r\n    function footageLoaded() {\r\n      this.loadedFootagesCount += 1;\r\n\r\n      if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {\r\n        if (this.imagesLoadedCb) {\r\n          this.imagesLoadedCb(null);\r\n        }\r\n      }\r\n    }\r\n\r\n    function getAssetsPath(assetData, assetsPath, originalPath) {\r\n      var path = '';\r\n\r\n      if (assetData.e) {\r\n        path = assetData.p;\r\n      } else if (assetsPath) {\r\n        var imagePath = assetData.p;\r\n\r\n        if (imagePath.indexOf('images/') !== -1) {\r\n          imagePath = imagePath.split('/')[1];\r\n        }\r\n\r\n        path = assetsPath + imagePath;\r\n      } else {\r\n        path = originalPath;\r\n        path += assetData.u ? assetData.u : '';\r\n        path += assetData.p;\r\n      }\r\n\r\n      return path;\r\n    }\r\n\r\n    function testImageLoaded(img) {\r\n      var _count = 0;\r\n      var intervalId = setInterval(function () {\r\n        var box = img.getBBox();\r\n\r\n        if (box.width || _count > 500) {\r\n          this._imageLoaded();\r\n\r\n          clearInterval(intervalId);\r\n        }\r\n\r\n        _count += 1;\r\n      }.bind(this), 50);\r\n    }\r\n\r\n    function createImageData(assetData) {\r\n      var path = getAssetsPath(assetData, this.assetsPath, this.path);\r\n      var img = createNS('image');\r\n\r\n      if (isSafari) {\r\n        this.testImageLoaded(img);\r\n      } else {\r\n        img.addEventListener('load', this._imageLoaded, false);\r\n      }\r\n\r\n      img.addEventListener('error', function () {\r\n        ob.img = proxyImage;\r\n\r\n        this._imageLoaded();\r\n      }.bind(this), false);\r\n      img.setAttributeNS('http://www.w3.org/1999/xlink', 'href', path);\r\n\r\n      if (this._elementHelper.append) {\r\n        this._elementHelper.append(img);\r\n      } else {\r\n        this._elementHelper.appendChild(img);\r\n      }\r\n\r\n      var ob = {\r\n        img: img,\r\n        assetData: assetData\r\n      };\r\n      return ob;\r\n    }\r\n\r\n    function createImgData(assetData) {\r\n      var path = getAssetsPath(assetData, this.assetsPath, this.path);\r\n      var img = createTag('img');\r\n      img.crossOrigin = 'anonymous';\r\n      img.addEventListener('load', this._imageLoaded, false);\r\n      img.addEventListener('error', function () {\r\n        ob.img = proxyImage;\r\n\r\n        this._imageLoaded();\r\n      }.bind(this), false);\r\n      img.src = path;\r\n      var ob = {\r\n        img: img,\r\n        assetData: assetData\r\n      };\r\n      return ob;\r\n    }\r\n\r\n    function createFootageData(data) {\r\n      var ob = {\r\n        assetData: data\r\n      };\r\n      var path = getAssetsPath(data, this.assetsPath, this.path);\r\n      dataManager.loadData(path, function (footageData) {\r\n        ob.img = footageData;\r\n\r\n        this._footageLoaded();\r\n      }.bind(this), function () {\r\n        ob.img = {};\r\n\r\n        this._footageLoaded();\r\n      }.bind(this));\r\n      return ob;\r\n    }\r\n\r\n    function loadAssets(assets, cb) {\r\n      this.imagesLoadedCb = cb;\r\n      var i;\r\n      var len = assets.length;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        if (!assets[i].layers) {\r\n          if (!assets[i].t || assets[i].t === 'seq') {\r\n            this.totalImages += 1;\r\n            this.images.push(this._createImageData(assets[i]));\r\n          } else if (assets[i].t === 3) {\r\n            this.totalFootages += 1;\r\n            this.images.push(this.createFootageData(assets[i]));\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    function setPath(path) {\r\n      this.path = path || '';\r\n    }\r\n\r\n    function setAssetsPath(path) {\r\n      this.assetsPath = path || '';\r\n    }\r\n\r\n    function getAsset(assetData) {\r\n      var i = 0;\r\n      var len = this.images.length;\r\n\r\n      while (i < len) {\r\n        if (this.images[i].assetData === assetData) {\r\n          return this.images[i].img;\r\n        }\r\n\r\n        i += 1;\r\n      }\r\n\r\n      return null;\r\n    }\r\n\r\n    function destroy() {\r\n      this.imagesLoadedCb = null;\r\n      this.images.length = 0;\r\n    }\r\n\r\n    function loadedImages() {\r\n      return this.totalImages === this.loadedAssets;\r\n    }\r\n\r\n    function loadedFootages() {\r\n      return this.totalFootages === this.loadedFootagesCount;\r\n    }\r\n\r\n    function setCacheType(type, elementHelper) {\r\n      if (type === 'svg') {\r\n        this._elementHelper = elementHelper;\r\n        this._createImageData = this.createImageData.bind(this);\r\n      } else {\r\n        this._createImageData = this.createImgData.bind(this);\r\n      }\r\n    }\r\n\r\n    function ImagePreloaderFactory() {\r\n      this._imageLoaded = imageLoaded.bind(this);\r\n      this._footageLoaded = footageLoaded.bind(this);\r\n      this.testImageLoaded = testImageLoaded.bind(this);\r\n      this.createFootageData = createFootageData.bind(this);\r\n      this.assetsPath = '';\r\n      this.path = '';\r\n      this.totalImages = 0;\r\n      this.totalFootages = 0;\r\n      this.loadedAssets = 0;\r\n      this.loadedFootagesCount = 0;\r\n      this.imagesLoadedCb = null;\r\n      this.images = [];\r\n    }\r\n\r\n    ImagePreloaderFactory.prototype = {\r\n      loadAssets: loadAssets,\r\n      setAssetsPath: setAssetsPath,\r\n      setPath: setPath,\r\n      loadedImages: loadedImages,\r\n      loadedFootages: loadedFootages,\r\n      destroy: destroy,\r\n      getAsset: getAsset,\r\n      createImgData: createImgData,\r\n      createImageData: createImageData,\r\n      imageLoaded: imageLoaded,\r\n      footageLoaded: footageLoaded,\r\n      setCacheType: setCacheType\r\n    };\r\n    return ImagePreloaderFactory;\r\n  }();\r\n\r\n  function BaseEvent() {}\r\n\r\n  BaseEvent.prototype = {\r\n    triggerEvent: function triggerEvent(eventName, args) {\r\n      if (this._cbs[eventName]) {\r\n        var callbacks = this._cbs[eventName];\r\n\r\n        for (var i = 0; i < callbacks.length; i += 1) {\r\n          callbacks[i](args);\r\n        }\r\n      }\r\n    },\r\n    addEventListener: function addEventListener(eventName, callback) {\r\n      if (!this._cbs[eventName]) {\r\n        this._cbs[eventName] = [];\r\n      }\r\n\r\n      this._cbs[eventName].push(callback);\r\n\r\n      return function () {\r\n        this.removeEventListener(eventName, callback);\r\n      }.bind(this);\r\n    },\r\n    removeEventListener: function removeEventListener(eventName, callback) {\r\n      if (!callback) {\r\n        this._cbs[eventName] = null;\r\n      } else if (this._cbs[eventName]) {\r\n        var i = 0;\r\n        var len = this._cbs[eventName].length;\r\n\r\n        while (i < len) {\r\n          if (this._cbs[eventName][i] === callback) {\r\n            this._cbs[eventName].splice(i, 1);\r\n\r\n            i -= 1;\r\n            len -= 1;\r\n          }\r\n\r\n          i += 1;\r\n        }\r\n\r\n        if (!this._cbs[eventName].length) {\r\n          this._cbs[eventName] = null;\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  var markerParser = function () {\r\n    function parsePayloadLines(payload) {\r\n      var lines = payload.split('\\r\\n');\r\n      var keys = {};\r\n      var line;\r\n      var keysCount = 0;\r\n\r\n      for (var i = 0; i < lines.length; i += 1) {\r\n        line = lines[i].split(':');\r\n\r\n        if (line.length === 2) {\r\n          keys[line[0]] = line[1].trim();\r\n          keysCount += 1;\r\n        }\r\n      }\r\n\r\n      if (keysCount === 0) {\r\n        throw new Error();\r\n      }\r\n\r\n      return keys;\r\n    }\r\n\r\n    return function (_markers) {\r\n      var markers = [];\r\n\r\n      for (var i = 0; i < _markers.length; i += 1) {\r\n        var _marker = _markers[i];\r\n        var markerData = {\r\n          time: _marker.tm,\r\n          duration: _marker.dr\r\n        };\r\n\r\n        try {\r\n          markerData.payload = JSON.parse(_markers[i].cm);\r\n        } catch (_) {\r\n          try {\r\n            markerData.payload = parsePayloadLines(_markers[i].cm);\r\n          } catch (__) {\r\n            markerData.payload = {\r\n              name: _markers[i].cm\r\n            };\r\n          }\r\n        }\r\n\r\n        markers.push(markerData);\r\n      }\r\n\r\n      return markers;\r\n    };\r\n  }();\r\n\r\n  var ProjectInterface = function () {\r\n    function registerComposition(comp) {\r\n      this.compositions.push(comp);\r\n    }\r\n\r\n    return function () {\r\n      function _thisProjectFunction(name) {\r\n        var i = 0;\r\n        var len = this.compositions.length;\r\n\r\n        while (i < len) {\r\n          if (this.compositions[i].data && this.compositions[i].data.nm === name) {\r\n            if (this.compositions[i].prepareFrame && this.compositions[i].data.xt) {\r\n              this.compositions[i].prepareFrame(this.currentFrame);\r\n            }\r\n\r\n            return this.compositions[i].compInterface;\r\n          }\r\n\r\n          i += 1;\r\n        }\r\n\r\n        return null;\r\n      }\r\n\r\n      _thisProjectFunction.compositions = [];\r\n      _thisProjectFunction.currentFrame = 0;\r\n      _thisProjectFunction.registerComposition = registerComposition;\r\n      return _thisProjectFunction;\r\n    };\r\n  }();\r\n\r\n  var renderers = {};\r\n\r\n  var registerRenderer = function registerRenderer(key, value) {\r\n    renderers[key] = value;\r\n  };\r\n\r\n  function getRenderer(key) {\r\n    return renderers[key];\r\n  }\r\n\r\n  function getRegisteredRenderer() {\r\n    // Returns canvas by default for compatibility\r\n    if (renderers.canvas) {\r\n      return 'canvas';\r\n    } // Returns any renderer that is registered\r\n\r\n\r\n    for (var key in renderers) {\r\n      if (renderers[key]) {\r\n        return key;\r\n      }\r\n    }\r\n\r\n    return '';\r\n  }\r\n\r\n  function _typeof$4(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$4 = function _typeof(obj) { return typeof obj; }; } else { _typeof$4 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$4(obj); }\r\n\r\n  var AnimationItem = function AnimationItem() {\r\n    this._cbs = [];\r\n    this.name = '';\r\n    this.path = '';\r\n    this.isLoaded = false;\r\n    this.currentFrame = 0;\r\n    this.currentRawFrame = 0;\r\n    this.firstFrame = 0;\r\n    this.totalFrames = 0;\r\n    this.frameRate = 0;\r\n    this.frameMult = 0;\r\n    this.playSpeed = 1;\r\n    this.playDirection = 1;\r\n    this.playCount = 0;\r\n    this.animationData = {};\r\n    this.assets = [];\r\n    this.isPaused = true;\r\n    this.autoplay = false;\r\n    this.loop = true;\r\n    this.renderer = null;\r\n    this.animationID = createElementID();\r\n    this.assetsPath = '';\r\n    this.timeCompleted = 0;\r\n    this.segmentPos = 0;\r\n    this.isSubframeEnabled = getSubframeEnabled();\r\n    this.segments = [];\r\n    this._idle = true;\r\n    this._completedLoop = false;\r\n    this.projectInterface = ProjectInterface();\r\n    this.imagePreloader = new ImagePreloader();\r\n    this.audioController = audioControllerFactory();\r\n    this.markers = [];\r\n    this.configAnimation = this.configAnimation.bind(this);\r\n    this.onSetupError = this.onSetupError.bind(this);\r\n    this.onSegmentComplete = this.onSegmentComplete.bind(this);\r\n    this.drawnFrameEvent = new BMEnterFrameEvent('drawnFrame', 0, 0, 0);\r\n    this.expressionsPlugin = getExpressionsPlugin();\r\n  };\r\n\r\n  extendPrototype([BaseEvent], AnimationItem);\r\n\r\n  AnimationItem.prototype.setParams = function (params) {\r\n    if (params.wrapper || params.container) {\r\n      this.wrapper = params.wrapper || params.container;\r\n    }\r\n\r\n    var animType = 'svg';\r\n\r\n    if (params.animType) {\r\n      animType = params.animType;\r\n    } else if (params.renderer) {\r\n      animType = params.renderer;\r\n    }\r\n\r\n    var RendererClass = getRenderer(animType);\r\n    this.renderer = new RendererClass(this, params.rendererSettings);\r\n    this.imagePreloader.setCacheType(animType, this.renderer.globalData.defs);\r\n    this.renderer.setProjectInterface(this.projectInterface);\r\n    this.animType = animType;\r\n\r\n    if (params.loop === '' || params.loop === null || params.loop === undefined || params.loop === true) {\r\n      this.loop = true;\r\n    } else if (params.loop === false) {\r\n      this.loop = false;\r\n    } else {\r\n      this.loop = parseInt(params.loop, 10);\r\n    }\r\n\r\n    this.autoplay = 'autoplay' in params ? params.autoplay : true;\r\n    this.name = params.name ? params.name : '';\r\n    this.autoloadSegments = Object.prototype.hasOwnProperty.call(params, 'autoloadSegments') ? params.autoloadSegments : true;\r\n    this.assetsPath = params.assetsPath;\r\n    this.initialSegment = params.initialSegment;\r\n\r\n    if (params.audioFactory) {\r\n      this.audioController.setAudioFactory(params.audioFactory);\r\n    }\r\n\r\n    if (params.animationData) {\r\n      this.setupAnimation(params.animationData);\r\n    } else if (params.path) {\r\n      if (params.path.lastIndexOf('\\\\') !== -1) {\r\n        this.path = params.path.substr(0, params.path.lastIndexOf('\\\\') + 1);\r\n      } else {\r\n        this.path = params.path.substr(0, params.path.lastIndexOf('/') + 1);\r\n      }\r\n\r\n      this.fileName = params.path.substr(params.path.lastIndexOf('/') + 1);\r\n      this.fileName = this.fileName.substr(0, this.fileName.lastIndexOf('.json'));\r\n      dataManager.loadAnimation(params.path, this.configAnimation, this.onSetupError);\r\n    }\r\n  };\r\n\r\n  AnimationItem.prototype.onSetupError = function () {\r\n    this.trigger('data_failed');\r\n  };\r\n\r\n  AnimationItem.prototype.setupAnimation = function (data) {\r\n    dataManager.completeAnimation(data, this.configAnimation);\r\n  };\r\n\r\n  AnimationItem.prototype.setData = function (wrapper, animationData) {\r\n    if (animationData) {\r\n      if (_typeof$4(animationData) !== 'object') {\r\n        animationData = JSON.parse(animationData);\r\n      }\r\n    }\r\n\r\n    var params = {\r\n      wrapper: wrapper,\r\n      animationData: animationData\r\n    };\r\n    var wrapperAttributes = wrapper.attributes;\r\n    params.path = wrapperAttributes.getNamedItem('data-animation-path') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-animation-path').value : wrapperAttributes.getNamedItem('data-bm-path') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-bm-path').value : wrapperAttributes.getNamedItem('bm-path') ? wrapperAttributes.getNamedItem('bm-path').value : '';\r\n    params.animType = wrapperAttributes.getNamedItem('data-anim-type') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-anim-type').value : wrapperAttributes.getNamedItem('data-bm-type') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-bm-type').value : wrapperAttributes.getNamedItem('bm-type') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('bm-type').value : wrapperAttributes.getNamedItem('data-bm-renderer') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-bm-renderer').value : wrapperAttributes.getNamedItem('bm-renderer') ? wrapperAttributes.getNamedItem('bm-renderer').value : getRegisteredRenderer() || 'canvas';\r\n    var loop = wrapperAttributes.getNamedItem('data-anim-loop') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-anim-loop').value : wrapperAttributes.getNamedItem('data-bm-loop') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-bm-loop').value : wrapperAttributes.getNamedItem('bm-loop') ? wrapperAttributes.getNamedItem('bm-loop').value : '';\r\n\r\n    if (loop === 'false') {\r\n      params.loop = false;\r\n    } else if (loop === 'true') {\r\n      params.loop = true;\r\n    } else if (loop !== '') {\r\n      params.loop = parseInt(loop, 10);\r\n    }\r\n\r\n    var autoplay = wrapperAttributes.getNamedItem('data-anim-autoplay') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-anim-autoplay').value : wrapperAttributes.getNamedItem('data-bm-autoplay') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-bm-autoplay').value : wrapperAttributes.getNamedItem('bm-autoplay') ? wrapperAttributes.getNamedItem('bm-autoplay').value : true;\r\n    params.autoplay = autoplay !== 'false';\r\n    params.name = wrapperAttributes.getNamedItem('data-name') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-name').value : wrapperAttributes.getNamedItem('data-bm-name') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-bm-name').value : wrapperAttributes.getNamedItem('bm-name') ? wrapperAttributes.getNamedItem('bm-name').value : '';\r\n    var prerender = wrapperAttributes.getNamedItem('data-anim-prerender') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-anim-prerender').value : wrapperAttributes.getNamedItem('data-bm-prerender') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-bm-prerender').value : wrapperAttributes.getNamedItem('bm-prerender') ? wrapperAttributes.getNamedItem('bm-prerender').value : '';\r\n\r\n    if (prerender === 'false') {\r\n      params.prerender = false;\r\n    }\r\n\r\n    if (!params.path) {\r\n      this.trigger('destroy');\r\n    } else {\r\n      this.setParams(params);\r\n    }\r\n  };\r\n\r\n  AnimationItem.prototype.includeLayers = function (data) {\r\n    if (data.op > this.animationData.op) {\r\n      this.animationData.op = data.op;\r\n      this.totalFrames = Math.floor(data.op - this.animationData.ip);\r\n    }\r\n\r\n    var layers = this.animationData.layers;\r\n    var i;\r\n    var len = layers.length;\r\n    var newLayers = data.layers;\r\n    var j;\r\n    var jLen = newLayers.length;\r\n\r\n    for (j = 0; j < jLen; j += 1) {\r\n      i = 0;\r\n\r\n      while (i < len) {\r\n        if (layers[i].id === newLayers[j].id) {\r\n          layers[i] = newLayers[j];\r\n          break;\r\n        }\r\n\r\n        i += 1;\r\n      }\r\n    }\r\n\r\n    if (data.chars || data.fonts) {\r\n      this.renderer.globalData.fontManager.addChars(data.chars);\r\n      this.renderer.globalData.fontManager.addFonts(data.fonts, this.renderer.globalData.defs);\r\n    }\r\n\r\n    if (data.assets) {\r\n      len = data.assets.length;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        this.animationData.assets.push(data.assets[i]);\r\n      }\r\n    }\r\n\r\n    this.animationData.__complete = false;\r\n    dataManager.completeAnimation(this.animationData, this.onSegmentComplete);\r\n  };\r\n\r\n  AnimationItem.prototype.onSegmentComplete = function (data) {\r\n    this.animationData = data;\r\n    var expressionsPlugin = getExpressionsPlugin();\r\n\r\n    if (expressionsPlugin) {\r\n      expressionsPlugin.initExpressions(this);\r\n    }\r\n\r\n    this.loadNextSegment();\r\n  };\r\n\r\n  AnimationItem.prototype.loadNextSegment = function () {\r\n    var segments = this.animationData.segments;\r\n\r\n    if (!segments || segments.length === 0 || !this.autoloadSegments) {\r\n      this.trigger('data_ready');\r\n      this.timeCompleted = this.totalFrames;\r\n      return;\r\n    }\r\n\r\n    var segment = segments.shift();\r\n    this.timeCompleted = segment.time * this.frameRate;\r\n    var segmentPath = this.path + this.fileName + '_' + this.segmentPos + '.json';\r\n    this.segmentPos += 1;\r\n    dataManager.loadData(segmentPath, this.includeLayers.bind(this), function () {\r\n      this.trigger('data_failed');\r\n    }.bind(this));\r\n  };\r\n\r\n  AnimationItem.prototype.loadSegments = function () {\r\n    var segments = this.animationData.segments;\r\n\r\n    if (!segments) {\r\n      this.timeCompleted = this.totalFrames;\r\n    }\r\n\r\n    this.loadNextSegment();\r\n  };\r\n\r\n  AnimationItem.prototype.imagesLoaded = function () {\r\n    this.trigger('loaded_images');\r\n    this.checkLoaded();\r\n  };\r\n\r\n  AnimationItem.prototype.preloadImages = function () {\r\n    this.imagePreloader.setAssetsPath(this.assetsPath);\r\n    this.imagePreloader.setPath(this.path);\r\n    this.imagePreloader.loadAssets(this.animationData.assets, this.imagesLoaded.bind(this));\r\n  };\r\n\r\n  AnimationItem.prototype.configAnimation = function (animData) {\r\n    if (!this.renderer) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      this.animationData = animData;\r\n\r\n      if (this.initialSegment) {\r\n        this.totalFrames = Math.floor(this.initialSegment[1] - this.initialSegment[0]);\r\n        this.firstFrame = Math.round(this.initialSegment[0]);\r\n      } else {\r\n        this.totalFrames = Math.floor(this.animationData.op - this.animationData.ip);\r\n        this.firstFrame = Math.round(this.animationData.ip);\r\n      }\r\n\r\n      this.renderer.configAnimation(animData);\r\n\r\n      if (!animData.assets) {\r\n        animData.assets = [];\r\n      }\r\n\r\n      this.assets = this.animationData.assets;\r\n      this.frameRate = this.animationData.fr;\r\n      this.frameMult = this.animationData.fr / 1000;\r\n      this.renderer.searchExtraCompositions(animData.assets);\r\n      this.markers = markerParser(animData.markers || []);\r\n      this.trigger('config_ready');\r\n      this.preloadImages();\r\n      this.loadSegments();\r\n      this.updaFrameModifier();\r\n      this.waitForFontsLoaded();\r\n\r\n      if (this.isPaused) {\r\n        this.audioController.pause();\r\n      }\r\n    } catch (error) {\r\n      this.triggerConfigError(error);\r\n    }\r\n  };\r\n\r\n  AnimationItem.prototype.waitForFontsLoaded = function () {\r\n    if (!this.renderer) {\r\n      return;\r\n    }\r\n\r\n    if (this.renderer.globalData.fontManager.isLoaded) {\r\n      this.checkLoaded();\r\n    } else {\r\n      setTimeout(this.waitForFontsLoaded.bind(this), 20);\r\n    }\r\n  };\r\n\r\n  AnimationItem.prototype.checkLoaded = function () {\r\n    if (!this.isLoaded && this.renderer.globalData.fontManager.isLoaded && (this.imagePreloader.loadedImages() || this.renderer.rendererType !== 'canvas') && this.imagePreloader.loadedFootages()) {\r\n      this.isLoaded = true;\r\n      var expressionsPlugin = getExpressionsPlugin();\r\n\r\n      if (expressionsPlugin) {\r\n        expressionsPlugin.initExpressions(this);\r\n      }\r\n\r\n      this.renderer.initItems();\r\n      setTimeout(function () {\r\n        this.trigger('DOMLoaded');\r\n      }.bind(this), 0);\r\n      this.gotoFrame();\r\n\r\n      if (this.autoplay) {\r\n        this.play();\r\n      }\r\n    }\r\n  };\r\n\r\n  AnimationItem.prototype.resize = function (width, height) {\r\n    // Adding this validation for backwards compatibility in case an event object was being passed down\r\n    var _width = typeof width === 'number' ? width : undefined;\r\n\r\n    var _height = typeof height === 'number' ? height : undefined;\r\n\r\n    this.renderer.updateContainerSize(_width, _height);\r\n  };\r\n\r\n  AnimationItem.prototype.setSubframe = function (flag) {\r\n    this.isSubframeEnabled = !!flag;\r\n  };\r\n\r\n  AnimationItem.prototype.gotoFrame = function () {\r\n    this.currentFrame = this.isSubframeEnabled ? this.currentRawFrame : ~~this.currentRawFrame; // eslint-disable-line no-bitwise\r\n\r\n    if (this.timeCompleted !== this.totalFrames && this.currentFrame > this.timeCompleted) {\r\n      this.currentFrame = this.timeCompleted;\r\n    }\r\n\r\n    this.trigger('enterFrame');\r\n    this.renderFrame();\r\n    this.trigger('drawnFrame');\r\n  };\r\n\r\n  AnimationItem.prototype.renderFrame = function () {\r\n    if (this.isLoaded === false || !this.renderer) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      if (this.expressionsPlugin) {\r\n        this.expressionsPlugin.resetFrame();\r\n      }\r\n\r\n      this.renderer.renderFrame(this.currentFrame + this.firstFrame);\r\n    } catch (error) {\r\n      this.triggerRenderFrameError(error);\r\n    }\r\n  };\r\n\r\n  AnimationItem.prototype.play = function (name) {\r\n    if (name && this.name !== name) {\r\n      return;\r\n    }\r\n\r\n    if (this.isPaused === true) {\r\n      this.isPaused = false;\r\n      this.trigger('_play');\r\n      this.audioController.resume();\r\n\r\n      if (this._idle) {\r\n        this._idle = false;\r\n        this.trigger('_active');\r\n      }\r\n    }\r\n  };\r\n\r\n  AnimationItem.prototype.pause = function (name) {\r\n    if (name && this.name !== name) {\r\n      return;\r\n    }\r\n\r\n    if (this.isPaused === false) {\r\n      this.isPaused = true;\r\n      this.trigger('_pause');\r\n      this._idle = true;\r\n      this.trigger('_idle');\r\n      this.audioController.pause();\r\n    }\r\n  };\r\n\r\n  AnimationItem.prototype.togglePause = function (name) {\r\n    if (name && this.name !== name) {\r\n      return;\r\n    }\r\n\r\n    if (this.isPaused === true) {\r\n      this.play();\r\n    } else {\r\n      this.pause();\r\n    }\r\n  };\r\n\r\n  AnimationItem.prototype.stop = function (name) {\r\n    if (name && this.name !== name) {\r\n      return;\r\n    }\r\n\r\n    this.pause();\r\n    this.playCount = 0;\r\n    this._completedLoop = false;\r\n    this.setCurrentRawFrameValue(0);\r\n  };\r\n\r\n  AnimationItem.prototype.getMarkerData = function (markerName) {\r\n    var marker;\r\n\r\n    for (var i = 0; i < this.markers.length; i += 1) {\r\n      marker = this.markers[i];\r\n\r\n      if (marker.payload && marker.payload.name === markerName) {\r\n        return marker;\r\n      }\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  AnimationItem.prototype.goToAndStop = function (value, isFrame, name) {\r\n    if (name && this.name !== name) {\r\n      return;\r\n    }\r\n\r\n    var numValue = Number(value);\r\n\r\n    if (isNaN(numValue)) {\r\n      var marker = this.getMarkerData(value);\r\n\r\n      if (marker) {\r\n        this.goToAndStop(marker.time, true);\r\n      }\r\n    } else if (isFrame) {\r\n      this.setCurrentRawFrameValue(value);\r\n    } else {\r\n      this.setCurrentRawFrameValue(value * this.frameModifier);\r\n    }\r\n\r\n    this.pause();\r\n  };\r\n\r\n  AnimationItem.prototype.goToAndPlay = function (value, isFrame, name) {\r\n    if (name && this.name !== name) {\r\n      return;\r\n    }\r\n\r\n    var numValue = Number(value);\r\n\r\n    if (isNaN(numValue)) {\r\n      var marker = this.getMarkerData(value);\r\n\r\n      if (marker) {\r\n        if (!marker.duration) {\r\n          this.goToAndStop(marker.time, true);\r\n        } else {\r\n          this.playSegments([marker.time, marker.time + marker.duration], true);\r\n        }\r\n      }\r\n    } else {\r\n      this.goToAndStop(numValue, isFrame, name);\r\n    }\r\n\r\n    this.play();\r\n  };\r\n\r\n  AnimationItem.prototype.advanceTime = function (value) {\r\n    if (this.isPaused === true || this.isLoaded === false) {\r\n      return;\r\n    }\r\n\r\n    var nextValue = this.currentRawFrame + value * this.frameModifier;\r\n    var _isComplete = false; // Checking if nextValue > totalFrames - 1 for addressing non looping and looping animations.\r\n    // If animation won't loop, it should stop at totalFrames - 1. If it will loop it should complete the last frame and then loop.\r\n\r\n    if (nextValue >= this.totalFrames - 1 && this.frameModifier > 0) {\r\n      if (!this.loop || this.playCount === this.loop) {\r\n        if (!this.checkSegments(nextValue > this.totalFrames ? nextValue % this.totalFrames : 0)) {\r\n          _isComplete = true;\r\n          nextValue = this.totalFrames - 1;\r\n        }\r\n      } else if (nextValue >= this.totalFrames) {\r\n        this.playCount += 1;\r\n\r\n        if (!this.checkSegments(nextValue % this.totalFrames)) {\r\n          this.setCurrentRawFrameValue(nextValue % this.totalFrames);\r\n          this._completedLoop = true;\r\n          this.trigger('loopComplete');\r\n        }\r\n      } else {\r\n        this.setCurrentRawFrameValue(nextValue);\r\n      }\r\n    } else if (nextValue < 0) {\r\n      if (!this.checkSegments(nextValue % this.totalFrames)) {\r\n        if (this.loop && !(this.playCount-- <= 0 && this.loop !== true)) {\r\n          // eslint-disable-line no-plusplus\r\n          this.setCurrentRawFrameValue(this.totalFrames + nextValue % this.totalFrames);\r\n\r\n          if (!this._completedLoop) {\r\n            this._completedLoop = true;\r\n          } else {\r\n            this.trigger('loopComplete');\r\n          }\r\n        } else {\r\n          _isComplete = true;\r\n          nextValue = 0;\r\n        }\r\n      }\r\n    } else {\r\n      this.setCurrentRawFrameValue(nextValue);\r\n    }\r\n\r\n    if (_isComplete) {\r\n      this.setCurrentRawFrameValue(nextValue);\r\n      this.pause();\r\n      this.trigger('complete');\r\n    }\r\n  };\r\n\r\n  AnimationItem.prototype.adjustSegment = function (arr, offset) {\r\n    this.playCount = 0;\r\n\r\n    if (arr[1] < arr[0]) {\r\n      if (this.frameModifier > 0) {\r\n        if (this.playSpeed < 0) {\r\n          this.setSpeed(-this.playSpeed);\r\n        } else {\r\n          this.setDirection(-1);\r\n        }\r\n      }\r\n\r\n      this.totalFrames = arr[0] - arr[1];\r\n      this.timeCompleted = this.totalFrames;\r\n      this.firstFrame = arr[1];\r\n      this.setCurrentRawFrameValue(this.totalFrames - 0.001 - offset);\r\n    } else if (arr[1] > arr[0]) {\r\n      if (this.frameModifier < 0) {\r\n        if (this.playSpeed < 0) {\r\n          this.setSpeed(-this.playSpeed);\r\n        } else {\r\n          this.setDirection(1);\r\n        }\r\n      }\r\n\r\n      this.totalFrames = arr[1] - arr[0];\r\n      this.timeCompleted = this.totalFrames;\r\n      this.firstFrame = arr[0];\r\n      this.setCurrentRawFrameValue(0.001 + offset);\r\n    }\r\n\r\n    this.trigger('segmentStart');\r\n  };\r\n\r\n  AnimationItem.prototype.setSegment = function (init, end) {\r\n    var pendingFrame = -1;\r\n\r\n    if (this.isPaused) {\r\n      if (this.currentRawFrame + this.firstFrame < init) {\r\n        pendingFrame = init;\r\n      } else if (this.currentRawFrame + this.firstFrame > end) {\r\n        pendingFrame = end - init;\r\n      }\r\n    }\r\n\r\n    this.firstFrame = init;\r\n    this.totalFrames = end - init;\r\n    this.timeCompleted = this.totalFrames;\r\n\r\n    if (pendingFrame !== -1) {\r\n      this.goToAndStop(pendingFrame, true);\r\n    }\r\n  };\r\n\r\n  AnimationItem.prototype.playSegments = function (arr, forceFlag) {\r\n    if (forceFlag) {\r\n      this.segments.length = 0;\r\n    }\r\n\r\n    if (_typeof$4(arr[0]) === 'object') {\r\n      var i;\r\n      var len = arr.length;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        this.segments.push(arr[i]);\r\n      }\r\n    } else {\r\n      this.segments.push(arr);\r\n    }\r\n\r\n    if (this.segments.length && forceFlag) {\r\n      this.adjustSegment(this.segments.shift(), 0);\r\n    }\r\n\r\n    if (this.isPaused) {\r\n      this.play();\r\n    }\r\n  };\r\n\r\n  AnimationItem.prototype.resetSegments = function (forceFlag) {\r\n    this.segments.length = 0;\r\n    this.segments.push([this.animationData.ip, this.animationData.op]);\r\n\r\n    if (forceFlag) {\r\n      this.checkSegments(0);\r\n    }\r\n  };\r\n\r\n  AnimationItem.prototype.checkSegments = function (offset) {\r\n    if (this.segments.length) {\r\n      this.adjustSegment(this.segments.shift(), offset);\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  };\r\n\r\n  AnimationItem.prototype.destroy = function (name) {\r\n    if (name && this.name !== name || !this.renderer) {\r\n      return;\r\n    }\r\n\r\n    this.renderer.destroy();\r\n    this.imagePreloader.destroy();\r\n    this.trigger('destroy');\r\n    this._cbs = null;\r\n    this.onEnterFrame = null;\r\n    this.onLoopComplete = null;\r\n    this.onComplete = null;\r\n    this.onSegmentStart = null;\r\n    this.onDestroy = null;\r\n    this.renderer = null;\r\n    this.expressionsPlugin = null;\r\n    this.imagePreloader = null;\r\n    this.projectInterface = null;\r\n  };\r\n\r\n  AnimationItem.prototype.setCurrentRawFrameValue = function (value) {\r\n    this.currentRawFrame = value;\r\n    this.gotoFrame();\r\n  };\r\n\r\n  AnimationItem.prototype.setSpeed = function (val) {\r\n    this.playSpeed = val;\r\n    this.updaFrameModifier();\r\n  };\r\n\r\n  AnimationItem.prototype.setDirection = function (val) {\r\n    this.playDirection = val < 0 ? -1 : 1;\r\n    this.updaFrameModifier();\r\n  };\r\n\r\n  AnimationItem.prototype.setLoop = function (isLooping) {\r\n    this.loop = isLooping;\r\n  };\r\n\r\n  AnimationItem.prototype.setVolume = function (val, name) {\r\n    if (name && this.name !== name) {\r\n      return;\r\n    }\r\n\r\n    this.audioController.setVolume(val);\r\n  };\r\n\r\n  AnimationItem.prototype.getVolume = function () {\r\n    return this.audioController.getVolume();\r\n  };\r\n\r\n  AnimationItem.prototype.mute = function (name) {\r\n    if (name && this.name !== name) {\r\n      return;\r\n    }\r\n\r\n    this.audioController.mute();\r\n  };\r\n\r\n  AnimationItem.prototype.unmute = function (name) {\r\n    if (name && this.name !== name) {\r\n      return;\r\n    }\r\n\r\n    this.audioController.unmute();\r\n  };\r\n\r\n  AnimationItem.prototype.updaFrameModifier = function () {\r\n    this.frameModifier = this.frameMult * this.playSpeed * this.playDirection;\r\n    this.audioController.setRate(this.playSpeed * this.playDirection);\r\n  };\r\n\r\n  AnimationItem.prototype.getPath = function () {\r\n    return this.path;\r\n  };\r\n\r\n  AnimationItem.prototype.getAssetsPath = function (assetData) {\r\n    var path = '';\r\n\r\n    if (assetData.e) {\r\n      path = assetData.p;\r\n    } else if (this.assetsPath) {\r\n      var imagePath = assetData.p;\r\n\r\n      if (imagePath.indexOf('images/') !== -1) {\r\n        imagePath = imagePath.split('/')[1];\r\n      }\r\n\r\n      path = this.assetsPath + imagePath;\r\n    } else {\r\n      path = this.path;\r\n      path += assetData.u ? assetData.u : '';\r\n      path += assetData.p;\r\n    }\r\n\r\n    return path;\r\n  };\r\n\r\n  AnimationItem.prototype.getAssetData = function (id) {\r\n    var i = 0;\r\n    var len = this.assets.length;\r\n\r\n    while (i < len) {\r\n      if (id === this.assets[i].id) {\r\n        return this.assets[i];\r\n      }\r\n\r\n      i += 1;\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  AnimationItem.prototype.hide = function () {\r\n    this.renderer.hide();\r\n  };\r\n\r\n  AnimationItem.prototype.show = function () {\r\n    this.renderer.show();\r\n  };\r\n\r\n  AnimationItem.prototype.getDuration = function (isFrame) {\r\n    return isFrame ? this.totalFrames : this.totalFrames / this.frameRate;\r\n  };\r\n\r\n  AnimationItem.prototype.updateDocumentData = function (path, documentData, index) {\r\n    try {\r\n      var element = this.renderer.getElementByPath(path);\r\n      element.updateDocumentData(documentData, index);\r\n    } catch (error) {// TODO: decide how to handle catch case\r\n    }\r\n  };\r\n\r\n  AnimationItem.prototype.trigger = function (name) {\r\n    if (this._cbs && this._cbs[name]) {\r\n      switch (name) {\r\n        case 'enterFrame':\r\n          this.triggerEvent(name, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameModifier));\r\n          break;\r\n\r\n        case 'drawnFrame':\r\n          this.drawnFrameEvent.currentTime = this.currentFrame;\r\n          this.drawnFrameEvent.totalTime = this.totalFrames;\r\n          this.drawnFrameEvent.direction = this.frameModifier;\r\n          this.triggerEvent(name, this.drawnFrameEvent);\r\n          break;\r\n\r\n        case 'loopComplete':\r\n          this.triggerEvent(name, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\r\n          break;\r\n\r\n        case 'complete':\r\n          this.triggerEvent(name, new BMCompleteEvent(name, this.frameMult));\r\n          break;\r\n\r\n        case 'segmentStart':\r\n          this.triggerEvent(name, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\r\n          break;\r\n\r\n        case 'destroy':\r\n          this.triggerEvent(name, new BMDestroyEvent(name, this));\r\n          break;\r\n\r\n        default:\r\n          this.triggerEvent(name);\r\n      }\r\n    }\r\n\r\n    if (name === 'enterFrame' && this.onEnterFrame) {\r\n      this.onEnterFrame.call(this, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameMult));\r\n    }\r\n\r\n    if (name === 'loopComplete' && this.onLoopComplete) {\r\n      this.onLoopComplete.call(this, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\r\n    }\r\n\r\n    if (name === 'complete' && this.onComplete) {\r\n      this.onComplete.call(this, new BMCompleteEvent(name, this.frameMult));\r\n    }\r\n\r\n    if (name === 'segmentStart' && this.onSegmentStart) {\r\n      this.onSegmentStart.call(this, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\r\n    }\r\n\r\n    if (name === 'destroy' && this.onDestroy) {\r\n      this.onDestroy.call(this, new BMDestroyEvent(name, this));\r\n    }\r\n  };\r\n\r\n  AnimationItem.prototype.triggerRenderFrameError = function (nativeError) {\r\n    var error = new BMRenderFrameErrorEvent(nativeError, this.currentFrame);\r\n    this.triggerEvent('error', error);\r\n\r\n    if (this.onError) {\r\n      this.onError.call(this, error);\r\n    }\r\n  };\r\n\r\n  AnimationItem.prototype.triggerConfigError = function (nativeError) {\r\n    var error = new BMConfigErrorEvent(nativeError, this.currentFrame);\r\n    this.triggerEvent('error', error);\r\n\r\n    if (this.onError) {\r\n      this.onError.call(this, error);\r\n    }\r\n  };\r\n\r\n  var animationManager = function () {\r\n    var moduleOb = {};\r\n    var registeredAnimations = [];\r\n    var initTime = 0;\r\n    var len = 0;\r\n    var playingAnimationsNum = 0;\r\n    var _stopped = true;\r\n    var _isFrozen = false;\r\n\r\n    function removeElement(ev) {\r\n      var i = 0;\r\n      var animItem = ev.target;\r\n\r\n      while (i < len) {\r\n        if (registeredAnimations[i].animation === animItem) {\r\n          registeredAnimations.splice(i, 1);\r\n          i -= 1;\r\n          len -= 1;\r\n\r\n          if (!animItem.isPaused) {\r\n            subtractPlayingCount();\r\n          }\r\n        }\r\n\r\n        i += 1;\r\n      }\r\n    }\r\n\r\n    function registerAnimation(element, animationData) {\r\n      if (!element) {\r\n        return null;\r\n      }\r\n\r\n      var i = 0;\r\n\r\n      while (i < len) {\r\n        if (registeredAnimations[i].elem === element && registeredAnimations[i].elem !== null) {\r\n          return registeredAnimations[i].animation;\r\n        }\r\n\r\n        i += 1;\r\n      }\r\n\r\n      var animItem = new AnimationItem();\r\n      setupAnimation(animItem, element);\r\n      animItem.setData(element, animationData);\r\n      return animItem;\r\n    }\r\n\r\n    function getRegisteredAnimations() {\r\n      var i;\r\n      var lenAnims = registeredAnimations.length;\r\n      var animations = [];\r\n\r\n      for (i = 0; i < lenAnims; i += 1) {\r\n        animations.push(registeredAnimations[i].animation);\r\n      }\r\n\r\n      return animations;\r\n    }\r\n\r\n    function addPlayingCount() {\r\n      playingAnimationsNum += 1;\r\n      activate();\r\n    }\r\n\r\n    function subtractPlayingCount() {\r\n      playingAnimationsNum -= 1;\r\n    }\r\n\r\n    function setupAnimation(animItem, element) {\r\n      animItem.addEventListener('destroy', removeElement);\r\n      animItem.addEventListener('_active', addPlayingCount);\r\n      animItem.addEventListener('_idle', subtractPlayingCount);\r\n      registeredAnimations.push({\r\n        elem: element,\r\n        animation: animItem\r\n      });\r\n      len += 1;\r\n    }\r\n\r\n    function loadAnimation(params) {\r\n      var animItem = new AnimationItem();\r\n      setupAnimation(animItem, null);\r\n      animItem.setParams(params);\r\n      return animItem;\r\n    }\r\n\r\n    function setSpeed(val, animation) {\r\n      var i;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        registeredAnimations[i].animation.setSpeed(val, animation);\r\n      }\r\n    }\r\n\r\n    function setDirection(val, animation) {\r\n      var i;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        registeredAnimations[i].animation.setDirection(val, animation);\r\n      }\r\n    }\r\n\r\n    function play(animation) {\r\n      var i;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        registeredAnimations[i].animation.play(animation);\r\n      }\r\n    }\r\n\r\n    function resume(nowTime) {\r\n      var elapsedTime = nowTime - initTime;\r\n      var i;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        registeredAnimations[i].animation.advanceTime(elapsedTime);\r\n      }\r\n\r\n      initTime = nowTime;\r\n\r\n      if (playingAnimationsNum && !_isFrozen) {\r\n        window.requestAnimationFrame(resume);\r\n      } else {\r\n        _stopped = true;\r\n      }\r\n    }\r\n\r\n    function first(nowTime) {\r\n      initTime = nowTime;\r\n      window.requestAnimationFrame(resume);\r\n    }\r\n\r\n    function pause(animation) {\r\n      var i;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        registeredAnimations[i].animation.pause(animation);\r\n      }\r\n    }\r\n\r\n    function goToAndStop(value, isFrame, animation) {\r\n      var i;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        registeredAnimations[i].animation.goToAndStop(value, isFrame, animation);\r\n      }\r\n    }\r\n\r\n    function stop(animation) {\r\n      var i;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        registeredAnimations[i].animation.stop(animation);\r\n      }\r\n    }\r\n\r\n    function togglePause(animation) {\r\n      var i;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        registeredAnimations[i].animation.togglePause(animation);\r\n      }\r\n    }\r\n\r\n    function destroy(animation) {\r\n      var i;\r\n\r\n      for (i = len - 1; i >= 0; i -= 1) {\r\n        registeredAnimations[i].animation.destroy(animation);\r\n      }\r\n    }\r\n\r\n    function searchAnimations(animationData, standalone, renderer) {\r\n      var animElements = [].concat([].slice.call(document.getElementsByClassName('lottie')), [].slice.call(document.getElementsByClassName('bodymovin')));\r\n      var i;\r\n      var lenAnims = animElements.length;\r\n\r\n      for (i = 0; i < lenAnims; i += 1) {\r\n        if (renderer) {\r\n          animElements[i].setAttribute('data-bm-type', renderer);\r\n        }\r\n\r\n        registerAnimation(animElements[i], animationData);\r\n      }\r\n\r\n      if (standalone && lenAnims === 0) {\r\n        if (!renderer) {\r\n          renderer = 'svg';\r\n        }\r\n\r\n        var body = document.getElementsByTagName('body')[0];\r\n        body.innerText = '';\r\n        var div = createTag('div');\r\n        div.style.width = '100%';\r\n        div.style.height = '100%';\r\n        div.setAttribute('data-bm-type', renderer);\r\n        body.appendChild(div);\r\n        registerAnimation(div, animationData);\r\n      }\r\n    }\r\n\r\n    function resize() {\r\n      var i;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        registeredAnimations[i].animation.resize();\r\n      }\r\n    }\r\n\r\n    function activate() {\r\n      if (!_isFrozen && playingAnimationsNum) {\r\n        if (_stopped) {\r\n          window.requestAnimationFrame(first);\r\n          _stopped = false;\r\n        }\r\n      }\r\n    }\r\n\r\n    function freeze() {\r\n      _isFrozen = true;\r\n    }\r\n\r\n    function unfreeze() {\r\n      _isFrozen = false;\r\n      activate();\r\n    }\r\n\r\n    function setVolume(val, animation) {\r\n      var i;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        registeredAnimations[i].animation.setVolume(val, animation);\r\n      }\r\n    }\r\n\r\n    function mute(animation) {\r\n      var i;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        registeredAnimations[i].animation.mute(animation);\r\n      }\r\n    }\r\n\r\n    function unmute(animation) {\r\n      var i;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        registeredAnimations[i].animation.unmute(animation);\r\n      }\r\n    }\r\n\r\n    moduleOb.registerAnimation = registerAnimation;\r\n    moduleOb.loadAnimation = loadAnimation;\r\n    moduleOb.setSpeed = setSpeed;\r\n    moduleOb.setDirection = setDirection;\r\n    moduleOb.play = play;\r\n    moduleOb.pause = pause;\r\n    moduleOb.stop = stop;\r\n    moduleOb.togglePause = togglePause;\r\n    moduleOb.searchAnimations = searchAnimations;\r\n    moduleOb.resize = resize; // moduleOb.start = start;\r\n\r\n    moduleOb.goToAndStop = goToAndStop;\r\n    moduleOb.destroy = destroy;\r\n    moduleOb.freeze = freeze;\r\n    moduleOb.unfreeze = unfreeze;\r\n    moduleOb.setVolume = setVolume;\r\n    moduleOb.mute = mute;\r\n    moduleOb.unmute = unmute;\r\n    moduleOb.getRegisteredAnimations = getRegisteredAnimations;\r\n    return moduleOb;\r\n  }();\r\n\r\n  /* eslint-disable */\r\n  var BezierFactory = function () {\r\n    /**\r\n       * BezierEasing - use bezier curve for transition easing function\r\n       * by Gatan Renaudeau 2014 - 2015  MIT License\r\n       *\r\n       * Credits: is based on Firefox's nsSMILKeySpline.cpp\r\n       * Usage:\r\n       * var spline = BezierEasing([ 0.25, 0.1, 0.25, 1.0 ])\r\n       * spline.get(x) => returns the easing value | x must be in [0, 1] range\r\n       *\r\n       */\r\n    var ob = {};\r\n    ob.getBezierEasing = getBezierEasing;\r\n    var beziers = {};\r\n\r\n    function getBezierEasing(a, b, c, d, nm) {\r\n      var str = nm || ('bez_' + a + '_' + b + '_' + c + '_' + d).replace(/\\./g, 'p');\r\n\r\n      if (beziers[str]) {\r\n        return beziers[str];\r\n      }\r\n\r\n      var bezEasing = new BezierEasing([a, b, c, d]);\r\n      beziers[str] = bezEasing;\r\n      return bezEasing;\r\n    } // These values are established by empiricism with tests (tradeoff: performance VS precision)\r\n\r\n\r\n    var NEWTON_ITERATIONS = 4;\r\n    var NEWTON_MIN_SLOPE = 0.001;\r\n    var SUBDIVISION_PRECISION = 0.0000001;\r\n    var SUBDIVISION_MAX_ITERATIONS = 10;\r\n    var kSplineTableSize = 11;\r\n    var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\r\n    var float32ArraySupported = typeof Float32Array === 'function';\r\n\r\n    function A(aA1, aA2) {\r\n      return 1.0 - 3.0 * aA2 + 3.0 * aA1;\r\n    }\r\n\r\n    function B(aA1, aA2) {\r\n      return 3.0 * aA2 - 6.0 * aA1;\r\n    }\r\n\r\n    function C(aA1) {\r\n      return 3.0 * aA1;\r\n    } // Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\r\n\r\n\r\n    function calcBezier(aT, aA1, aA2) {\r\n      return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT;\r\n    } // Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\r\n\r\n\r\n    function getSlope(aT, aA1, aA2) {\r\n      return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\r\n    }\r\n\r\n    function binarySubdivide(aX, aA, aB, mX1, mX2) {\r\n      var currentX,\r\n          currentT,\r\n          i = 0;\r\n\r\n      do {\r\n        currentT = aA + (aB - aA) / 2.0;\r\n        currentX = calcBezier(currentT, mX1, mX2) - aX;\r\n\r\n        if (currentX > 0.0) {\r\n          aB = currentT;\r\n        } else {\r\n          aA = currentT;\r\n        }\r\n      } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\r\n\r\n      return currentT;\r\n    }\r\n\r\n    function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\r\n      for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\r\n        var currentSlope = getSlope(aGuessT, mX1, mX2);\r\n        if (currentSlope === 0.0) return aGuessT;\r\n        var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\r\n        aGuessT -= currentX / currentSlope;\r\n      }\r\n\r\n      return aGuessT;\r\n    }\r\n    /**\r\n       * points is an array of [ mX1, mY1, mX2, mY2 ]\r\n       */\r\n\r\n\r\n    function BezierEasing(points) {\r\n      this._p = points;\r\n      this._mSampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\r\n      this._precomputed = false;\r\n      this.get = this.get.bind(this);\r\n    }\r\n\r\n    BezierEasing.prototype = {\r\n      get: function get(x) {\r\n        var mX1 = this._p[0],\r\n            mY1 = this._p[1],\r\n            mX2 = this._p[2],\r\n            mY2 = this._p[3];\r\n        if (!this._precomputed) this._precompute();\r\n        if (mX1 === mY1 && mX2 === mY2) return x; // linear\r\n        // Because JavaScript number are imprecise, we should guarantee the extremes are right.\r\n\r\n        if (x === 0) return 0;\r\n        if (x === 1) return 1;\r\n        return calcBezier(this._getTForX(x), mY1, mY2);\r\n      },\r\n      // Private part\r\n      _precompute: function _precompute() {\r\n        var mX1 = this._p[0],\r\n            mY1 = this._p[1],\r\n            mX2 = this._p[2],\r\n            mY2 = this._p[3];\r\n        this._precomputed = true;\r\n\r\n        if (mX1 !== mY1 || mX2 !== mY2) {\r\n          this._calcSampleValues();\r\n        }\r\n      },\r\n      _calcSampleValues: function _calcSampleValues() {\r\n        var mX1 = this._p[0],\r\n            mX2 = this._p[2];\r\n\r\n        for (var i = 0; i < kSplineTableSize; ++i) {\r\n          this._mSampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\r\n        }\r\n      },\r\n\r\n      /**\r\n           * getTForX chose the fastest heuristic to determine the percentage value precisely from a given X projection.\r\n           */\r\n      _getTForX: function _getTForX(aX) {\r\n        var mX1 = this._p[0],\r\n            mX2 = this._p[2],\r\n            mSampleValues = this._mSampleValues;\r\n        var intervalStart = 0.0;\r\n        var currentSample = 1;\r\n        var lastSample = kSplineTableSize - 1;\r\n\r\n        for (; currentSample !== lastSample && mSampleValues[currentSample] <= aX; ++currentSample) {\r\n          intervalStart += kSampleStepSize;\r\n        }\r\n\r\n        --currentSample; // Interpolate to provide an initial guess for t\r\n\r\n        var dist = (aX - mSampleValues[currentSample]) / (mSampleValues[currentSample + 1] - mSampleValues[currentSample]);\r\n        var guessForT = intervalStart + dist * kSampleStepSize;\r\n        var initialSlope = getSlope(guessForT, mX1, mX2);\r\n\r\n        if (initialSlope >= NEWTON_MIN_SLOPE) {\r\n          return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\r\n        }\r\n\r\n        if (initialSlope === 0.0) {\r\n          return guessForT;\r\n        }\r\n\r\n        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\r\n      }\r\n    };\r\n    return ob;\r\n  }();\r\n\r\n  var pooling = function () {\r\n    function _double(arr) {\r\n      return arr.concat(createSizedArray(arr.length));\r\n    }\r\n\r\n    return {\r\n      \"double\": _double\r\n    };\r\n  }();\r\n\r\n  var poolFactory = function () {\r\n    return function (initialLength, _create, _release) {\r\n      var _length = 0;\r\n      var _maxLength = initialLength;\r\n      var pool = createSizedArray(_maxLength);\r\n      var ob = {\r\n        newElement: newElement,\r\n        release: release\r\n      };\r\n\r\n      function newElement() {\r\n        var element;\r\n\r\n        if (_length) {\r\n          _length -= 1;\r\n          element = pool[_length];\r\n        } else {\r\n          element = _create();\r\n        }\r\n\r\n        return element;\r\n      }\r\n\r\n      function release(element) {\r\n        if (_length === _maxLength) {\r\n          pool = pooling[\"double\"](pool);\r\n          _maxLength *= 2;\r\n        }\r\n\r\n        if (_release) {\r\n          _release(element);\r\n        }\r\n\r\n        pool[_length] = element;\r\n        _length += 1;\r\n      }\r\n\r\n      return ob;\r\n    };\r\n  }();\r\n\r\n  var bezierLengthPool = function () {\r\n    function create() {\r\n      return {\r\n        addedLength: 0,\r\n        percents: createTypedArray('float32', getDefaultCurveSegments()),\r\n        lengths: createTypedArray('float32', getDefaultCurveSegments())\r\n      };\r\n    }\r\n\r\n    return poolFactory(8, create);\r\n  }();\r\n\r\n  var segmentsLengthPool = function () {\r\n    function create() {\r\n      return {\r\n        lengths: [],\r\n        totalLength: 0\r\n      };\r\n    }\r\n\r\n    function release(element) {\r\n      var i;\r\n      var len = element.lengths.length;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        bezierLengthPool.release(element.lengths[i]);\r\n      }\r\n\r\n      element.lengths.length = 0;\r\n    }\r\n\r\n    return poolFactory(8, create, release);\r\n  }();\r\n\r\n  function bezFunction() {\r\n    var math = Math;\r\n\r\n    function pointOnLine2D(x1, y1, x2, y2, x3, y3) {\r\n      var det1 = x1 * y2 + y1 * x3 + x2 * y3 - x3 * y2 - y3 * x1 - x2 * y1;\r\n      return det1 > -0.001 && det1 < 0.001;\r\n    }\r\n\r\n    function pointOnLine3D(x1, y1, z1, x2, y2, z2, x3, y3, z3) {\r\n      if (z1 === 0 && z2 === 0 && z3 === 0) {\r\n        return pointOnLine2D(x1, y1, x2, y2, x3, y3);\r\n      }\r\n\r\n      var dist1 = math.sqrt(math.pow(x2 - x1, 2) + math.pow(y2 - y1, 2) + math.pow(z2 - z1, 2));\r\n      var dist2 = math.sqrt(math.pow(x3 - x1, 2) + math.pow(y3 - y1, 2) + math.pow(z3 - z1, 2));\r\n      var dist3 = math.sqrt(math.pow(x3 - x2, 2) + math.pow(y3 - y2, 2) + math.pow(z3 - z2, 2));\r\n      var diffDist;\r\n\r\n      if (dist1 > dist2) {\r\n        if (dist1 > dist3) {\r\n          diffDist = dist1 - dist2 - dist3;\r\n        } else {\r\n          diffDist = dist3 - dist2 - dist1;\r\n        }\r\n      } else if (dist3 > dist2) {\r\n        diffDist = dist3 - dist2 - dist1;\r\n      } else {\r\n        diffDist = dist2 - dist1 - dist3;\r\n      }\r\n\r\n      return diffDist > -0.0001 && diffDist < 0.0001;\r\n    }\r\n\r\n    var getBezierLength = function () {\r\n      return function (pt1, pt2, pt3, pt4) {\r\n        var curveSegments = getDefaultCurveSegments();\r\n        var k;\r\n        var i;\r\n        var len;\r\n        var ptCoord;\r\n        var perc;\r\n        var addedLength = 0;\r\n        var ptDistance;\r\n        var point = [];\r\n        var lastPoint = [];\r\n        var lengthData = bezierLengthPool.newElement();\r\n        len = pt3.length;\r\n\r\n        for (k = 0; k < curveSegments; k += 1) {\r\n          perc = k / (curveSegments - 1);\r\n          ptDistance = 0;\r\n\r\n          for (i = 0; i < len; i += 1) {\r\n            ptCoord = bmPow(1 - perc, 3) * pt1[i] + 3 * bmPow(1 - perc, 2) * perc * pt3[i] + 3 * (1 - perc) * bmPow(perc, 2) * pt4[i] + bmPow(perc, 3) * pt2[i];\r\n            point[i] = ptCoord;\r\n\r\n            if (lastPoint[i] !== null) {\r\n              ptDistance += bmPow(point[i] - lastPoint[i], 2);\r\n            }\r\n\r\n            lastPoint[i] = point[i];\r\n          }\r\n\r\n          if (ptDistance) {\r\n            ptDistance = bmSqrt(ptDistance);\r\n            addedLength += ptDistance;\r\n          }\r\n\r\n          lengthData.percents[k] = perc;\r\n          lengthData.lengths[k] = addedLength;\r\n        }\r\n\r\n        lengthData.addedLength = addedLength;\r\n        return lengthData;\r\n      };\r\n    }();\r\n\r\n    function getSegmentsLength(shapeData) {\r\n      var segmentsLength = segmentsLengthPool.newElement();\r\n      var closed = shapeData.c;\r\n      var pathV = shapeData.v;\r\n      var pathO = shapeData.o;\r\n      var pathI = shapeData.i;\r\n      var i;\r\n      var len = shapeData._length;\r\n      var lengths = segmentsLength.lengths;\r\n      var totalLength = 0;\r\n\r\n      for (i = 0; i < len - 1; i += 1) {\r\n        lengths[i] = getBezierLength(pathV[i], pathV[i + 1], pathO[i], pathI[i + 1]);\r\n        totalLength += lengths[i].addedLength;\r\n      }\r\n\r\n      if (closed && len) {\r\n        lengths[i] = getBezierLength(pathV[i], pathV[0], pathO[i], pathI[0]);\r\n        totalLength += lengths[i].addedLength;\r\n      }\r\n\r\n      segmentsLength.totalLength = totalLength;\r\n      return segmentsLength;\r\n    }\r\n\r\n    function BezierData(length) {\r\n      this.segmentLength = 0;\r\n      this.points = new Array(length);\r\n    }\r\n\r\n    function PointData(partial, point) {\r\n      this.partialLength = partial;\r\n      this.point = point;\r\n    }\r\n\r\n    var buildBezierData = function () {\r\n      var storedData = {};\r\n      return function (pt1, pt2, pt3, pt4) {\r\n        var bezierName = (pt1[0] + '_' + pt1[1] + '_' + pt2[0] + '_' + pt2[1] + '_' + pt3[0] + '_' + pt3[1] + '_' + pt4[0] + '_' + pt4[1]).replace(/\\./g, 'p');\r\n\r\n        if (!storedData[bezierName]) {\r\n          var curveSegments = getDefaultCurveSegments();\r\n          var k;\r\n          var i;\r\n          var len;\r\n          var ptCoord;\r\n          var perc;\r\n          var addedLength = 0;\r\n          var ptDistance;\r\n          var point;\r\n          var lastPoint = null;\r\n\r\n          if (pt1.length === 2 && (pt1[0] !== pt2[0] || pt1[1] !== pt2[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt1[0] + pt3[0], pt1[1] + pt3[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt2[0] + pt4[0], pt2[1] + pt4[1])) {\r\n            curveSegments = 2;\r\n          }\r\n\r\n          var bezierData = new BezierData(curveSegments);\r\n          len = pt3.length;\r\n\r\n          for (k = 0; k < curveSegments; k += 1) {\r\n            point = createSizedArray(len);\r\n            perc = k / (curveSegments - 1);\r\n            ptDistance = 0;\r\n\r\n            for (i = 0; i < len; i += 1) {\r\n              ptCoord = bmPow(1 - perc, 3) * pt1[i] + 3 * bmPow(1 - perc, 2) * perc * (pt1[i] + pt3[i]) + 3 * (1 - perc) * bmPow(perc, 2) * (pt2[i] + pt4[i]) + bmPow(perc, 3) * pt2[i];\r\n              point[i] = ptCoord;\r\n\r\n              if (lastPoint !== null) {\r\n                ptDistance += bmPow(point[i] - lastPoint[i], 2);\r\n              }\r\n            }\r\n\r\n            ptDistance = bmSqrt(ptDistance);\r\n            addedLength += ptDistance;\r\n            bezierData.points[k] = new PointData(ptDistance, point);\r\n            lastPoint = point;\r\n          }\r\n\r\n          bezierData.segmentLength = addedLength;\r\n          storedData[bezierName] = bezierData;\r\n        }\r\n\r\n        return storedData[bezierName];\r\n      };\r\n    }();\r\n\r\n    function getDistancePerc(perc, bezierData) {\r\n      var percents = bezierData.percents;\r\n      var lengths = bezierData.lengths;\r\n      var len = percents.length;\r\n      var initPos = bmFloor((len - 1) * perc);\r\n      var lengthPos = perc * bezierData.addedLength;\r\n      var lPerc = 0;\r\n\r\n      if (initPos === len - 1 || initPos === 0 || lengthPos === lengths[initPos]) {\r\n        return percents[initPos];\r\n      }\r\n\r\n      var dir = lengths[initPos] > lengthPos ? -1 : 1;\r\n      var flag = true;\r\n\r\n      while (flag) {\r\n        if (lengths[initPos] <= lengthPos && lengths[initPos + 1] > lengthPos) {\r\n          lPerc = (lengthPos - lengths[initPos]) / (lengths[initPos + 1] - lengths[initPos]);\r\n          flag = false;\r\n        } else {\r\n          initPos += dir;\r\n        }\r\n\r\n        if (initPos < 0 || initPos >= len - 1) {\r\n          // FIX for TypedArrays that don't store floating point values with enough accuracy\r\n          if (initPos === len - 1) {\r\n            return percents[initPos];\r\n          }\r\n\r\n          flag = false;\r\n        }\r\n      }\r\n\r\n      return percents[initPos] + (percents[initPos + 1] - percents[initPos]) * lPerc;\r\n    }\r\n\r\n    function getPointInSegment(pt1, pt2, pt3, pt4, percent, bezierData) {\r\n      var t1 = getDistancePerc(percent, bezierData);\r\n      var u1 = 1 - t1;\r\n      var ptX = math.round((u1 * u1 * u1 * pt1[0] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[0] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[0] + t1 * t1 * t1 * pt2[0]) * 1000) / 1000;\r\n      var ptY = math.round((u1 * u1 * u1 * pt1[1] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[1] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[1] + t1 * t1 * t1 * pt2[1]) * 1000) / 1000;\r\n      return [ptX, ptY];\r\n    }\r\n\r\n    var bezierSegmentPoints = createTypedArray('float32', 8);\r\n\r\n    function getNewSegment(pt1, pt2, pt3, pt4, startPerc, endPerc, bezierData) {\r\n      if (startPerc < 0) {\r\n        startPerc = 0;\r\n      } else if (startPerc > 1) {\r\n        startPerc = 1;\r\n      }\r\n\r\n      var t0 = getDistancePerc(startPerc, bezierData);\r\n      endPerc = endPerc > 1 ? 1 : endPerc;\r\n      var t1 = getDistancePerc(endPerc, bezierData);\r\n      var i;\r\n      var len = pt1.length;\r\n      var u0 = 1 - t0;\r\n      var u1 = 1 - t1;\r\n      var u0u0u0 = u0 * u0 * u0;\r\n      var t0u0u0_3 = t0 * u0 * u0 * 3; // eslint-disable-line camelcase\r\n\r\n      var t0t0u0_3 = t0 * t0 * u0 * 3; // eslint-disable-line camelcase\r\n\r\n      var t0t0t0 = t0 * t0 * t0; //\r\n\r\n      var u0u0u1 = u0 * u0 * u1;\r\n      var t0u0u1_3 = t0 * u0 * u1 + u0 * t0 * u1 + u0 * u0 * t1; // eslint-disable-line camelcase\r\n\r\n      var t0t0u1_3 = t0 * t0 * u1 + u0 * t0 * t1 + t0 * u0 * t1; // eslint-disable-line camelcase\r\n\r\n      var t0t0t1 = t0 * t0 * t1; //\r\n\r\n      var u0u1u1 = u0 * u1 * u1;\r\n      var t0u1u1_3 = t0 * u1 * u1 + u0 * t1 * u1 + u0 * u1 * t1; // eslint-disable-line camelcase\r\n\r\n      var t0t1u1_3 = t0 * t1 * u1 + u0 * t1 * t1 + t0 * u1 * t1; // eslint-disable-line camelcase\r\n\r\n      var t0t1t1 = t0 * t1 * t1; //\r\n\r\n      var u1u1u1 = u1 * u1 * u1;\r\n      var t1u1u1_3 = t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1; // eslint-disable-line camelcase\r\n\r\n      var t1t1u1_3 = t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1; // eslint-disable-line camelcase\r\n\r\n      var t1t1t1 = t1 * t1 * t1;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        bezierSegmentPoints[i * 4] = math.round((u0u0u0 * pt1[i] + t0u0u0_3 * pt3[i] + t0t0u0_3 * pt4[i] + t0t0t0 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\r\n\r\n        bezierSegmentPoints[i * 4 + 1] = math.round((u0u0u1 * pt1[i] + t0u0u1_3 * pt3[i] + t0t0u1_3 * pt4[i] + t0t0t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\r\n\r\n        bezierSegmentPoints[i * 4 + 2] = math.round((u0u1u1 * pt1[i] + t0u1u1_3 * pt3[i] + t0t1u1_3 * pt4[i] + t0t1t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\r\n\r\n        bezierSegmentPoints[i * 4 + 3] = math.round((u1u1u1 * pt1[i] + t1u1u1_3 * pt3[i] + t1t1u1_3 * pt4[i] + t1t1t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\r\n      }\r\n\r\n      return bezierSegmentPoints;\r\n    }\r\n\r\n    return {\r\n      getSegmentsLength: getSegmentsLength,\r\n      getNewSegment: getNewSegment,\r\n      getPointInSegment: getPointInSegment,\r\n      buildBezierData: buildBezierData,\r\n      pointOnLine2D: pointOnLine2D,\r\n      pointOnLine3D: pointOnLine3D\r\n    };\r\n  }\r\n\r\n  var bez = bezFunction();\r\n\r\n  var initFrame = initialDefaultFrame;\r\n  var mathAbs = Math.abs;\r\n\r\n  function interpolateValue(frameNum, caching) {\r\n    var offsetTime = this.offsetTime;\r\n    var newValue;\r\n\r\n    if (this.propType === 'multidimensional') {\r\n      newValue = createTypedArray('float32', this.pv.length);\r\n    }\r\n\r\n    var iterationIndex = caching.lastIndex;\r\n    var i = iterationIndex;\r\n    var len = this.keyframes.length - 1;\r\n    var flag = true;\r\n    var keyData;\r\n    var nextKeyData;\r\n    var keyframeMetadata;\r\n\r\n    while (flag) {\r\n      keyData = this.keyframes[i];\r\n      nextKeyData = this.keyframes[i + 1];\r\n\r\n      if (i === len - 1 && frameNum >= nextKeyData.t - offsetTime) {\r\n        if (keyData.h) {\r\n          keyData = nextKeyData;\r\n        }\r\n\r\n        iterationIndex = 0;\r\n        break;\r\n      }\r\n\r\n      if (nextKeyData.t - offsetTime > frameNum) {\r\n        iterationIndex = i;\r\n        break;\r\n      }\r\n\r\n      if (i < len - 1) {\r\n        i += 1;\r\n      } else {\r\n        iterationIndex = 0;\r\n        flag = false;\r\n      }\r\n    }\r\n\r\n    keyframeMetadata = this.keyframesMetadata[i] || {};\r\n    var k;\r\n    var kLen;\r\n    var perc;\r\n    var jLen;\r\n    var j;\r\n    var fnc;\r\n    var nextKeyTime = nextKeyData.t - offsetTime;\r\n    var keyTime = keyData.t - offsetTime;\r\n    var endValue;\r\n\r\n    if (keyData.to) {\r\n      if (!keyframeMetadata.bezierData) {\r\n        keyframeMetadata.bezierData = bez.buildBezierData(keyData.s, nextKeyData.s || keyData.e, keyData.to, keyData.ti);\r\n      }\r\n\r\n      var bezierData = keyframeMetadata.bezierData;\r\n\r\n      if (frameNum >= nextKeyTime || frameNum < keyTime) {\r\n        var ind = frameNum >= nextKeyTime ? bezierData.points.length - 1 : 0;\r\n        kLen = bezierData.points[ind].point.length;\r\n\r\n        for (k = 0; k < kLen; k += 1) {\r\n          newValue[k] = bezierData.points[ind].point[k];\r\n        } // caching._lastKeyframeIndex = -1;\r\n\r\n      } else {\r\n        if (keyframeMetadata.__fnct) {\r\n          fnc = keyframeMetadata.__fnct;\r\n        } else {\r\n          fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y, keyData.n).get;\r\n          keyframeMetadata.__fnct = fnc;\r\n        }\r\n\r\n        perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\r\n        var distanceInLine = bezierData.segmentLength * perc;\r\n        var segmentPerc;\r\n        var addedLength = caching.lastFrame < frameNum && caching._lastKeyframeIndex === i ? caching._lastAddedLength : 0;\r\n        j = caching.lastFrame < frameNum && caching._lastKeyframeIndex === i ? caching._lastPoint : 0;\r\n        flag = true;\r\n        jLen = bezierData.points.length;\r\n\r\n        while (flag) {\r\n          addedLength += bezierData.points[j].partialLength;\r\n\r\n          if (distanceInLine === 0 || perc === 0 || j === bezierData.points.length - 1) {\r\n            kLen = bezierData.points[j].point.length;\r\n\r\n            for (k = 0; k < kLen; k += 1) {\r\n              newValue[k] = bezierData.points[j].point[k];\r\n            }\r\n\r\n            break;\r\n          } else if (distanceInLine >= addedLength && distanceInLine < addedLength + bezierData.points[j + 1].partialLength) {\r\n            segmentPerc = (distanceInLine - addedLength) / bezierData.points[j + 1].partialLength;\r\n            kLen = bezierData.points[j].point.length;\r\n\r\n            for (k = 0; k < kLen; k += 1) {\r\n              newValue[k] = bezierData.points[j].point[k] + (bezierData.points[j + 1].point[k] - bezierData.points[j].point[k]) * segmentPerc;\r\n            }\r\n\r\n            break;\r\n          }\r\n\r\n          if (j < jLen - 1) {\r\n            j += 1;\r\n          } else {\r\n            flag = false;\r\n          }\r\n        }\r\n\r\n        caching._lastPoint = j;\r\n        caching._lastAddedLength = addedLength - bezierData.points[j].partialLength;\r\n        caching._lastKeyframeIndex = i;\r\n      }\r\n    } else {\r\n      var outX;\r\n      var outY;\r\n      var inX;\r\n      var inY;\r\n      var keyValue;\r\n      len = keyData.s.length;\r\n      endValue = nextKeyData.s || keyData.e;\r\n\r\n      if (this.sh && keyData.h !== 1) {\r\n        if (frameNum >= nextKeyTime) {\r\n          newValue[0] = endValue[0];\r\n          newValue[1] = endValue[1];\r\n          newValue[2] = endValue[2];\r\n        } else if (frameNum <= keyTime) {\r\n          newValue[0] = keyData.s[0];\r\n          newValue[1] = keyData.s[1];\r\n          newValue[2] = keyData.s[2];\r\n        } else {\r\n          var quatStart = createQuaternion(keyData.s);\r\n          var quatEnd = createQuaternion(endValue);\r\n          var time = (frameNum - keyTime) / (nextKeyTime - keyTime);\r\n          quaternionToEuler(newValue, slerp(quatStart, quatEnd, time));\r\n        }\r\n      } else {\r\n        for (i = 0; i < len; i += 1) {\r\n          if (keyData.h !== 1) {\r\n            if (frameNum >= nextKeyTime) {\r\n              perc = 1;\r\n            } else if (frameNum < keyTime) {\r\n              perc = 0;\r\n            } else {\r\n              if (keyData.o.x.constructor === Array) {\r\n                if (!keyframeMetadata.__fnct) {\r\n                  keyframeMetadata.__fnct = [];\r\n                }\r\n\r\n                if (!keyframeMetadata.__fnct[i]) {\r\n                  outX = keyData.o.x[i] === undefined ? keyData.o.x[0] : keyData.o.x[i];\r\n                  outY = keyData.o.y[i] === undefined ? keyData.o.y[0] : keyData.o.y[i];\r\n                  inX = keyData.i.x[i] === undefined ? keyData.i.x[0] : keyData.i.x[i];\r\n                  inY = keyData.i.y[i] === undefined ? keyData.i.y[0] : keyData.i.y[i];\r\n                  fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\r\n                  keyframeMetadata.__fnct[i] = fnc;\r\n                } else {\r\n                  fnc = keyframeMetadata.__fnct[i];\r\n                }\r\n              } else if (!keyframeMetadata.__fnct) {\r\n                outX = keyData.o.x;\r\n                outY = keyData.o.y;\r\n                inX = keyData.i.x;\r\n                inY = keyData.i.y;\r\n                fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\r\n                keyData.keyframeMetadata = fnc;\r\n              } else {\r\n                fnc = keyframeMetadata.__fnct;\r\n              }\r\n\r\n              perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\r\n            }\r\n          }\r\n\r\n          endValue = nextKeyData.s || keyData.e;\r\n          keyValue = keyData.h === 1 ? keyData.s[i] : keyData.s[i] + (endValue[i] - keyData.s[i]) * perc;\r\n\r\n          if (this.propType === 'multidimensional') {\r\n            newValue[i] = keyValue;\r\n          } else {\r\n            newValue = keyValue;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    caching.lastIndex = iterationIndex;\r\n    return newValue;\r\n  } // based on @Toji's https://github.com/toji/gl-matrix/\r\n\r\n\r\n  function slerp(a, b, t) {\r\n    var out = [];\r\n    var ax = a[0];\r\n    var ay = a[1];\r\n    var az = a[2];\r\n    var aw = a[3];\r\n    var bx = b[0];\r\n    var by = b[1];\r\n    var bz = b[2];\r\n    var bw = b[3];\r\n    var omega;\r\n    var cosom;\r\n    var sinom;\r\n    var scale0;\r\n    var scale1;\r\n    cosom = ax * bx + ay * by + az * bz + aw * bw;\r\n\r\n    if (cosom < 0.0) {\r\n      cosom = -cosom;\r\n      bx = -bx;\r\n      by = -by;\r\n      bz = -bz;\r\n      bw = -bw;\r\n    }\r\n\r\n    if (1.0 - cosom > 0.000001) {\r\n      omega = Math.acos(cosom);\r\n      sinom = Math.sin(omega);\r\n      scale0 = Math.sin((1.0 - t) * omega) / sinom;\r\n      scale1 = Math.sin(t * omega) / sinom;\r\n    } else {\r\n      scale0 = 1.0 - t;\r\n      scale1 = t;\r\n    }\r\n\r\n    out[0] = scale0 * ax + scale1 * bx;\r\n    out[1] = scale0 * ay + scale1 * by;\r\n    out[2] = scale0 * az + scale1 * bz;\r\n    out[3] = scale0 * aw + scale1 * bw;\r\n    return out;\r\n  }\r\n\r\n  function quaternionToEuler(out, quat) {\r\n    var qx = quat[0];\r\n    var qy = quat[1];\r\n    var qz = quat[2];\r\n    var qw = quat[3];\r\n    var heading = Math.atan2(2 * qy * qw - 2 * qx * qz, 1 - 2 * qy * qy - 2 * qz * qz);\r\n    var attitude = Math.asin(2 * qx * qy + 2 * qz * qw);\r\n    var bank = Math.atan2(2 * qx * qw - 2 * qy * qz, 1 - 2 * qx * qx - 2 * qz * qz);\r\n    out[0] = heading / degToRads;\r\n    out[1] = attitude / degToRads;\r\n    out[2] = bank / degToRads;\r\n  }\r\n\r\n  function createQuaternion(values) {\r\n    var heading = values[0] * degToRads;\r\n    var attitude = values[1] * degToRads;\r\n    var bank = values[2] * degToRads;\r\n    var c1 = Math.cos(heading / 2);\r\n    var c2 = Math.cos(attitude / 2);\r\n    var c3 = Math.cos(bank / 2);\r\n    var s1 = Math.sin(heading / 2);\r\n    var s2 = Math.sin(attitude / 2);\r\n    var s3 = Math.sin(bank / 2);\r\n    var w = c1 * c2 * c3 - s1 * s2 * s3;\r\n    var x = s1 * s2 * c3 + c1 * c2 * s3;\r\n    var y = s1 * c2 * c3 + c1 * s2 * s3;\r\n    var z = c1 * s2 * c3 - s1 * c2 * s3;\r\n    return [x, y, z, w];\r\n  }\r\n\r\n  function getValueAtCurrentTime() {\r\n    var frameNum = this.comp.renderedFrame - this.offsetTime;\r\n    var initTime = this.keyframes[0].t - this.offsetTime;\r\n    var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\r\n\r\n    if (!(frameNum === this._caching.lastFrame || this._caching.lastFrame !== initFrame && (this._caching.lastFrame >= endTime && frameNum >= endTime || this._caching.lastFrame < initTime && frameNum < initTime))) {\r\n      if (this._caching.lastFrame >= frameNum) {\r\n        this._caching._lastKeyframeIndex = -1;\r\n        this._caching.lastIndex = 0;\r\n      }\r\n\r\n      var renderResult = this.interpolateValue(frameNum, this._caching);\r\n      this.pv = renderResult;\r\n    }\r\n\r\n    this._caching.lastFrame = frameNum;\r\n    return this.pv;\r\n  }\r\n\r\n  function setVValue(val) {\r\n    var multipliedValue;\r\n\r\n    if (this.propType === 'unidimensional') {\r\n      multipliedValue = val * this.mult;\r\n\r\n      if (mathAbs(this.v - multipliedValue) > 0.00001) {\r\n        this.v = multipliedValue;\r\n        this._mdf = true;\r\n      }\r\n    } else {\r\n      var i = 0;\r\n      var len = this.v.length;\r\n\r\n      while (i < len) {\r\n        multipliedValue = val[i] * this.mult;\r\n\r\n        if (mathAbs(this.v[i] - multipliedValue) > 0.00001) {\r\n          this.v[i] = multipliedValue;\r\n          this._mdf = true;\r\n        }\r\n\r\n        i += 1;\r\n      }\r\n    }\r\n  }\r\n\r\n  function processEffectsSequence() {\r\n    if (this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) {\r\n      return;\r\n    }\r\n\r\n    if (this.lock) {\r\n      this.setVValue(this.pv);\r\n      return;\r\n    }\r\n\r\n    this.lock = true;\r\n    this._mdf = this._isFirstFrame;\r\n    var i;\r\n    var len = this.effectsSequence.length;\r\n    var finalValue = this.kf ? this.pv : this.data.k;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      finalValue = this.effectsSequence[i](finalValue);\r\n    }\r\n\r\n    this.setVValue(finalValue);\r\n    this._isFirstFrame = false;\r\n    this.lock = false;\r\n    this.frameId = this.elem.globalData.frameId;\r\n  }\r\n\r\n  function addEffect(effectFunction) {\r\n    this.effectsSequence.push(effectFunction);\r\n    this.container.addDynamicProperty(this);\r\n  }\r\n\r\n  function ValueProperty(elem, data, mult, container) {\r\n    this.propType = 'unidimensional';\r\n    this.mult = mult || 1;\r\n    this.data = data;\r\n    this.v = mult ? data.k * mult : data.k;\r\n    this.pv = data.k;\r\n    this._mdf = false;\r\n    this.elem = elem;\r\n    this.container = container;\r\n    this.comp = elem.comp;\r\n    this.k = false;\r\n    this.kf = false;\r\n    this.vel = 0;\r\n    this.effectsSequence = [];\r\n    this._isFirstFrame = true;\r\n    this.getValue = processEffectsSequence;\r\n    this.setVValue = setVValue;\r\n    this.addEffect = addEffect;\r\n  }\r\n\r\n  function MultiDimensionalProperty(elem, data, mult, container) {\r\n    this.propType = 'multidimensional';\r\n    this.mult = mult || 1;\r\n    this.data = data;\r\n    this._mdf = false;\r\n    this.elem = elem;\r\n    this.container = container;\r\n    this.comp = elem.comp;\r\n    this.k = false;\r\n    this.kf = false;\r\n    this.frameId = -1;\r\n    var i;\r\n    var len = data.k.length;\r\n    this.v = createTypedArray('float32', len);\r\n    this.pv = createTypedArray('float32', len);\r\n    this.vel = createTypedArray('float32', len);\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      this.v[i] = data.k[i] * this.mult;\r\n      this.pv[i] = data.k[i];\r\n    }\r\n\r\n    this._isFirstFrame = true;\r\n    this.effectsSequence = [];\r\n    this.getValue = processEffectsSequence;\r\n    this.setVValue = setVValue;\r\n    this.addEffect = addEffect;\r\n  }\r\n\r\n  function KeyframedValueProperty(elem, data, mult, container) {\r\n    this.propType = 'unidimensional';\r\n    this.keyframes = data.k;\r\n    this.keyframesMetadata = [];\r\n    this.offsetTime = elem.data.st;\r\n    this.frameId = -1;\r\n    this._caching = {\r\n      lastFrame: initFrame,\r\n      lastIndex: 0,\r\n      value: 0,\r\n      _lastKeyframeIndex: -1\r\n    };\r\n    this.k = true;\r\n    this.kf = true;\r\n    this.data = data;\r\n    this.mult = mult || 1;\r\n    this.elem = elem;\r\n    this.container = container;\r\n    this.comp = elem.comp;\r\n    this.v = initFrame;\r\n    this.pv = initFrame;\r\n    this._isFirstFrame = true;\r\n    this.getValue = processEffectsSequence;\r\n    this.setVValue = setVValue;\r\n    this.interpolateValue = interpolateValue;\r\n    this.effectsSequence = [getValueAtCurrentTime.bind(this)];\r\n    this.addEffect = addEffect;\r\n  }\r\n\r\n  function KeyframedMultidimensionalProperty(elem, data, mult, container) {\r\n    this.propType = 'multidimensional';\r\n    var i;\r\n    var len = data.k.length;\r\n    var s;\r\n    var e;\r\n    var to;\r\n    var ti;\r\n\r\n    for (i = 0; i < len - 1; i += 1) {\r\n      if (data.k[i].to && data.k[i].s && data.k[i + 1] && data.k[i + 1].s) {\r\n        s = data.k[i].s;\r\n        e = data.k[i + 1].s;\r\n        to = data.k[i].to;\r\n        ti = data.k[i].ti;\r\n\r\n        if (s.length === 2 && !(s[0] === e[0] && s[1] === e[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], s[0] + to[0], s[1] + to[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], e[0] + ti[0], e[1] + ti[1]) || s.length === 3 && !(s[0] === e[0] && s[1] === e[1] && s[2] === e[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], s[0] + to[0], s[1] + to[1], s[2] + to[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], e[0] + ti[0], e[1] + ti[1], e[2] + ti[2])) {\r\n          data.k[i].to = null;\r\n          data.k[i].ti = null;\r\n        }\r\n\r\n        if (s[0] === e[0] && s[1] === e[1] && to[0] === 0 && to[1] === 0 && ti[0] === 0 && ti[1] === 0) {\r\n          if (s.length === 2 || s[2] === e[2] && to[2] === 0 && ti[2] === 0) {\r\n            data.k[i].to = null;\r\n            data.k[i].ti = null;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    this.effectsSequence = [getValueAtCurrentTime.bind(this)];\r\n    this.data = data;\r\n    this.keyframes = data.k;\r\n    this.keyframesMetadata = [];\r\n    this.offsetTime = elem.data.st;\r\n    this.k = true;\r\n    this.kf = true;\r\n    this._isFirstFrame = true;\r\n    this.mult = mult || 1;\r\n    this.elem = elem;\r\n    this.container = container;\r\n    this.comp = elem.comp;\r\n    this.getValue = processEffectsSequence;\r\n    this.setVValue = setVValue;\r\n    this.interpolateValue = interpolateValue;\r\n    this.frameId = -1;\r\n    var arrLen = data.k[0].s.length;\r\n    this.v = createTypedArray('float32', arrLen);\r\n    this.pv = createTypedArray('float32', arrLen);\r\n\r\n    for (i = 0; i < arrLen; i += 1) {\r\n      this.v[i] = initFrame;\r\n      this.pv[i] = initFrame;\r\n    }\r\n\r\n    this._caching = {\r\n      lastFrame: initFrame,\r\n      lastIndex: 0,\r\n      value: createTypedArray('float32', arrLen)\r\n    };\r\n    this.addEffect = addEffect;\r\n  }\r\n\r\n  var PropertyFactory = function () {\r\n    function getProp(elem, data, type, mult, container) {\r\n      if (data.sid) {\r\n        data = elem.globalData.slotManager.getProp(data);\r\n      }\r\n\r\n      var p;\r\n\r\n      if (!data.k.length) {\r\n        p = new ValueProperty(elem, data, mult, container);\r\n      } else if (typeof data.k[0] === 'number') {\r\n        p = new MultiDimensionalProperty(elem, data, mult, container);\r\n      } else {\r\n        switch (type) {\r\n          case 0:\r\n            p = new KeyframedValueProperty(elem, data, mult, container);\r\n            break;\r\n\r\n          case 1:\r\n            p = new KeyframedMultidimensionalProperty(elem, data, mult, container);\r\n            break;\r\n\r\n          default:\r\n            break;\r\n        }\r\n      }\r\n\r\n      if (p.effectsSequence.length) {\r\n        container.addDynamicProperty(p);\r\n      }\r\n\r\n      return p;\r\n    }\r\n\r\n    var ob = {\r\n      getProp: getProp\r\n    };\r\n    return ob;\r\n  }();\r\n\r\n  function DynamicPropertyContainer() {}\r\n\r\n  DynamicPropertyContainer.prototype = {\r\n    addDynamicProperty: function addDynamicProperty(prop) {\r\n      if (this.dynamicProperties.indexOf(prop) === -1) {\r\n        this.dynamicProperties.push(prop);\r\n        this.container.addDynamicProperty(this);\r\n        this._isAnimated = true;\r\n      }\r\n    },\r\n    iterateDynamicProperties: function iterateDynamicProperties() {\r\n      this._mdf = false;\r\n      var i;\r\n      var len = this.dynamicProperties.length;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        this.dynamicProperties[i].getValue();\r\n\r\n        if (this.dynamicProperties[i]._mdf) {\r\n          this._mdf = true;\r\n        }\r\n      }\r\n    },\r\n    initDynamicPropertyContainer: function initDynamicPropertyContainer(container) {\r\n      this.container = container;\r\n      this.dynamicProperties = [];\r\n      this._mdf = false;\r\n      this._isAnimated = false;\r\n    }\r\n  };\r\n\r\n  var pointPool = function () {\r\n    function create() {\r\n      return createTypedArray('float32', 2);\r\n    }\r\n\r\n    return poolFactory(8, create);\r\n  }();\r\n\r\n  function ShapePath() {\r\n    this.c = false;\r\n    this._length = 0;\r\n    this._maxLength = 8;\r\n    this.v = createSizedArray(this._maxLength);\r\n    this.o = createSizedArray(this._maxLength);\r\n    this.i = createSizedArray(this._maxLength);\r\n  }\r\n\r\n  ShapePath.prototype.setPathData = function (closed, len) {\r\n    this.c = closed;\r\n    this.setLength(len);\r\n    var i = 0;\r\n\r\n    while (i < len) {\r\n      this.v[i] = pointPool.newElement();\r\n      this.o[i] = pointPool.newElement();\r\n      this.i[i] = pointPool.newElement();\r\n      i += 1;\r\n    }\r\n  };\r\n\r\n  ShapePath.prototype.setLength = function (len) {\r\n    while (this._maxLength < len) {\r\n      this.doubleArrayLength();\r\n    }\r\n\r\n    this._length = len;\r\n  };\r\n\r\n  ShapePath.prototype.doubleArrayLength = function () {\r\n    this.v = this.v.concat(createSizedArray(this._maxLength));\r\n    this.i = this.i.concat(createSizedArray(this._maxLength));\r\n    this.o = this.o.concat(createSizedArray(this._maxLength));\r\n    this._maxLength *= 2;\r\n  };\r\n\r\n  ShapePath.prototype.setXYAt = function (x, y, type, pos, replace) {\r\n    var arr;\r\n    this._length = Math.max(this._length, pos + 1);\r\n\r\n    if (this._length >= this._maxLength) {\r\n      this.doubleArrayLength();\r\n    }\r\n\r\n    switch (type) {\r\n      case 'v':\r\n        arr = this.v;\r\n        break;\r\n\r\n      case 'i':\r\n        arr = this.i;\r\n        break;\r\n\r\n      case 'o':\r\n        arr = this.o;\r\n        break;\r\n\r\n      default:\r\n        arr = [];\r\n        break;\r\n    }\r\n\r\n    if (!arr[pos] || arr[pos] && !replace) {\r\n      arr[pos] = pointPool.newElement();\r\n    }\r\n\r\n    arr[pos][0] = x;\r\n    arr[pos][1] = y;\r\n  };\r\n\r\n  ShapePath.prototype.setTripleAt = function (vX, vY, oX, oY, iX, iY, pos, replace) {\r\n    this.setXYAt(vX, vY, 'v', pos, replace);\r\n    this.setXYAt(oX, oY, 'o', pos, replace);\r\n    this.setXYAt(iX, iY, 'i', pos, replace);\r\n  };\r\n\r\n  ShapePath.prototype.reverse = function () {\r\n    var newPath = new ShapePath();\r\n    newPath.setPathData(this.c, this._length);\r\n    var vertices = this.v;\r\n    var outPoints = this.o;\r\n    var inPoints = this.i;\r\n    var init = 0;\r\n\r\n    if (this.c) {\r\n      newPath.setTripleAt(vertices[0][0], vertices[0][1], inPoints[0][0], inPoints[0][1], outPoints[0][0], outPoints[0][1], 0, false);\r\n      init = 1;\r\n    }\r\n\r\n    var cnt = this._length - 1;\r\n    var len = this._length;\r\n    var i;\r\n\r\n    for (i = init; i < len; i += 1) {\r\n      newPath.setTripleAt(vertices[cnt][0], vertices[cnt][1], inPoints[cnt][0], inPoints[cnt][1], outPoints[cnt][0], outPoints[cnt][1], i, false);\r\n      cnt -= 1;\r\n    }\r\n\r\n    return newPath;\r\n  };\r\n\r\n  ShapePath.prototype.length = function () {\r\n    return this._length;\r\n  };\r\n\r\n  var shapePool = function () {\r\n    function create() {\r\n      return new ShapePath();\r\n    }\r\n\r\n    function release(shapePath) {\r\n      var len = shapePath._length;\r\n      var i;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        pointPool.release(shapePath.v[i]);\r\n        pointPool.release(shapePath.i[i]);\r\n        pointPool.release(shapePath.o[i]);\r\n        shapePath.v[i] = null;\r\n        shapePath.i[i] = null;\r\n        shapePath.o[i] = null;\r\n      }\r\n\r\n      shapePath._length = 0;\r\n      shapePath.c = false;\r\n    }\r\n\r\n    function clone(shape) {\r\n      var cloned = factory.newElement();\r\n      var i;\r\n      var len = shape._length === undefined ? shape.v.length : shape._length;\r\n      cloned.setLength(len);\r\n      cloned.c = shape.c;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        cloned.setTripleAt(shape.v[i][0], shape.v[i][1], shape.o[i][0], shape.o[i][1], shape.i[i][0], shape.i[i][1], i);\r\n      }\r\n\r\n      return cloned;\r\n    }\r\n\r\n    var factory = poolFactory(4, create, release);\r\n    factory.clone = clone;\r\n    return factory;\r\n  }();\r\n\r\n  function ShapeCollection() {\r\n    this._length = 0;\r\n    this._maxLength = 4;\r\n    this.shapes = createSizedArray(this._maxLength);\r\n  }\r\n\r\n  ShapeCollection.prototype.addShape = function (shapeData) {\r\n    if (this._length === this._maxLength) {\r\n      this.shapes = this.shapes.concat(createSizedArray(this._maxLength));\r\n      this._maxLength *= 2;\r\n    }\r\n\r\n    this.shapes[this._length] = shapeData;\r\n    this._length += 1;\r\n  };\r\n\r\n  ShapeCollection.prototype.releaseShapes = function () {\r\n    var i;\r\n\r\n    for (i = 0; i < this._length; i += 1) {\r\n      shapePool.release(this.shapes[i]);\r\n    }\r\n\r\n    this._length = 0;\r\n  };\r\n\r\n  var shapeCollectionPool = function () {\r\n    var ob = {\r\n      newShapeCollection: newShapeCollection,\r\n      release: release\r\n    };\r\n    var _length = 0;\r\n    var _maxLength = 4;\r\n    var pool = createSizedArray(_maxLength);\r\n\r\n    function newShapeCollection() {\r\n      var shapeCollection;\r\n\r\n      if (_length) {\r\n        _length -= 1;\r\n        shapeCollection = pool[_length];\r\n      } else {\r\n        shapeCollection = new ShapeCollection();\r\n      }\r\n\r\n      return shapeCollection;\r\n    }\r\n\r\n    function release(shapeCollection) {\r\n      var i;\r\n      var len = shapeCollection._length;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        shapePool.release(shapeCollection.shapes[i]);\r\n      }\r\n\r\n      shapeCollection._length = 0;\r\n\r\n      if (_length === _maxLength) {\r\n        pool = pooling[\"double\"](pool);\r\n        _maxLength *= 2;\r\n      }\r\n\r\n      pool[_length] = shapeCollection;\r\n      _length += 1;\r\n    }\r\n\r\n    return ob;\r\n  }();\r\n\r\n  var ShapePropertyFactory = function () {\r\n    var initFrame = -999999;\r\n\r\n    function interpolateShape(frameNum, previousValue, caching) {\r\n      var iterationIndex = caching.lastIndex;\r\n      var keyPropS;\r\n      var keyPropE;\r\n      var isHold;\r\n      var j;\r\n      var k;\r\n      var jLen;\r\n      var kLen;\r\n      var perc;\r\n      var vertexValue;\r\n      var kf = this.keyframes;\r\n\r\n      if (frameNum < kf[0].t - this.offsetTime) {\r\n        keyPropS = kf[0].s[0];\r\n        isHold = true;\r\n        iterationIndex = 0;\r\n      } else if (frameNum >= kf[kf.length - 1].t - this.offsetTime) {\r\n        keyPropS = kf[kf.length - 1].s ? kf[kf.length - 1].s[0] : kf[kf.length - 2].e[0];\r\n        /* if(kf[kf.length - 1].s){\r\n                  keyPropS = kf[kf.length - 1].s[0];\r\n              }else{\r\n                  keyPropS = kf[kf.length - 2].e[0];\r\n              } */\r\n\r\n        isHold = true;\r\n      } else {\r\n        var i = iterationIndex;\r\n        var len = kf.length - 1;\r\n        var flag = true;\r\n        var keyData;\r\n        var nextKeyData;\r\n        var keyframeMetadata;\r\n\r\n        while (flag) {\r\n          keyData = kf[i];\r\n          nextKeyData = kf[i + 1];\r\n\r\n          if (nextKeyData.t - this.offsetTime > frameNum) {\r\n            break;\r\n          }\r\n\r\n          if (i < len - 1) {\r\n            i += 1;\r\n          } else {\r\n            flag = false;\r\n          }\r\n        }\r\n\r\n        keyframeMetadata = this.keyframesMetadata[i] || {};\r\n        isHold = keyData.h === 1;\r\n        iterationIndex = i;\r\n\r\n        if (!isHold) {\r\n          if (frameNum >= nextKeyData.t - this.offsetTime) {\r\n            perc = 1;\r\n          } else if (frameNum < keyData.t - this.offsetTime) {\r\n            perc = 0;\r\n          } else {\r\n            var fnc;\r\n\r\n            if (keyframeMetadata.__fnct) {\r\n              fnc = keyframeMetadata.__fnct;\r\n            } else {\r\n              fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y).get;\r\n              keyframeMetadata.__fnct = fnc;\r\n            }\r\n\r\n            perc = fnc((frameNum - (keyData.t - this.offsetTime)) / (nextKeyData.t - this.offsetTime - (keyData.t - this.offsetTime)));\r\n          }\r\n\r\n          keyPropE = nextKeyData.s ? nextKeyData.s[0] : keyData.e[0];\r\n        }\r\n\r\n        keyPropS = keyData.s[0];\r\n      }\r\n\r\n      jLen = previousValue._length;\r\n      kLen = keyPropS.i[0].length;\r\n      caching.lastIndex = iterationIndex;\r\n\r\n      for (j = 0; j < jLen; j += 1) {\r\n        for (k = 0; k < kLen; k += 1) {\r\n          vertexValue = isHold ? keyPropS.i[j][k] : keyPropS.i[j][k] + (keyPropE.i[j][k] - keyPropS.i[j][k]) * perc;\r\n          previousValue.i[j][k] = vertexValue;\r\n          vertexValue = isHold ? keyPropS.o[j][k] : keyPropS.o[j][k] + (keyPropE.o[j][k] - keyPropS.o[j][k]) * perc;\r\n          previousValue.o[j][k] = vertexValue;\r\n          vertexValue = isHold ? keyPropS.v[j][k] : keyPropS.v[j][k] + (keyPropE.v[j][k] - keyPropS.v[j][k]) * perc;\r\n          previousValue.v[j][k] = vertexValue;\r\n        }\r\n      }\r\n    }\r\n\r\n    function interpolateShapeCurrentTime() {\r\n      var frameNum = this.comp.renderedFrame - this.offsetTime;\r\n      var initTime = this.keyframes[0].t - this.offsetTime;\r\n      var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\r\n      var lastFrame = this._caching.lastFrame;\r\n\r\n      if (!(lastFrame !== initFrame && (lastFrame < initTime && frameNum < initTime || lastFrame > endTime && frameNum > endTime))) {\r\n        /// /\r\n        this._caching.lastIndex = lastFrame < frameNum ? this._caching.lastIndex : 0;\r\n        this.interpolateShape(frameNum, this.pv, this._caching); /// /\r\n      }\r\n\r\n      this._caching.lastFrame = frameNum;\r\n      return this.pv;\r\n    }\r\n\r\n    function resetShape() {\r\n      this.paths = this.localShapeCollection;\r\n    }\r\n\r\n    function shapesEqual(shape1, shape2) {\r\n      if (shape1._length !== shape2._length || shape1.c !== shape2.c) {\r\n        return false;\r\n      }\r\n\r\n      var i;\r\n      var len = shape1._length;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        if (shape1.v[i][0] !== shape2.v[i][0] || shape1.v[i][1] !== shape2.v[i][1] || shape1.o[i][0] !== shape2.o[i][0] || shape1.o[i][1] !== shape2.o[i][1] || shape1.i[i][0] !== shape2.i[i][0] || shape1.i[i][1] !== shape2.i[i][1]) {\r\n          return false;\r\n        }\r\n      }\r\n\r\n      return true;\r\n    }\r\n\r\n    function setVValue(newPath) {\r\n      if (!shapesEqual(this.v, newPath)) {\r\n        this.v = shapePool.clone(newPath);\r\n        this.localShapeCollection.releaseShapes();\r\n        this.localShapeCollection.addShape(this.v);\r\n        this._mdf = true;\r\n        this.paths = this.localShapeCollection;\r\n      }\r\n    }\r\n\r\n    function processEffectsSequence() {\r\n      if (this.elem.globalData.frameId === this.frameId) {\r\n        return;\r\n      }\r\n\r\n      if (!this.effectsSequence.length) {\r\n        this._mdf = false;\r\n        return;\r\n      }\r\n\r\n      if (this.lock) {\r\n        this.setVValue(this.pv);\r\n        return;\r\n      }\r\n\r\n      this.lock = true;\r\n      this._mdf = false;\r\n      var finalValue;\r\n\r\n      if (this.kf) {\r\n        finalValue = this.pv;\r\n      } else if (this.data.ks) {\r\n        finalValue = this.data.ks.k;\r\n      } else {\r\n        finalValue = this.data.pt.k;\r\n      }\r\n\r\n      var i;\r\n      var len = this.effectsSequence.length;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        finalValue = this.effectsSequence[i](finalValue);\r\n      }\r\n\r\n      this.setVValue(finalValue);\r\n      this.lock = false;\r\n      this.frameId = this.elem.globalData.frameId;\r\n    }\r\n\r\n    function ShapeProperty(elem, data, type) {\r\n      this.propType = 'shape';\r\n      this.comp = elem.comp;\r\n      this.container = elem;\r\n      this.elem = elem;\r\n      this.data = data;\r\n      this.k = false;\r\n      this.kf = false;\r\n      this._mdf = false;\r\n      var pathData = type === 3 ? data.pt.k : data.ks.k;\r\n      this.v = shapePool.clone(pathData);\r\n      this.pv = shapePool.clone(this.v);\r\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n      this.paths = this.localShapeCollection;\r\n      this.paths.addShape(this.v);\r\n      this.reset = resetShape;\r\n      this.effectsSequence = [];\r\n    }\r\n\r\n    function addEffect(effectFunction) {\r\n      this.effectsSequence.push(effectFunction);\r\n      this.container.addDynamicProperty(this);\r\n    }\r\n\r\n    ShapeProperty.prototype.interpolateShape = interpolateShape;\r\n    ShapeProperty.prototype.getValue = processEffectsSequence;\r\n    ShapeProperty.prototype.setVValue = setVValue;\r\n    ShapeProperty.prototype.addEffect = addEffect;\r\n\r\n    function KeyframedShapeProperty(elem, data, type) {\r\n      this.propType = 'shape';\r\n      this.comp = elem.comp;\r\n      this.elem = elem;\r\n      this.container = elem;\r\n      this.offsetTime = elem.data.st;\r\n      this.keyframes = type === 3 ? data.pt.k : data.ks.k;\r\n      this.keyframesMetadata = [];\r\n      this.k = true;\r\n      this.kf = true;\r\n      var len = this.keyframes[0].s[0].i.length;\r\n      this.v = shapePool.newElement();\r\n      this.v.setPathData(this.keyframes[0].s[0].c, len);\r\n      this.pv = shapePool.clone(this.v);\r\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n      this.paths = this.localShapeCollection;\r\n      this.paths.addShape(this.v);\r\n      this.lastFrame = initFrame;\r\n      this.reset = resetShape;\r\n      this._caching = {\r\n        lastFrame: initFrame,\r\n        lastIndex: 0\r\n      };\r\n      this.effectsSequence = [interpolateShapeCurrentTime.bind(this)];\r\n    }\r\n\r\n    KeyframedShapeProperty.prototype.getValue = processEffectsSequence;\r\n    KeyframedShapeProperty.prototype.interpolateShape = interpolateShape;\r\n    KeyframedShapeProperty.prototype.setVValue = setVValue;\r\n    KeyframedShapeProperty.prototype.addEffect = addEffect;\r\n\r\n    var EllShapeProperty = function () {\r\n      var cPoint = roundCorner;\r\n\r\n      function EllShapePropertyFactory(elem, data) {\r\n        this.v = shapePool.newElement();\r\n        this.v.setPathData(true, 4);\r\n        this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n        this.paths = this.localShapeCollection;\r\n        this.localShapeCollection.addShape(this.v);\r\n        this.d = data.d;\r\n        this.elem = elem;\r\n        this.comp = elem.comp;\r\n        this.frameId = -1;\r\n        this.initDynamicPropertyContainer(elem);\r\n        this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\r\n        this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\r\n\r\n        if (this.dynamicProperties.length) {\r\n          this.k = true;\r\n        } else {\r\n          this.k = false;\r\n          this.convertEllToPath();\r\n        }\r\n      }\r\n\r\n      EllShapePropertyFactory.prototype = {\r\n        reset: resetShape,\r\n        getValue: function getValue() {\r\n          if (this.elem.globalData.frameId === this.frameId) {\r\n            return;\r\n          }\r\n\r\n          this.frameId = this.elem.globalData.frameId;\r\n          this.iterateDynamicProperties();\r\n\r\n          if (this._mdf) {\r\n            this.convertEllToPath();\r\n          }\r\n        },\r\n        convertEllToPath: function convertEllToPath() {\r\n          var p0 = this.p.v[0];\r\n          var p1 = this.p.v[1];\r\n          var s0 = this.s.v[0] / 2;\r\n          var s1 = this.s.v[1] / 2;\r\n\r\n          var _cw = this.d !== 3;\r\n\r\n          var _v = this.v;\r\n          _v.v[0][0] = p0;\r\n          _v.v[0][1] = p1 - s1;\r\n          _v.v[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n          _v.v[1][1] = p1;\r\n          _v.v[2][0] = p0;\r\n          _v.v[2][1] = p1 + s1;\r\n          _v.v[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n          _v.v[3][1] = p1;\r\n          _v.i[0][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\r\n          _v.i[0][1] = p1 - s1;\r\n          _v.i[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n          _v.i[1][1] = p1 - s1 * cPoint;\r\n          _v.i[2][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\r\n          _v.i[2][1] = p1 + s1;\r\n          _v.i[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n          _v.i[3][1] = p1 + s1 * cPoint;\r\n          _v.o[0][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\r\n          _v.o[0][1] = p1 - s1;\r\n          _v.o[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n          _v.o[1][1] = p1 + s1 * cPoint;\r\n          _v.o[2][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\r\n          _v.o[2][1] = p1 + s1;\r\n          _v.o[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n          _v.o[3][1] = p1 - s1 * cPoint;\r\n        }\r\n      };\r\n      extendPrototype([DynamicPropertyContainer], EllShapePropertyFactory);\r\n      return EllShapePropertyFactory;\r\n    }();\r\n\r\n    var StarShapeProperty = function () {\r\n      function StarShapePropertyFactory(elem, data) {\r\n        this.v = shapePool.newElement();\r\n        this.v.setPathData(true, 0);\r\n        this.elem = elem;\r\n        this.comp = elem.comp;\r\n        this.data = data;\r\n        this.frameId = -1;\r\n        this.d = data.d;\r\n        this.initDynamicPropertyContainer(elem);\r\n\r\n        if (data.sy === 1) {\r\n          this.ir = PropertyFactory.getProp(elem, data.ir, 0, 0, this);\r\n          this.is = PropertyFactory.getProp(elem, data.is, 0, 0.01, this);\r\n          this.convertToPath = this.convertStarToPath;\r\n        } else {\r\n          this.convertToPath = this.convertPolygonToPath;\r\n        }\r\n\r\n        this.pt = PropertyFactory.getProp(elem, data.pt, 0, 0, this);\r\n        this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\r\n        this.r = PropertyFactory.getProp(elem, data.r, 0, degToRads, this);\r\n        this.or = PropertyFactory.getProp(elem, data.or, 0, 0, this);\r\n        this.os = PropertyFactory.getProp(elem, data.os, 0, 0.01, this);\r\n        this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n        this.localShapeCollection.addShape(this.v);\r\n        this.paths = this.localShapeCollection;\r\n\r\n        if (this.dynamicProperties.length) {\r\n          this.k = true;\r\n        } else {\r\n          this.k = false;\r\n          this.convertToPath();\r\n        }\r\n      }\r\n\r\n      StarShapePropertyFactory.prototype = {\r\n        reset: resetShape,\r\n        getValue: function getValue() {\r\n          if (this.elem.globalData.frameId === this.frameId) {\r\n            return;\r\n          }\r\n\r\n          this.frameId = this.elem.globalData.frameId;\r\n          this.iterateDynamicProperties();\r\n\r\n          if (this._mdf) {\r\n            this.convertToPath();\r\n          }\r\n        },\r\n        convertStarToPath: function convertStarToPath() {\r\n          var numPts = Math.floor(this.pt.v) * 2;\r\n          var angle = Math.PI * 2 / numPts;\r\n          /* this.v.v.length = numPts;\r\n                  this.v.i.length = numPts;\r\n                  this.v.o.length = numPts; */\r\n\r\n          var longFlag = true;\r\n          var longRad = this.or.v;\r\n          var shortRad = this.ir.v;\r\n          var longRound = this.os.v;\r\n          var shortRound = this.is.v;\r\n          var longPerimSegment = 2 * Math.PI * longRad / (numPts * 2);\r\n          var shortPerimSegment = 2 * Math.PI * shortRad / (numPts * 2);\r\n          var i;\r\n          var rad;\r\n          var roundness;\r\n          var perimSegment;\r\n          var currentAng = -Math.PI / 2;\r\n          currentAng += this.r.v;\r\n          var dir = this.data.d === 3 ? -1 : 1;\r\n          this.v._length = 0;\r\n\r\n          for (i = 0; i < numPts; i += 1) {\r\n            rad = longFlag ? longRad : shortRad;\r\n            roundness = longFlag ? longRound : shortRound;\r\n            perimSegment = longFlag ? longPerimSegment : shortPerimSegment;\r\n            var x = rad * Math.cos(currentAng);\r\n            var y = rad * Math.sin(currentAng);\r\n            var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\r\n            var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\r\n            x += +this.p.v[0];\r\n            y += +this.p.v[1];\r\n            this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\r\n            /* this.v.v[i] = [x,y];\r\n                      this.v.i[i] = [x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir];\r\n                      this.v.o[i] = [x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir];\r\n                      this.v._length = numPts; */\r\n\r\n            longFlag = !longFlag;\r\n            currentAng += angle * dir;\r\n          }\r\n        },\r\n        convertPolygonToPath: function convertPolygonToPath() {\r\n          var numPts = Math.floor(this.pt.v);\r\n          var angle = Math.PI * 2 / numPts;\r\n          var rad = this.or.v;\r\n          var roundness = this.os.v;\r\n          var perimSegment = 2 * Math.PI * rad / (numPts * 4);\r\n          var i;\r\n          var currentAng = -Math.PI * 0.5;\r\n          var dir = this.data.d === 3 ? -1 : 1;\r\n          currentAng += this.r.v;\r\n          this.v._length = 0;\r\n\r\n          for (i = 0; i < numPts; i += 1) {\r\n            var x = rad * Math.cos(currentAng);\r\n            var y = rad * Math.sin(currentAng);\r\n            var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\r\n            var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\r\n            x += +this.p.v[0];\r\n            y += +this.p.v[1];\r\n            this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\r\n            currentAng += angle * dir;\r\n          }\r\n\r\n          this.paths.length = 0;\r\n          this.paths[0] = this.v;\r\n        }\r\n      };\r\n      extendPrototype([DynamicPropertyContainer], StarShapePropertyFactory);\r\n      return StarShapePropertyFactory;\r\n    }();\r\n\r\n    var RectShapeProperty = function () {\r\n      function RectShapePropertyFactory(elem, data) {\r\n        this.v = shapePool.newElement();\r\n        this.v.c = true;\r\n        this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n        this.localShapeCollection.addShape(this.v);\r\n        this.paths = this.localShapeCollection;\r\n        this.elem = elem;\r\n        this.comp = elem.comp;\r\n        this.frameId = -1;\r\n        this.d = data.d;\r\n        this.initDynamicPropertyContainer(elem);\r\n        this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\r\n        this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\r\n        this.r = PropertyFactory.getProp(elem, data.r, 0, 0, this);\r\n\r\n        if (this.dynamicProperties.length) {\r\n          this.k = true;\r\n        } else {\r\n          this.k = false;\r\n          this.convertRectToPath();\r\n        }\r\n      }\r\n\r\n      RectShapePropertyFactory.prototype = {\r\n        convertRectToPath: function convertRectToPath() {\r\n          var p0 = this.p.v[0];\r\n          var p1 = this.p.v[1];\r\n          var v0 = this.s.v[0] / 2;\r\n          var v1 = this.s.v[1] / 2;\r\n          var round = bmMin(v0, v1, this.r.v);\r\n          var cPoint = round * (1 - roundCorner);\r\n          this.v._length = 0;\r\n\r\n          if (this.d === 2 || this.d === 1) {\r\n            this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, 0, true);\r\n            this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, p0 + v0, p1 + v1 - round, 1, true);\r\n\r\n            if (round !== 0) {\r\n              this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, 2, true);\r\n              this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0 + round, p1 + v1, 3, true);\r\n              this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, 4, true);\r\n              this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1 + round, 5, true);\r\n              this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, 6, true);\r\n              this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, p0 + v0 - round, p1 - v1, 7, true);\r\n            } else {\r\n              this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0, p1 + v1, 2);\r\n              this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1, 3);\r\n            }\r\n          } else {\r\n            this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, p0 + v0, p1 - v1 + round, 0, true);\r\n\r\n            if (round !== 0) {\r\n              this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, 1, true);\r\n              this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0 + round, p1 - v1, 2, true);\r\n              this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, 3, true);\r\n              this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1 - round, 4, true);\r\n              this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, 5, true);\r\n              this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0 - round, p1 + v1, 6, true);\r\n              this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, 7, true);\r\n            } else {\r\n              this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0, p1 - v1, 1, true);\r\n              this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1, 2, true);\r\n              this.v.setTripleAt(p0 + v0, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0, p1 + v1, 3, true);\r\n            }\r\n          }\r\n        },\r\n        getValue: function getValue() {\r\n          if (this.elem.globalData.frameId === this.frameId) {\r\n            return;\r\n          }\r\n\r\n          this.frameId = this.elem.globalData.frameId;\r\n          this.iterateDynamicProperties();\r\n\r\n          if (this._mdf) {\r\n            this.convertRectToPath();\r\n          }\r\n        },\r\n        reset: resetShape\r\n      };\r\n      extendPrototype([DynamicPropertyContainer], RectShapePropertyFactory);\r\n      return RectShapePropertyFactory;\r\n    }();\r\n\r\n    function getShapeProp(elem, data, type) {\r\n      var prop;\r\n\r\n      if (type === 3 || type === 4) {\r\n        var dataProp = type === 3 ? data.pt : data.ks;\r\n        var keys = dataProp.k;\r\n\r\n        if (keys.length) {\r\n          prop = new KeyframedShapeProperty(elem, data, type);\r\n        } else {\r\n          prop = new ShapeProperty(elem, data, type);\r\n        }\r\n      } else if (type === 5) {\r\n        prop = new RectShapeProperty(elem, data);\r\n      } else if (type === 6) {\r\n        prop = new EllShapeProperty(elem, data);\r\n      } else if (type === 7) {\r\n        prop = new StarShapeProperty(elem, data);\r\n      }\r\n\r\n      if (prop.k) {\r\n        elem.addDynamicProperty(prop);\r\n      }\r\n\r\n      return prop;\r\n    }\r\n\r\n    function getConstructorFunction() {\r\n      return ShapeProperty;\r\n    }\r\n\r\n    function getKeyframedConstructorFunction() {\r\n      return KeyframedShapeProperty;\r\n    }\r\n\r\n    var ob = {};\r\n    ob.getShapeProp = getShapeProp;\r\n    ob.getConstructorFunction = getConstructorFunction;\r\n    ob.getKeyframedConstructorFunction = getKeyframedConstructorFunction;\r\n    return ob;\r\n  }();\r\n\r\n  /*!\r\n   Transformation Matrix v2.0\r\n   (c) Epistemex 2014-2015\r\n   www.epistemex.com\r\n   By Ken Fyrstenberg\r\n   Contributions by leeoniya.\r\n   License: MIT, header required.\r\n   */\r\n\r\n  /**\r\n   * 2D transformation matrix object initialized with identity matrix.\r\n   *\r\n   * The matrix can synchronize a canvas context by supplying the context\r\n   * as an argument, or later apply current absolute transform to an\r\n   * existing context.\r\n   *\r\n   * All values are handled as floating point values.\r\n   *\r\n   * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\r\n   * @prop {number} a - scale x\r\n   * @prop {number} b - shear y\r\n   * @prop {number} c - shear x\r\n   * @prop {number} d - scale y\r\n   * @prop {number} e - translate x\r\n   * @prop {number} f - translate y\r\n   * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\r\n   * @constructor\r\n   */\r\n\r\n  var Matrix = function () {\r\n    var _cos = Math.cos;\r\n    var _sin = Math.sin;\r\n    var _tan = Math.tan;\r\n    var _rnd = Math.round;\r\n\r\n    function reset() {\r\n      this.props[0] = 1;\r\n      this.props[1] = 0;\r\n      this.props[2] = 0;\r\n      this.props[3] = 0;\r\n      this.props[4] = 0;\r\n      this.props[5] = 1;\r\n      this.props[6] = 0;\r\n      this.props[7] = 0;\r\n      this.props[8] = 0;\r\n      this.props[9] = 0;\r\n      this.props[10] = 1;\r\n      this.props[11] = 0;\r\n      this.props[12] = 0;\r\n      this.props[13] = 0;\r\n      this.props[14] = 0;\r\n      this.props[15] = 1;\r\n      return this;\r\n    }\r\n\r\n    function rotate(angle) {\r\n      if (angle === 0) {\r\n        return this;\r\n      }\r\n\r\n      var mCos = _cos(angle);\r\n\r\n      var mSin = _sin(angle);\r\n\r\n      return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function rotateX(angle) {\r\n      if (angle === 0) {\r\n        return this;\r\n      }\r\n\r\n      var mCos = _cos(angle);\r\n\r\n      var mSin = _sin(angle);\r\n\r\n      return this._t(1, 0, 0, 0, 0, mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function rotateY(angle) {\r\n      if (angle === 0) {\r\n        return this;\r\n      }\r\n\r\n      var mCos = _cos(angle);\r\n\r\n      var mSin = _sin(angle);\r\n\r\n      return this._t(mCos, 0, mSin, 0, 0, 1, 0, 0, -mSin, 0, mCos, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function rotateZ(angle) {\r\n      if (angle === 0) {\r\n        return this;\r\n      }\r\n\r\n      var mCos = _cos(angle);\r\n\r\n      var mSin = _sin(angle);\r\n\r\n      return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function shear(sx, sy) {\r\n      return this._t(1, sy, sx, 1, 0, 0);\r\n    }\r\n\r\n    function skew(ax, ay) {\r\n      return this.shear(_tan(ax), _tan(ay));\r\n    }\r\n\r\n    function skewFromAxis(ax, angle) {\r\n      var mCos = _cos(angle);\r\n\r\n      var mSin = _sin(angle);\r\n\r\n      return this._t(mCos, mSin, 0, 0, -mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(1, 0, 0, 0, _tan(ax), 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); // return this._t(mCos, mSin, -mSin, mCos, 0, 0)._t(1, 0, _tan(ax), 1, 0, 0)._t(mCos, -mSin, mSin, mCos, 0, 0);\r\n    }\r\n\r\n    function scale(sx, sy, sz) {\r\n      if (!sz && sz !== 0) {\r\n        sz = 1;\r\n      }\r\n\r\n      if (sx === 1 && sy === 1 && sz === 1) {\r\n        return this;\r\n      }\r\n\r\n      return this._t(sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function setTransform(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {\r\n      this.props[0] = a;\r\n      this.props[1] = b;\r\n      this.props[2] = c;\r\n      this.props[3] = d;\r\n      this.props[4] = e;\r\n      this.props[5] = f;\r\n      this.props[6] = g;\r\n      this.props[7] = h;\r\n      this.props[8] = i;\r\n      this.props[9] = j;\r\n      this.props[10] = k;\r\n      this.props[11] = l;\r\n      this.props[12] = m;\r\n      this.props[13] = n;\r\n      this.props[14] = o;\r\n      this.props[15] = p;\r\n      return this;\r\n    }\r\n\r\n    function translate(tx, ty, tz) {\r\n      tz = tz || 0;\r\n\r\n      if (tx !== 0 || ty !== 0 || tz !== 0) {\r\n        return this._t(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, tx, ty, tz, 1);\r\n      }\r\n\r\n      return this;\r\n    }\r\n\r\n    function transform(a2, b2, c2, d2, e2, f2, g2, h2, i2, j2, k2, l2, m2, n2, o2, p2) {\r\n      var _p = this.props;\r\n\r\n      if (a2 === 1 && b2 === 0 && c2 === 0 && d2 === 0 && e2 === 0 && f2 === 1 && g2 === 0 && h2 === 0 && i2 === 0 && j2 === 0 && k2 === 1 && l2 === 0) {\r\n        // NOTE: commenting this condition because TurboFan deoptimizes code when present\r\n        // if(m2 !== 0 || n2 !== 0 || o2 !== 0){\r\n        _p[12] = _p[12] * a2 + _p[15] * m2;\r\n        _p[13] = _p[13] * f2 + _p[15] * n2;\r\n        _p[14] = _p[14] * k2 + _p[15] * o2;\r\n        _p[15] *= p2; // }\r\n\r\n        this._identityCalculated = false;\r\n        return this;\r\n      }\r\n\r\n      var a1 = _p[0];\r\n      var b1 = _p[1];\r\n      var c1 = _p[2];\r\n      var d1 = _p[3];\r\n      var e1 = _p[4];\r\n      var f1 = _p[5];\r\n      var g1 = _p[6];\r\n      var h1 = _p[7];\r\n      var i1 = _p[8];\r\n      var j1 = _p[9];\r\n      var k1 = _p[10];\r\n      var l1 = _p[11];\r\n      var m1 = _p[12];\r\n      var n1 = _p[13];\r\n      var o1 = _p[14];\r\n      var p1 = _p[15];\r\n      /* matrix order (canvas compatible):\r\n           * ace\r\n           * bdf\r\n           * 001\r\n           */\r\n\r\n      _p[0] = a1 * a2 + b1 * e2 + c1 * i2 + d1 * m2;\r\n      _p[1] = a1 * b2 + b1 * f2 + c1 * j2 + d1 * n2;\r\n      _p[2] = a1 * c2 + b1 * g2 + c1 * k2 + d1 * o2;\r\n      _p[3] = a1 * d2 + b1 * h2 + c1 * l2 + d1 * p2;\r\n      _p[4] = e1 * a2 + f1 * e2 + g1 * i2 + h1 * m2;\r\n      _p[5] = e1 * b2 + f1 * f2 + g1 * j2 + h1 * n2;\r\n      _p[6] = e1 * c2 + f1 * g2 + g1 * k2 + h1 * o2;\r\n      _p[7] = e1 * d2 + f1 * h2 + g1 * l2 + h1 * p2;\r\n      _p[8] = i1 * a2 + j1 * e2 + k1 * i2 + l1 * m2;\r\n      _p[9] = i1 * b2 + j1 * f2 + k1 * j2 + l1 * n2;\r\n      _p[10] = i1 * c2 + j1 * g2 + k1 * k2 + l1 * o2;\r\n      _p[11] = i1 * d2 + j1 * h2 + k1 * l2 + l1 * p2;\r\n      _p[12] = m1 * a2 + n1 * e2 + o1 * i2 + p1 * m2;\r\n      _p[13] = m1 * b2 + n1 * f2 + o1 * j2 + p1 * n2;\r\n      _p[14] = m1 * c2 + n1 * g2 + o1 * k2 + p1 * o2;\r\n      _p[15] = m1 * d2 + n1 * h2 + o1 * l2 + p1 * p2;\r\n      this._identityCalculated = false;\r\n      return this;\r\n    }\r\n\r\n    function multiply(matrix) {\r\n      var matrixProps = matrix.props;\r\n      return this.transform(matrixProps[0], matrixProps[1], matrixProps[2], matrixProps[3], matrixProps[4], matrixProps[5], matrixProps[6], matrixProps[7], matrixProps[8], matrixProps[9], matrixProps[10], matrixProps[11], matrixProps[12], matrixProps[13], matrixProps[14], matrixProps[15]);\r\n    }\r\n\r\n    function isIdentity() {\r\n      if (!this._identityCalculated) {\r\n        this._identity = !(this.props[0] !== 1 || this.props[1] !== 0 || this.props[2] !== 0 || this.props[3] !== 0 || this.props[4] !== 0 || this.props[5] !== 1 || this.props[6] !== 0 || this.props[7] !== 0 || this.props[8] !== 0 || this.props[9] !== 0 || this.props[10] !== 1 || this.props[11] !== 0 || this.props[12] !== 0 || this.props[13] !== 0 || this.props[14] !== 0 || this.props[15] !== 1);\r\n        this._identityCalculated = true;\r\n      }\r\n\r\n      return this._identity;\r\n    }\r\n\r\n    function equals(matr) {\r\n      var i = 0;\r\n\r\n      while (i < 16) {\r\n        if (matr.props[i] !== this.props[i]) {\r\n          return false;\r\n        }\r\n\r\n        i += 1;\r\n      }\r\n\r\n      return true;\r\n    }\r\n\r\n    function clone(matr) {\r\n      var i;\r\n\r\n      for (i = 0; i < 16; i += 1) {\r\n        matr.props[i] = this.props[i];\r\n      }\r\n\r\n      return matr;\r\n    }\r\n\r\n    function cloneFromProps(props) {\r\n      var i;\r\n\r\n      for (i = 0; i < 16; i += 1) {\r\n        this.props[i] = props[i];\r\n      }\r\n    }\r\n\r\n    function applyToPoint(x, y, z) {\r\n      return {\r\n        x: x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\r\n        y: x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\r\n        z: x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]\r\n      };\r\n      /* return {\r\n           x: x * me.a + y * me.c + me.e,\r\n           y: x * me.b + y * me.d + me.f\r\n           }; */\r\n    }\r\n\r\n    function applyToX(x, y, z) {\r\n      return x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12];\r\n    }\r\n\r\n    function applyToY(x, y, z) {\r\n      return x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13];\r\n    }\r\n\r\n    function applyToZ(x, y, z) {\r\n      return x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14];\r\n    }\r\n\r\n    function getInverseMatrix() {\r\n      var determinant = this.props[0] * this.props[5] - this.props[1] * this.props[4];\r\n      var a = this.props[5] / determinant;\r\n      var b = -this.props[1] / determinant;\r\n      var c = -this.props[4] / determinant;\r\n      var d = this.props[0] / determinant;\r\n      var e = (this.props[4] * this.props[13] - this.props[5] * this.props[12]) / determinant;\r\n      var f = -(this.props[0] * this.props[13] - this.props[1] * this.props[12]) / determinant;\r\n      var inverseMatrix = new Matrix();\r\n      inverseMatrix.props[0] = a;\r\n      inverseMatrix.props[1] = b;\r\n      inverseMatrix.props[4] = c;\r\n      inverseMatrix.props[5] = d;\r\n      inverseMatrix.props[12] = e;\r\n      inverseMatrix.props[13] = f;\r\n      return inverseMatrix;\r\n    }\r\n\r\n    function inversePoint(pt) {\r\n      var inverseMatrix = this.getInverseMatrix();\r\n      return inverseMatrix.applyToPointArray(pt[0], pt[1], pt[2] || 0);\r\n    }\r\n\r\n    function inversePoints(pts) {\r\n      var i;\r\n      var len = pts.length;\r\n      var retPts = [];\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        retPts[i] = inversePoint(pts[i]);\r\n      }\r\n\r\n      return retPts;\r\n    }\r\n\r\n    function applyToTriplePoints(pt1, pt2, pt3) {\r\n      var arr = createTypedArray('float32', 6);\r\n\r\n      if (this.isIdentity()) {\r\n        arr[0] = pt1[0];\r\n        arr[1] = pt1[1];\r\n        arr[2] = pt2[0];\r\n        arr[3] = pt2[1];\r\n        arr[4] = pt3[0];\r\n        arr[5] = pt3[1];\r\n      } else {\r\n        var p0 = this.props[0];\r\n        var p1 = this.props[1];\r\n        var p4 = this.props[4];\r\n        var p5 = this.props[5];\r\n        var p12 = this.props[12];\r\n        var p13 = this.props[13];\r\n        arr[0] = pt1[0] * p0 + pt1[1] * p4 + p12;\r\n        arr[1] = pt1[0] * p1 + pt1[1] * p5 + p13;\r\n        arr[2] = pt2[0] * p0 + pt2[1] * p4 + p12;\r\n        arr[3] = pt2[0] * p1 + pt2[1] * p5 + p13;\r\n        arr[4] = pt3[0] * p0 + pt3[1] * p4 + p12;\r\n        arr[5] = pt3[0] * p1 + pt3[1] * p5 + p13;\r\n      }\r\n\r\n      return arr;\r\n    }\r\n\r\n    function applyToPointArray(x, y, z) {\r\n      var arr;\r\n\r\n      if (this.isIdentity()) {\r\n        arr = [x, y, z];\r\n      } else {\r\n        arr = [x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12], x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13], x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]];\r\n      }\r\n\r\n      return arr;\r\n    }\r\n\r\n    function applyToPointStringified(x, y) {\r\n      if (this.isIdentity()) {\r\n        return x + ',' + y;\r\n      }\r\n\r\n      var _p = this.props;\r\n      return Math.round((x * _p[0] + y * _p[4] + _p[12]) * 100) / 100 + ',' + Math.round((x * _p[1] + y * _p[5] + _p[13]) * 100) / 100;\r\n    }\r\n\r\n    function toCSS() {\r\n      // Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\r\n\r\n      /* if(this.isIdentity()) {\r\n              return '';\r\n          } */\r\n      var i = 0;\r\n      var props = this.props;\r\n      var cssValue = 'matrix3d(';\r\n      var v = 10000;\r\n\r\n      while (i < 16) {\r\n        cssValue += _rnd(props[i] * v) / v;\r\n        cssValue += i === 15 ? ')' : ',';\r\n        i += 1;\r\n      }\r\n\r\n      return cssValue;\r\n    }\r\n\r\n    function roundMatrixProperty(val) {\r\n      var v = 10000;\r\n\r\n      if (val < 0.000001 && val > 0 || val > -0.000001 && val < 0) {\r\n        return _rnd(val * v) / v;\r\n      }\r\n\r\n      return val;\r\n    }\r\n\r\n    function to2dCSS() {\r\n      // Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\r\n\r\n      /* if(this.isIdentity()) {\r\n              return '';\r\n          } */\r\n      var props = this.props;\r\n\r\n      var _a = roundMatrixProperty(props[0]);\r\n\r\n      var _b = roundMatrixProperty(props[1]);\r\n\r\n      var _c = roundMatrixProperty(props[4]);\r\n\r\n      var _d = roundMatrixProperty(props[5]);\r\n\r\n      var _e = roundMatrixProperty(props[12]);\r\n\r\n      var _f = roundMatrixProperty(props[13]);\r\n\r\n      return 'matrix(' + _a + ',' + _b + ',' + _c + ',' + _d + ',' + _e + ',' + _f + ')';\r\n    }\r\n\r\n    return function () {\r\n      this.reset = reset;\r\n      this.rotate = rotate;\r\n      this.rotateX = rotateX;\r\n      this.rotateY = rotateY;\r\n      this.rotateZ = rotateZ;\r\n      this.skew = skew;\r\n      this.skewFromAxis = skewFromAxis;\r\n      this.shear = shear;\r\n      this.scale = scale;\r\n      this.setTransform = setTransform;\r\n      this.translate = translate;\r\n      this.transform = transform;\r\n      this.multiply = multiply;\r\n      this.applyToPoint = applyToPoint;\r\n      this.applyToX = applyToX;\r\n      this.applyToY = applyToY;\r\n      this.applyToZ = applyToZ;\r\n      this.applyToPointArray = applyToPointArray;\r\n      this.applyToTriplePoints = applyToTriplePoints;\r\n      this.applyToPointStringified = applyToPointStringified;\r\n      this.toCSS = toCSS;\r\n      this.to2dCSS = to2dCSS;\r\n      this.clone = clone;\r\n      this.cloneFromProps = cloneFromProps;\r\n      this.equals = equals;\r\n      this.inversePoints = inversePoints;\r\n      this.inversePoint = inversePoint;\r\n      this.getInverseMatrix = getInverseMatrix;\r\n      this._t = this.transform;\r\n      this.isIdentity = isIdentity;\r\n      this._identity = true;\r\n      this._identityCalculated = false;\r\n      this.props = createTypedArray('float32', 16);\r\n      this.reset();\r\n    };\r\n  }();\r\n\r\n  function _typeof$3(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$3 = function _typeof(obj) { return typeof obj; }; } else { _typeof$3 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$3(obj); }\r\n  var lottie = {};\r\n  var standalone = '__[STANDALONE]__';\r\n  var animationData = '__[ANIMATIONDATA]__';\r\n  var renderer = '';\r\n\r\n  function setLocation(href) {\r\n    setLocationHref(href);\r\n  }\r\n\r\n  function searchAnimations() {\r\n    if (standalone === true) {\r\n      animationManager.searchAnimations(animationData, standalone, renderer);\r\n    } else {\r\n      animationManager.searchAnimations();\r\n    }\r\n  }\r\n\r\n  function setSubframeRendering(flag) {\r\n    setSubframeEnabled(flag);\r\n  }\r\n\r\n  function setPrefix(prefix) {\r\n    setIdPrefix(prefix);\r\n  }\r\n\r\n  function loadAnimation(params) {\r\n    if (standalone === true) {\r\n      params.animationData = JSON.parse(animationData);\r\n    }\r\n\r\n    return animationManager.loadAnimation(params);\r\n  }\r\n\r\n  function setQuality(value) {\r\n    if (typeof value === 'string') {\r\n      switch (value) {\r\n        case 'high':\r\n          setDefaultCurveSegments(200);\r\n          break;\r\n\r\n        default:\r\n        case 'medium':\r\n          setDefaultCurveSegments(50);\r\n          break;\r\n\r\n        case 'low':\r\n          setDefaultCurveSegments(10);\r\n          break;\r\n      }\r\n    } else if (!isNaN(value) && value > 1) {\r\n      setDefaultCurveSegments(value);\r\n    }\r\n\r\n    if (getDefaultCurveSegments() >= 50) {\r\n      roundValues(false);\r\n    } else {\r\n      roundValues(true);\r\n    }\r\n  }\r\n\r\n  function inBrowser() {\r\n    return typeof navigator !== 'undefined';\r\n  }\r\n\r\n  function installPlugin(type, plugin) {\r\n    if (type === 'expressions') {\r\n      setExpressionsPlugin(plugin);\r\n    }\r\n  }\r\n\r\n  function getFactory(name) {\r\n    switch (name) {\r\n      case 'propertyFactory':\r\n        return PropertyFactory;\r\n\r\n      case 'shapePropertyFactory':\r\n        return ShapePropertyFactory;\r\n\r\n      case 'matrix':\r\n        return Matrix;\r\n\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n\r\n  lottie.play = animationManager.play;\r\n  lottie.pause = animationManager.pause;\r\n  lottie.setLocationHref = setLocation;\r\n  lottie.togglePause = animationManager.togglePause;\r\n  lottie.setSpeed = animationManager.setSpeed;\r\n  lottie.setDirection = animationManager.setDirection;\r\n  lottie.stop = animationManager.stop;\r\n  lottie.searchAnimations = searchAnimations;\r\n  lottie.registerAnimation = animationManager.registerAnimation;\r\n  lottie.loadAnimation = loadAnimation;\r\n  lottie.setSubframeRendering = setSubframeRendering;\r\n  lottie.resize = animationManager.resize; // lottie.start = start;\r\n\r\n  lottie.goToAndStop = animationManager.goToAndStop;\r\n  lottie.destroy = animationManager.destroy;\r\n  lottie.setQuality = setQuality;\r\n  lottie.inBrowser = inBrowser;\r\n  lottie.installPlugin = installPlugin;\r\n  lottie.freeze = animationManager.freeze;\r\n  lottie.unfreeze = animationManager.unfreeze;\r\n  lottie.setVolume = animationManager.setVolume;\r\n  lottie.mute = animationManager.mute;\r\n  lottie.unmute = animationManager.unmute;\r\n  lottie.getRegisteredAnimations = animationManager.getRegisteredAnimations;\r\n  lottie.useWebWorker = setWebWorker;\r\n  lottie.setIDPrefix = setPrefix;\r\n  lottie.__getFactory = getFactory;\r\n  lottie.version = '5.12.2';\r\n\r\n  function checkReady() {\r\n    if (document.readyState === 'complete') {\r\n      clearInterval(readyStateCheckInterval);\r\n      searchAnimations();\r\n    }\r\n  }\r\n\r\n  function getQueryVariable(variable) {\r\n    var vars = queryString.split('&');\r\n\r\n    for (var i = 0; i < vars.length; i += 1) {\r\n      var pair = vars[i].split('=');\r\n\r\n      if (decodeURIComponent(pair[0]) == variable) {\r\n        // eslint-disable-line eqeqeq\r\n        return decodeURIComponent(pair[1]);\r\n      }\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  var queryString = '';\r\n\r\n  if (standalone) {\r\n    var scripts = document.getElementsByTagName('script');\r\n    var index = scripts.length - 1;\r\n    var myScript = scripts[index] || {\r\n      src: ''\r\n    };\r\n    queryString = myScript.src ? myScript.src.replace(/^[^\\?]+\\??/, '') : ''; // eslint-disable-line no-useless-escape\r\n\r\n    renderer = getQueryVariable('renderer');\r\n  }\r\n\r\n  var readyStateCheckInterval = setInterval(checkReady, 100); // this adds bodymovin to the window object for backwards compatibility\r\n\r\n  try {\r\n    if (!((typeof exports === \"undefined\" ? \"undefined\" : _typeof$3(exports)) === 'object' && typeof module !== 'undefined') && !(typeof define === 'function' && define.amd) // eslint-disable-line no-undef\r\n    ) {\r\n      window.bodymovin = lottie;\r\n    }\r\n  } catch (err) {//\r\n  }\r\n\r\n  var ShapeModifiers = function () {\r\n    var ob = {};\r\n    var modifiers = {};\r\n    ob.registerModifier = registerModifier;\r\n    ob.getModifier = getModifier;\r\n\r\n    function registerModifier(nm, factory) {\r\n      if (!modifiers[nm]) {\r\n        modifiers[nm] = factory;\r\n      }\r\n    }\r\n\r\n    function getModifier(nm, elem, data) {\r\n      return new modifiers[nm](elem, data);\r\n    }\r\n\r\n    return ob;\r\n  }();\r\n\r\n  function ShapeModifier() {}\r\n\r\n  ShapeModifier.prototype.initModifierProperties = function () {};\r\n\r\n  ShapeModifier.prototype.addShapeToModifier = function () {};\r\n\r\n  ShapeModifier.prototype.addShape = function (data) {\r\n    if (!this.closed) {\r\n      // Adding shape to dynamic properties. It covers the case where a shape has no effects applied, to reset it's _mdf state on every tick.\r\n      data.sh.container.addDynamicProperty(data.sh);\r\n      var shapeData = {\r\n        shape: data.sh,\r\n        data: data,\r\n        localShapeCollection: shapeCollectionPool.newShapeCollection()\r\n      };\r\n      this.shapes.push(shapeData);\r\n      this.addShapeToModifier(shapeData);\r\n\r\n      if (this._isAnimated) {\r\n        data.setAsAnimated();\r\n      }\r\n    }\r\n  };\r\n\r\n  ShapeModifier.prototype.init = function (elem, data) {\r\n    this.shapes = [];\r\n    this.elem = elem;\r\n    this.initDynamicPropertyContainer(elem);\r\n    this.initModifierProperties(elem, data);\r\n    this.frameId = initialDefaultFrame;\r\n    this.closed = false;\r\n    this.k = false;\r\n\r\n    if (this.dynamicProperties.length) {\r\n      this.k = true;\r\n    } else {\r\n      this.getValue(true);\r\n    }\r\n  };\r\n\r\n  ShapeModifier.prototype.processKeys = function () {\r\n    if (this.elem.globalData.frameId === this.frameId) {\r\n      return;\r\n    }\r\n\r\n    this.frameId = this.elem.globalData.frameId;\r\n    this.iterateDynamicProperties();\r\n  };\r\n\r\n  extendPrototype([DynamicPropertyContainer], ShapeModifier);\r\n\r\n  function TrimModifier() {}\r\n\r\n  extendPrototype([ShapeModifier], TrimModifier);\r\n\r\n  TrimModifier.prototype.initModifierProperties = function (elem, data) {\r\n    this.s = PropertyFactory.getProp(elem, data.s, 0, 0.01, this);\r\n    this.e = PropertyFactory.getProp(elem, data.e, 0, 0.01, this);\r\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0, this);\r\n    this.sValue = 0;\r\n    this.eValue = 0;\r\n    this.getValue = this.processKeys;\r\n    this.m = data.m;\r\n    this._isAnimated = !!this.s.effectsSequence.length || !!this.e.effectsSequence.length || !!this.o.effectsSequence.length;\r\n  };\r\n\r\n  TrimModifier.prototype.addShapeToModifier = function (shapeData) {\r\n    shapeData.pathsData = [];\r\n  };\r\n\r\n  TrimModifier.prototype.calculateShapeEdges = function (s, e, shapeLength, addedLength, totalModifierLength) {\r\n    var segments = [];\r\n\r\n    if (e <= 1) {\r\n      segments.push({\r\n        s: s,\r\n        e: e\r\n      });\r\n    } else if (s >= 1) {\r\n      segments.push({\r\n        s: s - 1,\r\n        e: e - 1\r\n      });\r\n    } else {\r\n      segments.push({\r\n        s: s,\r\n        e: 1\r\n      });\r\n      segments.push({\r\n        s: 0,\r\n        e: e - 1\r\n      });\r\n    }\r\n\r\n    var shapeSegments = [];\r\n    var i;\r\n    var len = segments.length;\r\n    var segmentOb;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      segmentOb = segments[i];\r\n\r\n      if (!(segmentOb.e * totalModifierLength < addedLength || segmentOb.s * totalModifierLength > addedLength + shapeLength)) {\r\n        var shapeS;\r\n        var shapeE;\r\n\r\n        if (segmentOb.s * totalModifierLength <= addedLength) {\r\n          shapeS = 0;\r\n        } else {\r\n          shapeS = (segmentOb.s * totalModifierLength - addedLength) / shapeLength;\r\n        }\r\n\r\n        if (segmentOb.e * totalModifierLength >= addedLength + shapeLength) {\r\n          shapeE = 1;\r\n        } else {\r\n          shapeE = (segmentOb.e * totalModifierLength - addedLength) / shapeLength;\r\n        }\r\n\r\n        shapeSegments.push([shapeS, shapeE]);\r\n      }\r\n    }\r\n\r\n    if (!shapeSegments.length) {\r\n      shapeSegments.push([0, 0]);\r\n    }\r\n\r\n    return shapeSegments;\r\n  };\r\n\r\n  TrimModifier.prototype.releasePathsData = function (pathsData) {\r\n    var i;\r\n    var len = pathsData.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      segmentsLengthPool.release(pathsData[i]);\r\n    }\r\n\r\n    pathsData.length = 0;\r\n    return pathsData;\r\n  };\r\n\r\n  TrimModifier.prototype.processShapes = function (_isFirstFrame) {\r\n    var s;\r\n    var e;\r\n\r\n    if (this._mdf || _isFirstFrame) {\r\n      var o = this.o.v % 360 / 360;\r\n\r\n      if (o < 0) {\r\n        o += 1;\r\n      }\r\n\r\n      if (this.s.v > 1) {\r\n        s = 1 + o;\r\n      } else if (this.s.v < 0) {\r\n        s = 0 + o;\r\n      } else {\r\n        s = this.s.v + o;\r\n      }\r\n\r\n      if (this.e.v > 1) {\r\n        e = 1 + o;\r\n      } else if (this.e.v < 0) {\r\n        e = 0 + o;\r\n      } else {\r\n        e = this.e.v + o;\r\n      }\r\n\r\n      if (s > e) {\r\n        var _s = s;\r\n        s = e;\r\n        e = _s;\r\n      }\r\n\r\n      s = Math.round(s * 10000) * 0.0001;\r\n      e = Math.round(e * 10000) * 0.0001;\r\n      this.sValue = s;\r\n      this.eValue = e;\r\n    } else {\r\n      s = this.sValue;\r\n      e = this.eValue;\r\n    }\r\n\r\n    var shapePaths;\r\n    var i;\r\n    var len = this.shapes.length;\r\n    var j;\r\n    var jLen;\r\n    var pathsData;\r\n    var pathData;\r\n    var totalShapeLength;\r\n    var totalModifierLength = 0;\r\n\r\n    if (e === s) {\r\n      for (i = 0; i < len; i += 1) {\r\n        this.shapes[i].localShapeCollection.releaseShapes();\r\n        this.shapes[i].shape._mdf = true;\r\n        this.shapes[i].shape.paths = this.shapes[i].localShapeCollection;\r\n\r\n        if (this._mdf) {\r\n          this.shapes[i].pathsData.length = 0;\r\n        }\r\n      }\r\n    } else if (!(e === 1 && s === 0 || e === 0 && s === 1)) {\r\n      var segments = [];\r\n      var shapeData;\r\n      var localShapeCollection;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        shapeData = this.shapes[i]; // if shape hasn't changed and trim properties haven't changed, cached previous path can be used\r\n\r\n        if (!shapeData.shape._mdf && !this._mdf && !_isFirstFrame && this.m !== 2) {\r\n          shapeData.shape.paths = shapeData.localShapeCollection;\r\n        } else {\r\n          shapePaths = shapeData.shape.paths;\r\n          jLen = shapePaths._length;\r\n          totalShapeLength = 0;\r\n\r\n          if (!shapeData.shape._mdf && shapeData.pathsData.length) {\r\n            totalShapeLength = shapeData.totalShapeLength;\r\n          } else {\r\n            pathsData = this.releasePathsData(shapeData.pathsData);\r\n\r\n            for (j = 0; j < jLen; j += 1) {\r\n              pathData = bez.getSegmentsLength(shapePaths.shapes[j]);\r\n              pathsData.push(pathData);\r\n              totalShapeLength += pathData.totalLength;\r\n            }\r\n\r\n            shapeData.totalShapeLength = totalShapeLength;\r\n            shapeData.pathsData = pathsData;\r\n          }\r\n\r\n          totalModifierLength += totalShapeLength;\r\n          shapeData.shape._mdf = true;\r\n        }\r\n      }\r\n\r\n      var shapeS = s;\r\n      var shapeE = e;\r\n      var addedLength = 0;\r\n      var edges;\r\n\r\n      for (i = len - 1; i >= 0; i -= 1) {\r\n        shapeData = this.shapes[i];\r\n\r\n        if (shapeData.shape._mdf) {\r\n          localShapeCollection = shapeData.localShapeCollection;\r\n          localShapeCollection.releaseShapes(); // if m === 2 means paths are trimmed individually so edges need to be found for this specific shape relative to whoel group\r\n\r\n          if (this.m === 2 && len > 1) {\r\n            edges = this.calculateShapeEdges(s, e, shapeData.totalShapeLength, addedLength, totalModifierLength);\r\n            addedLength += shapeData.totalShapeLength;\r\n          } else {\r\n            edges = [[shapeS, shapeE]];\r\n          }\r\n\r\n          jLen = edges.length;\r\n\r\n          for (j = 0; j < jLen; j += 1) {\r\n            shapeS = edges[j][0];\r\n            shapeE = edges[j][1];\r\n            segments.length = 0;\r\n\r\n            if (shapeE <= 1) {\r\n              segments.push({\r\n                s: shapeData.totalShapeLength * shapeS,\r\n                e: shapeData.totalShapeLength * shapeE\r\n              });\r\n            } else if (shapeS >= 1) {\r\n              segments.push({\r\n                s: shapeData.totalShapeLength * (shapeS - 1),\r\n                e: shapeData.totalShapeLength * (shapeE - 1)\r\n              });\r\n            } else {\r\n              segments.push({\r\n                s: shapeData.totalShapeLength * shapeS,\r\n                e: shapeData.totalShapeLength\r\n              });\r\n              segments.push({\r\n                s: 0,\r\n                e: shapeData.totalShapeLength * (shapeE - 1)\r\n              });\r\n            }\r\n\r\n            var newShapesData = this.addShapes(shapeData, segments[0]);\r\n\r\n            if (segments[0].s !== segments[0].e) {\r\n              if (segments.length > 1) {\r\n                var lastShapeInCollection = shapeData.shape.paths.shapes[shapeData.shape.paths._length - 1];\r\n\r\n                if (lastShapeInCollection.c) {\r\n                  var lastShape = newShapesData.pop();\r\n                  this.addPaths(newShapesData, localShapeCollection);\r\n                  newShapesData = this.addShapes(shapeData, segments[1], lastShape);\r\n                } else {\r\n                  this.addPaths(newShapesData, localShapeCollection);\r\n                  newShapesData = this.addShapes(shapeData, segments[1]);\r\n                }\r\n              }\r\n\r\n              this.addPaths(newShapesData, localShapeCollection);\r\n            }\r\n          }\r\n\r\n          shapeData.shape.paths = localShapeCollection;\r\n        }\r\n      }\r\n    } else if (this._mdf) {\r\n      for (i = 0; i < len; i += 1) {\r\n        // Releasign Trim Cached paths data when no trim applied in case shapes are modified inbetween.\r\n        // Don't remove this even if it's losing cached info.\r\n        this.shapes[i].pathsData.length = 0;\r\n        this.shapes[i].shape._mdf = true;\r\n      }\r\n    }\r\n  };\r\n\r\n  TrimModifier.prototype.addPaths = function (newPaths, localShapeCollection) {\r\n    var i;\r\n    var len = newPaths.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      localShapeCollection.addShape(newPaths[i]);\r\n    }\r\n  };\r\n\r\n  TrimModifier.prototype.addSegment = function (pt1, pt2, pt3, pt4, shapePath, pos, newShape) {\r\n    shapePath.setXYAt(pt2[0], pt2[1], 'o', pos);\r\n    shapePath.setXYAt(pt3[0], pt3[1], 'i', pos + 1);\r\n\r\n    if (newShape) {\r\n      shapePath.setXYAt(pt1[0], pt1[1], 'v', pos);\r\n    }\r\n\r\n    shapePath.setXYAt(pt4[0], pt4[1], 'v', pos + 1);\r\n  };\r\n\r\n  TrimModifier.prototype.addSegmentFromArray = function (points, shapePath, pos, newShape) {\r\n    shapePath.setXYAt(points[1], points[5], 'o', pos);\r\n    shapePath.setXYAt(points[2], points[6], 'i', pos + 1);\r\n\r\n    if (newShape) {\r\n      shapePath.setXYAt(points[0], points[4], 'v', pos);\r\n    }\r\n\r\n    shapePath.setXYAt(points[3], points[7], 'v', pos + 1);\r\n  };\r\n\r\n  TrimModifier.prototype.addShapes = function (shapeData, shapeSegment, shapePath) {\r\n    var pathsData = shapeData.pathsData;\r\n    var shapePaths = shapeData.shape.paths.shapes;\r\n    var i;\r\n    var len = shapeData.shape.paths._length;\r\n    var j;\r\n    var jLen;\r\n    var addedLength = 0;\r\n    var currentLengthData;\r\n    var segmentCount;\r\n    var lengths;\r\n    var segment;\r\n    var shapes = [];\r\n    var initPos;\r\n    var newShape = true;\r\n\r\n    if (!shapePath) {\r\n      shapePath = shapePool.newElement();\r\n      segmentCount = 0;\r\n      initPos = 0;\r\n    } else {\r\n      segmentCount = shapePath._length;\r\n      initPos = shapePath._length;\r\n    }\r\n\r\n    shapes.push(shapePath);\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      lengths = pathsData[i].lengths;\r\n      shapePath.c = shapePaths[i].c;\r\n      jLen = shapePaths[i].c ? lengths.length : lengths.length + 1;\r\n\r\n      for (j = 1; j < jLen; j += 1) {\r\n        currentLengthData = lengths[j - 1];\r\n\r\n        if (addedLength + currentLengthData.addedLength < shapeSegment.s) {\r\n          addedLength += currentLengthData.addedLength;\r\n          shapePath.c = false;\r\n        } else if (addedLength > shapeSegment.e) {\r\n          shapePath.c = false;\r\n          break;\r\n        } else {\r\n          if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + currentLengthData.addedLength) {\r\n            this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[j], shapePaths[i].v[j], shapePath, segmentCount, newShape);\r\n            newShape = false;\r\n          } else {\r\n            segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[j], shapePaths[i].o[j - 1], shapePaths[i].i[j], (shapeSegment.s - addedLength) / currentLengthData.addedLength, (shapeSegment.e - addedLength) / currentLengthData.addedLength, lengths[j - 1]);\r\n            this.addSegmentFromArray(segment, shapePath, segmentCount, newShape); // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\r\n\r\n            newShape = false;\r\n            shapePath.c = false;\r\n          }\r\n\r\n          addedLength += currentLengthData.addedLength;\r\n          segmentCount += 1;\r\n        }\r\n      }\r\n\r\n      if (shapePaths[i].c && lengths.length) {\r\n        currentLengthData = lengths[j - 1];\r\n\r\n        if (addedLength <= shapeSegment.e) {\r\n          var segmentLength = lengths[j - 1].addedLength;\r\n\r\n          if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + segmentLength) {\r\n            this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[0], shapePaths[i].v[0], shapePath, segmentCount, newShape);\r\n            newShape = false;\r\n          } else {\r\n            segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[0], shapePaths[i].o[j - 1], shapePaths[i].i[0], (shapeSegment.s - addedLength) / segmentLength, (shapeSegment.e - addedLength) / segmentLength, lengths[j - 1]);\r\n            this.addSegmentFromArray(segment, shapePath, segmentCount, newShape); // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\r\n\r\n            newShape = false;\r\n            shapePath.c = false;\r\n          }\r\n        } else {\r\n          shapePath.c = false;\r\n        }\r\n\r\n        addedLength += currentLengthData.addedLength;\r\n        segmentCount += 1;\r\n      }\r\n\r\n      if (shapePath._length) {\r\n        shapePath.setXYAt(shapePath.v[initPos][0], shapePath.v[initPos][1], 'i', initPos);\r\n        shapePath.setXYAt(shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1], 'o', shapePath._length - 1);\r\n      }\r\n\r\n      if (addedLength > shapeSegment.e) {\r\n        break;\r\n      }\r\n\r\n      if (i < len - 1) {\r\n        shapePath = shapePool.newElement();\r\n        newShape = true;\r\n        shapes.push(shapePath);\r\n        segmentCount = 0;\r\n      }\r\n    }\r\n\r\n    return shapes;\r\n  };\r\n\r\n  function PuckerAndBloatModifier() {}\r\n\r\n  extendPrototype([ShapeModifier], PuckerAndBloatModifier);\r\n\r\n  PuckerAndBloatModifier.prototype.initModifierProperties = function (elem, data) {\r\n    this.getValue = this.processKeys;\r\n    this.amount = PropertyFactory.getProp(elem, data.a, 0, null, this);\r\n    this._isAnimated = !!this.amount.effectsSequence.length;\r\n  };\r\n\r\n  PuckerAndBloatModifier.prototype.processPath = function (path, amount) {\r\n    var percent = amount / 100;\r\n    var centerPoint = [0, 0];\r\n    var pathLength = path._length;\r\n    var i = 0;\r\n\r\n    for (i = 0; i < pathLength; i += 1) {\r\n      centerPoint[0] += path.v[i][0];\r\n      centerPoint[1] += path.v[i][1];\r\n    }\r\n\r\n    centerPoint[0] /= pathLength;\r\n    centerPoint[1] /= pathLength;\r\n    var clonedPath = shapePool.newElement();\r\n    clonedPath.c = path.c;\r\n    var vX;\r\n    var vY;\r\n    var oX;\r\n    var oY;\r\n    var iX;\r\n    var iY;\r\n\r\n    for (i = 0; i < pathLength; i += 1) {\r\n      vX = path.v[i][0] + (centerPoint[0] - path.v[i][0]) * percent;\r\n      vY = path.v[i][1] + (centerPoint[1] - path.v[i][1]) * percent;\r\n      oX = path.o[i][0] + (centerPoint[0] - path.o[i][0]) * -percent;\r\n      oY = path.o[i][1] + (centerPoint[1] - path.o[i][1]) * -percent;\r\n      iX = path.i[i][0] + (centerPoint[0] - path.i[i][0]) * -percent;\r\n      iY = path.i[i][1] + (centerPoint[1] - path.i[i][1]) * -percent;\r\n      clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, i);\r\n    }\r\n\r\n    return clonedPath;\r\n  };\r\n\r\n  PuckerAndBloatModifier.prototype.processShapes = function (_isFirstFrame) {\r\n    var shapePaths;\r\n    var i;\r\n    var len = this.shapes.length;\r\n    var j;\r\n    var jLen;\r\n    var amount = this.amount.v;\r\n\r\n    if (amount !== 0) {\r\n      var shapeData;\r\n      var localShapeCollection;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        shapeData = this.shapes[i];\r\n        localShapeCollection = shapeData.localShapeCollection;\r\n\r\n        if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\r\n          localShapeCollection.releaseShapes();\r\n          shapeData.shape._mdf = true;\r\n          shapePaths = shapeData.shape.paths.shapes;\r\n          jLen = shapeData.shape.paths._length;\r\n\r\n          for (j = 0; j < jLen; j += 1) {\r\n            localShapeCollection.addShape(this.processPath(shapePaths[j], amount));\r\n          }\r\n        }\r\n\r\n        shapeData.shape.paths = shapeData.localShapeCollection;\r\n      }\r\n    }\r\n\r\n    if (!this.dynamicProperties.length) {\r\n      this._mdf = false;\r\n    }\r\n  };\r\n\r\n  var TransformPropertyFactory = function () {\r\n    var defaultVector = [0, 0];\r\n\r\n    function applyToMatrix(mat) {\r\n      var _mdf = this._mdf;\r\n      this.iterateDynamicProperties();\r\n      this._mdf = this._mdf || _mdf;\r\n\r\n      if (this.a) {\r\n        mat.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n      }\r\n\r\n      if (this.s) {\r\n        mat.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n      }\r\n\r\n      if (this.sk) {\r\n        mat.skewFromAxis(-this.sk.v, this.sa.v);\r\n      }\r\n\r\n      if (this.r) {\r\n        mat.rotate(-this.r.v);\r\n      } else {\r\n        mat.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\r\n      }\r\n\r\n      if (this.data.p.s) {\r\n        if (this.data.p.z) {\r\n          mat.translate(this.px.v, this.py.v, -this.pz.v);\r\n        } else {\r\n          mat.translate(this.px.v, this.py.v, 0);\r\n        }\r\n      } else {\r\n        mat.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\r\n      }\r\n    }\r\n\r\n    function processKeys(forceRender) {\r\n      if (this.elem.globalData.frameId === this.frameId) {\r\n        return;\r\n      }\r\n\r\n      if (this._isDirty) {\r\n        this.precalculateMatrix();\r\n        this._isDirty = false;\r\n      }\r\n\r\n      this.iterateDynamicProperties();\r\n\r\n      if (this._mdf || forceRender) {\r\n        var frameRate;\r\n        this.v.cloneFromProps(this.pre.props);\r\n\r\n        if (this.appliedTransformations < 1) {\r\n          this.v.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n        }\r\n\r\n        if (this.appliedTransformations < 2) {\r\n          this.v.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n        }\r\n\r\n        if (this.sk && this.appliedTransformations < 3) {\r\n          this.v.skewFromAxis(-this.sk.v, this.sa.v);\r\n        }\r\n\r\n        if (this.r && this.appliedTransformations < 4) {\r\n          this.v.rotate(-this.r.v);\r\n        } else if (!this.r && this.appliedTransformations < 4) {\r\n          this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\r\n        }\r\n\r\n        if (this.autoOriented) {\r\n          var v1;\r\n          var v2;\r\n          frameRate = this.elem.globalData.frameRate;\r\n\r\n          if (this.p && this.p.keyframes && this.p.getValueAtTime) {\r\n            if (this.p._caching.lastFrame + this.p.offsetTime <= this.p.keyframes[0].t) {\r\n              v1 = this.p.getValueAtTime((this.p.keyframes[0].t + 0.01) / frameRate, 0);\r\n              v2 = this.p.getValueAtTime(this.p.keyframes[0].t / frameRate, 0);\r\n            } else if (this.p._caching.lastFrame + this.p.offsetTime >= this.p.keyframes[this.p.keyframes.length - 1].t) {\r\n              v1 = this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length - 1].t / frameRate, 0);\r\n              v2 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t - 0.05) / frameRate, 0);\r\n            } else {\r\n              v1 = this.p.pv;\r\n              v2 = this.p.getValueAtTime((this.p._caching.lastFrame + this.p.offsetTime - 0.01) / frameRate, this.p.offsetTime);\r\n            }\r\n          } else if (this.px && this.px.keyframes && this.py.keyframes && this.px.getValueAtTime && this.py.getValueAtTime) {\r\n            v1 = [];\r\n            v2 = [];\r\n            var px = this.px;\r\n            var py = this.py;\r\n\r\n            if (px._caching.lastFrame + px.offsetTime <= px.keyframes[0].t) {\r\n              v1[0] = px.getValueAtTime((px.keyframes[0].t + 0.01) / frameRate, 0);\r\n              v1[1] = py.getValueAtTime((py.keyframes[0].t + 0.01) / frameRate, 0);\r\n              v2[0] = px.getValueAtTime(px.keyframes[0].t / frameRate, 0);\r\n              v2[1] = py.getValueAtTime(py.keyframes[0].t / frameRate, 0);\r\n            } else if (px._caching.lastFrame + px.offsetTime >= px.keyframes[px.keyframes.length - 1].t) {\r\n              v1[0] = px.getValueAtTime(px.keyframes[px.keyframes.length - 1].t / frameRate, 0);\r\n              v1[1] = py.getValueAtTime(py.keyframes[py.keyframes.length - 1].t / frameRate, 0);\r\n              v2[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t - 0.01) / frameRate, 0);\r\n              v2[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t - 0.01) / frameRate, 0);\r\n            } else {\r\n              v1 = [px.pv, py.pv];\r\n              v2[0] = px.getValueAtTime((px._caching.lastFrame + px.offsetTime - 0.01) / frameRate, px.offsetTime);\r\n              v2[1] = py.getValueAtTime((py._caching.lastFrame + py.offsetTime - 0.01) / frameRate, py.offsetTime);\r\n            }\r\n          } else {\r\n            v2 = defaultVector;\r\n            v1 = v2;\r\n          }\r\n\r\n          this.v.rotate(-Math.atan2(v1[1] - v2[1], v1[0] - v2[0]));\r\n        }\r\n\r\n        if (this.data.p && this.data.p.s) {\r\n          if (this.data.p.z) {\r\n            this.v.translate(this.px.v, this.py.v, -this.pz.v);\r\n          } else {\r\n            this.v.translate(this.px.v, this.py.v, 0);\r\n          }\r\n        } else {\r\n          this.v.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\r\n        }\r\n      }\r\n\r\n      this.frameId = this.elem.globalData.frameId;\r\n    }\r\n\r\n    function precalculateMatrix() {\r\n      this.appliedTransformations = 0;\r\n      this.pre.reset();\r\n\r\n      if (!this.a.effectsSequence.length) {\r\n        this.pre.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n        this.appliedTransformations = 1;\r\n      } else {\r\n        return;\r\n      }\r\n\r\n      if (!this.s.effectsSequence.length) {\r\n        this.pre.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n        this.appliedTransformations = 2;\r\n      } else {\r\n        return;\r\n      }\r\n\r\n      if (this.sk) {\r\n        if (!this.sk.effectsSequence.length && !this.sa.effectsSequence.length) {\r\n          this.pre.skewFromAxis(-this.sk.v, this.sa.v);\r\n          this.appliedTransformations = 3;\r\n        } else {\r\n          return;\r\n        }\r\n      }\r\n\r\n      if (this.r) {\r\n        if (!this.r.effectsSequence.length) {\r\n          this.pre.rotate(-this.r.v);\r\n          this.appliedTransformations = 4;\r\n        }\r\n      } else if (!this.rz.effectsSequence.length && !this.ry.effectsSequence.length && !this.rx.effectsSequence.length && !this.or.effectsSequence.length) {\r\n        this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\r\n        this.appliedTransformations = 4;\r\n      }\r\n    }\r\n\r\n    function autoOrient() {//\r\n      // var prevP = this.getValueAtTime();\r\n    }\r\n\r\n    function addDynamicProperty(prop) {\r\n      this._addDynamicProperty(prop);\r\n\r\n      this.elem.addDynamicProperty(prop);\r\n      this._isDirty = true;\r\n    }\r\n\r\n    function TransformProperty(elem, data, container) {\r\n      this.elem = elem;\r\n      this.frameId = -1;\r\n      this.propType = 'transform';\r\n      this.data = data;\r\n      this.v = new Matrix(); // Precalculated matrix with non animated properties\r\n\r\n      this.pre = new Matrix();\r\n      this.appliedTransformations = 0;\r\n      this.initDynamicPropertyContainer(container || elem);\r\n\r\n      if (data.p && data.p.s) {\r\n        this.px = PropertyFactory.getProp(elem, data.p.x, 0, 0, this);\r\n        this.py = PropertyFactory.getProp(elem, data.p.y, 0, 0, this);\r\n\r\n        if (data.p.z) {\r\n          this.pz = PropertyFactory.getProp(elem, data.p.z, 0, 0, this);\r\n        }\r\n      } else {\r\n        this.p = PropertyFactory.getProp(elem, data.p || {\r\n          k: [0, 0, 0]\r\n        }, 1, 0, this);\r\n      }\r\n\r\n      if (data.rx) {\r\n        this.rx = PropertyFactory.getProp(elem, data.rx, 0, degToRads, this);\r\n        this.ry = PropertyFactory.getProp(elem, data.ry, 0, degToRads, this);\r\n        this.rz = PropertyFactory.getProp(elem, data.rz, 0, degToRads, this);\r\n\r\n        if (data.or.k[0].ti) {\r\n          var i;\r\n          var len = data.or.k.length;\r\n\r\n          for (i = 0; i < len; i += 1) {\r\n            data.or.k[i].to = null;\r\n            data.or.k[i].ti = null;\r\n          }\r\n        }\r\n\r\n        this.or = PropertyFactory.getProp(elem, data.or, 1, degToRads, this); // sh Indicates it needs to be capped between -180 and 180\r\n\r\n        this.or.sh = true;\r\n      } else {\r\n        this.r = PropertyFactory.getProp(elem, data.r || {\r\n          k: 0\r\n        }, 0, degToRads, this);\r\n      }\r\n\r\n      if (data.sk) {\r\n        this.sk = PropertyFactory.getProp(elem, data.sk, 0, degToRads, this);\r\n        this.sa = PropertyFactory.getProp(elem, data.sa, 0, degToRads, this);\r\n      }\r\n\r\n      this.a = PropertyFactory.getProp(elem, data.a || {\r\n        k: [0, 0, 0]\r\n      }, 1, 0, this);\r\n      this.s = PropertyFactory.getProp(elem, data.s || {\r\n        k: [100, 100, 100]\r\n      }, 1, 0.01, this); // Opacity is not part of the transform properties, that's why it won't use this.dynamicProperties. That way transforms won't get updated if opacity changes.\r\n\r\n      if (data.o) {\r\n        this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, elem);\r\n      } else {\r\n        this.o = {\r\n          _mdf: false,\r\n          v: 1\r\n        };\r\n      }\r\n\r\n      this._isDirty = true;\r\n\r\n      if (!this.dynamicProperties.length) {\r\n        this.getValue(true);\r\n      }\r\n    }\r\n\r\n    TransformProperty.prototype = {\r\n      applyToMatrix: applyToMatrix,\r\n      getValue: processKeys,\r\n      precalculateMatrix: precalculateMatrix,\r\n      autoOrient: autoOrient\r\n    };\r\n    extendPrototype([DynamicPropertyContainer], TransformProperty);\r\n    TransformProperty.prototype.addDynamicProperty = addDynamicProperty;\r\n    TransformProperty.prototype._addDynamicProperty = DynamicPropertyContainer.prototype.addDynamicProperty;\r\n\r\n    function getTransformProperty(elem, data, container) {\r\n      return new TransformProperty(elem, data, container);\r\n    }\r\n\r\n    return {\r\n      getTransformProperty: getTransformProperty\r\n    };\r\n  }();\r\n\r\n  function RepeaterModifier() {}\r\n\r\n  extendPrototype([ShapeModifier], RepeaterModifier);\r\n\r\n  RepeaterModifier.prototype.initModifierProperties = function (elem, data) {\r\n    this.getValue = this.processKeys;\r\n    this.c = PropertyFactory.getProp(elem, data.c, 0, null, this);\r\n    this.o = PropertyFactory.getProp(elem, data.o, 0, null, this);\r\n    this.tr = TransformPropertyFactory.getTransformProperty(elem, data.tr, this);\r\n    this.so = PropertyFactory.getProp(elem, data.tr.so, 0, 0.01, this);\r\n    this.eo = PropertyFactory.getProp(elem, data.tr.eo, 0, 0.01, this);\r\n    this.data = data;\r\n\r\n    if (!this.dynamicProperties.length) {\r\n      this.getValue(true);\r\n    }\r\n\r\n    this._isAnimated = !!this.dynamicProperties.length;\r\n    this.pMatrix = new Matrix();\r\n    this.rMatrix = new Matrix();\r\n    this.sMatrix = new Matrix();\r\n    this.tMatrix = new Matrix();\r\n    this.matrix = new Matrix();\r\n  };\r\n\r\n  RepeaterModifier.prototype.applyTransforms = function (pMatrix, rMatrix, sMatrix, transform, perc, inv) {\r\n    var dir = inv ? -1 : 1;\r\n    var scaleX = transform.s.v[0] + (1 - transform.s.v[0]) * (1 - perc);\r\n    var scaleY = transform.s.v[1] + (1 - transform.s.v[1]) * (1 - perc);\r\n    pMatrix.translate(transform.p.v[0] * dir * perc, transform.p.v[1] * dir * perc, transform.p.v[2]);\r\n    rMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\r\n    rMatrix.rotate(-transform.r.v * dir * perc);\r\n    rMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\r\n    sMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\r\n    sMatrix.scale(inv ? 1 / scaleX : scaleX, inv ? 1 / scaleY : scaleY);\r\n    sMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\r\n  };\r\n\r\n  RepeaterModifier.prototype.init = function (elem, arr, pos, elemsData) {\r\n    this.elem = elem;\r\n    this.arr = arr;\r\n    this.pos = pos;\r\n    this.elemsData = elemsData;\r\n    this._currentCopies = 0;\r\n    this._elements = [];\r\n    this._groups = [];\r\n    this.frameId = -1;\r\n    this.initDynamicPropertyContainer(elem);\r\n    this.initModifierProperties(elem, arr[pos]);\r\n\r\n    while (pos > 0) {\r\n      pos -= 1; // this._elements.unshift(arr.splice(pos,1)[0]);\r\n\r\n      this._elements.unshift(arr[pos]);\r\n    }\r\n\r\n    if (this.dynamicProperties.length) {\r\n      this.k = true;\r\n    } else {\r\n      this.getValue(true);\r\n    }\r\n  };\r\n\r\n  RepeaterModifier.prototype.resetElements = function (elements) {\r\n    var i;\r\n    var len = elements.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      elements[i]._processed = false;\r\n\r\n      if (elements[i].ty === 'gr') {\r\n        this.resetElements(elements[i].it);\r\n      }\r\n    }\r\n  };\r\n\r\n  RepeaterModifier.prototype.cloneElements = function (elements) {\r\n    var newElements = JSON.parse(JSON.stringify(elements));\r\n    this.resetElements(newElements);\r\n    return newElements;\r\n  };\r\n\r\n  RepeaterModifier.prototype.changeGroupRender = function (elements, renderFlag) {\r\n    var i;\r\n    var len = elements.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      elements[i]._render = renderFlag;\r\n\r\n      if (elements[i].ty === 'gr') {\r\n        this.changeGroupRender(elements[i].it, renderFlag);\r\n      }\r\n    }\r\n  };\r\n\r\n  RepeaterModifier.prototype.processShapes = function (_isFirstFrame) {\r\n    var items;\r\n    var itemsTransform;\r\n    var i;\r\n    var dir;\r\n    var cont;\r\n    var hasReloaded = false;\r\n\r\n    if (this._mdf || _isFirstFrame) {\r\n      var copies = Math.ceil(this.c.v);\r\n\r\n      if (this._groups.length < copies) {\r\n        while (this._groups.length < copies) {\r\n          var group = {\r\n            it: this.cloneElements(this._elements),\r\n            ty: 'gr'\r\n          };\r\n          group.it.push({\r\n            a: {\r\n              a: 0,\r\n              ix: 1,\r\n              k: [0, 0]\r\n            },\r\n            nm: 'Transform',\r\n            o: {\r\n              a: 0,\r\n              ix: 7,\r\n              k: 100\r\n            },\r\n            p: {\r\n              a: 0,\r\n              ix: 2,\r\n              k: [0, 0]\r\n            },\r\n            r: {\r\n              a: 1,\r\n              ix: 6,\r\n              k: [{\r\n                s: 0,\r\n                e: 0,\r\n                t: 0\r\n              }, {\r\n                s: 0,\r\n                e: 0,\r\n                t: 1\r\n              }]\r\n            },\r\n            s: {\r\n              a: 0,\r\n              ix: 3,\r\n              k: [100, 100]\r\n            },\r\n            sa: {\r\n              a: 0,\r\n              ix: 5,\r\n              k: 0\r\n            },\r\n            sk: {\r\n              a: 0,\r\n              ix: 4,\r\n              k: 0\r\n            },\r\n            ty: 'tr'\r\n          });\r\n          this.arr.splice(0, 0, group);\r\n\r\n          this._groups.splice(0, 0, group);\r\n\r\n          this._currentCopies += 1;\r\n        }\r\n\r\n        this.elem.reloadShapes();\r\n        hasReloaded = true;\r\n      }\r\n\r\n      cont = 0;\r\n      var renderFlag;\r\n\r\n      for (i = 0; i <= this._groups.length - 1; i += 1) {\r\n        renderFlag = cont < copies;\r\n        this._groups[i]._render = renderFlag;\r\n        this.changeGroupRender(this._groups[i].it, renderFlag);\r\n\r\n        if (!renderFlag) {\r\n          var elems = this.elemsData[i].it;\r\n          var transformData = elems[elems.length - 1];\r\n\r\n          if (transformData.transform.op.v !== 0) {\r\n            transformData.transform.op._mdf = true;\r\n            transformData.transform.op.v = 0;\r\n          } else {\r\n            transformData.transform.op._mdf = false;\r\n          }\r\n        }\r\n\r\n        cont += 1;\r\n      }\r\n\r\n      this._currentCopies = copies; /// /\r\n\r\n      var offset = this.o.v;\r\n      var offsetModulo = offset % 1;\r\n      var roundOffset = offset > 0 ? Math.floor(offset) : Math.ceil(offset);\r\n      var pProps = this.pMatrix.props;\r\n      var rProps = this.rMatrix.props;\r\n      var sProps = this.sMatrix.props;\r\n      this.pMatrix.reset();\r\n      this.rMatrix.reset();\r\n      this.sMatrix.reset();\r\n      this.tMatrix.reset();\r\n      this.matrix.reset();\r\n      var iteration = 0;\r\n\r\n      if (offset > 0) {\r\n        while (iteration < roundOffset) {\r\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\r\n          iteration += 1;\r\n        }\r\n\r\n        if (offsetModulo) {\r\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, offsetModulo, false);\r\n          iteration += offsetModulo;\r\n        }\r\n      } else if (offset < 0) {\r\n        while (iteration > roundOffset) {\r\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, true);\r\n          iteration -= 1;\r\n        }\r\n\r\n        if (offsetModulo) {\r\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, -offsetModulo, true);\r\n          iteration -= offsetModulo;\r\n        }\r\n      }\r\n\r\n      i = this.data.m === 1 ? 0 : this._currentCopies - 1;\r\n      dir = this.data.m === 1 ? 1 : -1;\r\n      cont = this._currentCopies;\r\n      var j;\r\n      var jLen;\r\n\r\n      while (cont) {\r\n        items = this.elemsData[i].it;\r\n        itemsTransform = items[items.length - 1].transform.mProps.v.props;\r\n        jLen = itemsTransform.length;\r\n        items[items.length - 1].transform.mProps._mdf = true;\r\n        items[items.length - 1].transform.op._mdf = true;\r\n        items[items.length - 1].transform.op.v = this._currentCopies === 1 ? this.so.v : this.so.v + (this.eo.v - this.so.v) * (i / (this._currentCopies - 1));\r\n\r\n        if (iteration !== 0) {\r\n          if (i !== 0 && dir === 1 || i !== this._currentCopies - 1 && dir === -1) {\r\n            this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\r\n          }\r\n\r\n          this.matrix.transform(rProps[0], rProps[1], rProps[2], rProps[3], rProps[4], rProps[5], rProps[6], rProps[7], rProps[8], rProps[9], rProps[10], rProps[11], rProps[12], rProps[13], rProps[14], rProps[15]);\r\n          this.matrix.transform(sProps[0], sProps[1], sProps[2], sProps[3], sProps[4], sProps[5], sProps[6], sProps[7], sProps[8], sProps[9], sProps[10], sProps[11], sProps[12], sProps[13], sProps[14], sProps[15]);\r\n          this.matrix.transform(pProps[0], pProps[1], pProps[2], pProps[3], pProps[4], pProps[5], pProps[6], pProps[7], pProps[8], pProps[9], pProps[10], pProps[11], pProps[12], pProps[13], pProps[14], pProps[15]);\r\n\r\n          for (j = 0; j < jLen; j += 1) {\r\n            itemsTransform[j] = this.matrix.props[j];\r\n          }\r\n\r\n          this.matrix.reset();\r\n        } else {\r\n          this.matrix.reset();\r\n\r\n          for (j = 0; j < jLen; j += 1) {\r\n            itemsTransform[j] = this.matrix.props[j];\r\n          }\r\n        }\r\n\r\n        iteration += 1;\r\n        cont -= 1;\r\n        i += dir;\r\n      }\r\n    } else {\r\n      cont = this._currentCopies;\r\n      i = 0;\r\n      dir = 1;\r\n\r\n      while (cont) {\r\n        items = this.elemsData[i].it;\r\n        itemsTransform = items[items.length - 1].transform.mProps.v.props;\r\n        items[items.length - 1].transform.mProps._mdf = false;\r\n        items[items.length - 1].transform.op._mdf = false;\r\n        cont -= 1;\r\n        i += dir;\r\n      }\r\n    }\r\n\r\n    return hasReloaded;\r\n  };\r\n\r\n  RepeaterModifier.prototype.addShape = function () {};\r\n\r\n  function RoundCornersModifier() {}\r\n\r\n  extendPrototype([ShapeModifier], RoundCornersModifier);\r\n\r\n  RoundCornersModifier.prototype.initModifierProperties = function (elem, data) {\r\n    this.getValue = this.processKeys;\r\n    this.rd = PropertyFactory.getProp(elem, data.r, 0, null, this);\r\n    this._isAnimated = !!this.rd.effectsSequence.length;\r\n  };\r\n\r\n  RoundCornersModifier.prototype.processPath = function (path, round) {\r\n    var clonedPath = shapePool.newElement();\r\n    clonedPath.c = path.c;\r\n    var i;\r\n    var len = path._length;\r\n    var currentV;\r\n    var currentI;\r\n    var currentO;\r\n    var closerV;\r\n    var distance;\r\n    var newPosPerc;\r\n    var index = 0;\r\n    var vX;\r\n    var vY;\r\n    var oX;\r\n    var oY;\r\n    var iX;\r\n    var iY;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      currentV = path.v[i];\r\n      currentO = path.o[i];\r\n      currentI = path.i[i];\r\n\r\n      if (currentV[0] === currentO[0] && currentV[1] === currentO[1] && currentV[0] === currentI[0] && currentV[1] === currentI[1]) {\r\n        if ((i === 0 || i === len - 1) && !path.c) {\r\n          clonedPath.setTripleAt(currentV[0], currentV[1], currentO[0], currentO[1], currentI[0], currentI[1], index);\r\n          /* clonedPath.v[index] = currentV;\r\n                  clonedPath.o[index] = currentO;\r\n                  clonedPath.i[index] = currentI; */\r\n\r\n          index += 1;\r\n        } else {\r\n          if (i === 0) {\r\n            closerV = path.v[len - 1];\r\n          } else {\r\n            closerV = path.v[i - 1];\r\n          }\r\n\r\n          distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\r\n          newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\r\n          iX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\r\n          vX = iX;\r\n          iY = currentV[1] - (currentV[1] - closerV[1]) * newPosPerc;\r\n          vY = iY;\r\n          oX = vX - (vX - currentV[0]) * roundCorner;\r\n          oY = vY - (vY - currentV[1]) * roundCorner;\r\n          clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\r\n          index += 1;\r\n\r\n          if (i === len - 1) {\r\n            closerV = path.v[0];\r\n          } else {\r\n            closerV = path.v[i + 1];\r\n          }\r\n\r\n          distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\r\n          newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\r\n          oX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\r\n          vX = oX;\r\n          oY = currentV[1] + (closerV[1] - currentV[1]) * newPosPerc;\r\n          vY = oY;\r\n          iX = vX - (vX - currentV[0]) * roundCorner;\r\n          iY = vY - (vY - currentV[1]) * roundCorner;\r\n          clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\r\n          index += 1;\r\n        }\r\n      } else {\r\n        clonedPath.setTripleAt(path.v[i][0], path.v[i][1], path.o[i][0], path.o[i][1], path.i[i][0], path.i[i][1], index);\r\n        index += 1;\r\n      }\r\n    }\r\n\r\n    return clonedPath;\r\n  };\r\n\r\n  RoundCornersModifier.prototype.processShapes = function (_isFirstFrame) {\r\n    var shapePaths;\r\n    var i;\r\n    var len = this.shapes.length;\r\n    var j;\r\n    var jLen;\r\n    var rd = this.rd.v;\r\n\r\n    if (rd !== 0) {\r\n      var shapeData;\r\n      var localShapeCollection;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        shapeData = this.shapes[i];\r\n        localShapeCollection = shapeData.localShapeCollection;\r\n\r\n        if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\r\n          localShapeCollection.releaseShapes();\r\n          shapeData.shape._mdf = true;\r\n          shapePaths = shapeData.shape.paths.shapes;\r\n          jLen = shapeData.shape.paths._length;\r\n\r\n          for (j = 0; j < jLen; j += 1) {\r\n            localShapeCollection.addShape(this.processPath(shapePaths[j], rd));\r\n          }\r\n        }\r\n\r\n        shapeData.shape.paths = shapeData.localShapeCollection;\r\n      }\r\n    }\r\n\r\n    if (!this.dynamicProperties.length) {\r\n      this._mdf = false;\r\n    }\r\n  };\r\n\r\n  function floatEqual(a, b) {\r\n    return Math.abs(a - b) * 100000 <= Math.min(Math.abs(a), Math.abs(b));\r\n  }\r\n\r\n  function floatZero(f) {\r\n    return Math.abs(f) <= 0.00001;\r\n  }\r\n\r\n  function lerp(p0, p1, amount) {\r\n    return p0 * (1 - amount) + p1 * amount;\r\n  }\r\n\r\n  function lerpPoint(p0, p1, amount) {\r\n    return [lerp(p0[0], p1[0], amount), lerp(p0[1], p1[1], amount)];\r\n  }\r\n\r\n  function quadRoots(a, b, c) {\r\n    // no root\r\n    if (a === 0) return [];\r\n    var s = b * b - 4 * a * c; // Complex roots\r\n\r\n    if (s < 0) return [];\r\n    var singleRoot = -b / (2 * a); // 1 root\r\n\r\n    if (s === 0) return [singleRoot];\r\n    var delta = Math.sqrt(s) / (2 * a); // 2 roots\r\n\r\n    return [singleRoot - delta, singleRoot + delta];\r\n  }\r\n\r\n  function polynomialCoefficients(p0, p1, p2, p3) {\r\n    return [-p0 + 3 * p1 - 3 * p2 + p3, 3 * p0 - 6 * p1 + 3 * p2, -3 * p0 + 3 * p1, p0];\r\n  }\r\n\r\n  function singlePoint(p) {\r\n    return new PolynomialBezier(p, p, p, p, false);\r\n  }\r\n\r\n  function PolynomialBezier(p0, p1, p2, p3, linearize) {\r\n    if (linearize && pointEqual(p0, p1)) {\r\n      p1 = lerpPoint(p0, p3, 1 / 3);\r\n    }\r\n\r\n    if (linearize && pointEqual(p2, p3)) {\r\n      p2 = lerpPoint(p0, p3, 2 / 3);\r\n    }\r\n\r\n    var coeffx = polynomialCoefficients(p0[0], p1[0], p2[0], p3[0]);\r\n    var coeffy = polynomialCoefficients(p0[1], p1[1], p2[1], p3[1]);\r\n    this.a = [coeffx[0], coeffy[0]];\r\n    this.b = [coeffx[1], coeffy[1]];\r\n    this.c = [coeffx[2], coeffy[2]];\r\n    this.d = [coeffx[3], coeffy[3]];\r\n    this.points = [p0, p1, p2, p3];\r\n  }\r\n\r\n  PolynomialBezier.prototype.point = function (t) {\r\n    return [((this.a[0] * t + this.b[0]) * t + this.c[0]) * t + this.d[0], ((this.a[1] * t + this.b[1]) * t + this.c[1]) * t + this.d[1]];\r\n  };\r\n\r\n  PolynomialBezier.prototype.derivative = function (t) {\r\n    return [(3 * t * this.a[0] + 2 * this.b[0]) * t + this.c[0], (3 * t * this.a[1] + 2 * this.b[1]) * t + this.c[1]];\r\n  };\r\n\r\n  PolynomialBezier.prototype.tangentAngle = function (t) {\r\n    var p = this.derivative(t);\r\n    return Math.atan2(p[1], p[0]);\r\n  };\r\n\r\n  PolynomialBezier.prototype.normalAngle = function (t) {\r\n    var p = this.derivative(t);\r\n    return Math.atan2(p[0], p[1]);\r\n  };\r\n\r\n  PolynomialBezier.prototype.inflectionPoints = function () {\r\n    var denom = this.a[1] * this.b[0] - this.a[0] * this.b[1];\r\n    if (floatZero(denom)) return [];\r\n    var tcusp = -0.5 * (this.a[1] * this.c[0] - this.a[0] * this.c[1]) / denom;\r\n    var square = tcusp * tcusp - 1 / 3 * (this.b[1] * this.c[0] - this.b[0] * this.c[1]) / denom;\r\n    if (square < 0) return [];\r\n    var root = Math.sqrt(square);\r\n\r\n    if (floatZero(root)) {\r\n      if (root > 0 && root < 1) return [tcusp];\r\n      return [];\r\n    }\r\n\r\n    return [tcusp - root, tcusp + root].filter(function (r) {\r\n      return r > 0 && r < 1;\r\n    });\r\n  };\r\n\r\n  PolynomialBezier.prototype.split = function (t) {\r\n    if (t <= 0) return [singlePoint(this.points[0]), this];\r\n    if (t >= 1) return [this, singlePoint(this.points[this.points.length - 1])];\r\n    var p10 = lerpPoint(this.points[0], this.points[1], t);\r\n    var p11 = lerpPoint(this.points[1], this.points[2], t);\r\n    var p12 = lerpPoint(this.points[2], this.points[3], t);\r\n    var p20 = lerpPoint(p10, p11, t);\r\n    var p21 = lerpPoint(p11, p12, t);\r\n    var p3 = lerpPoint(p20, p21, t);\r\n    return [new PolynomialBezier(this.points[0], p10, p20, p3, true), new PolynomialBezier(p3, p21, p12, this.points[3], true)];\r\n  };\r\n\r\n  function extrema(bez, comp) {\r\n    var min = bez.points[0][comp];\r\n    var max = bez.points[bez.points.length - 1][comp];\r\n\r\n    if (min > max) {\r\n      var e = max;\r\n      max = min;\r\n      min = e;\r\n    } // Derivative roots to find min/max\r\n\r\n\r\n    var f = quadRoots(3 * bez.a[comp], 2 * bez.b[comp], bez.c[comp]);\r\n\r\n    for (var i = 0; i < f.length; i += 1) {\r\n      if (f[i] > 0 && f[i] < 1) {\r\n        var val = bez.point(f[i])[comp];\r\n        if (val < min) min = val;else if (val > max) max = val;\r\n      }\r\n    }\r\n\r\n    return {\r\n      min: min,\r\n      max: max\r\n    };\r\n  }\r\n\r\n  PolynomialBezier.prototype.bounds = function () {\r\n    return {\r\n      x: extrema(this, 0),\r\n      y: extrema(this, 1)\r\n    };\r\n  };\r\n\r\n  PolynomialBezier.prototype.boundingBox = function () {\r\n    var bounds = this.bounds();\r\n    return {\r\n      left: bounds.x.min,\r\n      right: bounds.x.max,\r\n      top: bounds.y.min,\r\n      bottom: bounds.y.max,\r\n      width: bounds.x.max - bounds.x.min,\r\n      height: bounds.y.max - bounds.y.min,\r\n      cx: (bounds.x.max + bounds.x.min) / 2,\r\n      cy: (bounds.y.max + bounds.y.min) / 2\r\n    };\r\n  };\r\n\r\n  function intersectData(bez, t1, t2) {\r\n    var box = bez.boundingBox();\r\n    return {\r\n      cx: box.cx,\r\n      cy: box.cy,\r\n      width: box.width,\r\n      height: box.height,\r\n      bez: bez,\r\n      t: (t1 + t2) / 2,\r\n      t1: t1,\r\n      t2: t2\r\n    };\r\n  }\r\n\r\n  function splitData(data) {\r\n    var split = data.bez.split(0.5);\r\n    return [intersectData(split[0], data.t1, data.t), intersectData(split[1], data.t, data.t2)];\r\n  }\r\n\r\n  function boxIntersect(b1, b2) {\r\n    return Math.abs(b1.cx - b2.cx) * 2 < b1.width + b2.width && Math.abs(b1.cy - b2.cy) * 2 < b1.height + b2.height;\r\n  }\r\n\r\n  function intersectsImpl(d1, d2, depth, tolerance, intersections, maxRecursion) {\r\n    if (!boxIntersect(d1, d2)) return;\r\n\r\n    if (depth >= maxRecursion || d1.width <= tolerance && d1.height <= tolerance && d2.width <= tolerance && d2.height <= tolerance) {\r\n      intersections.push([d1.t, d2.t]);\r\n      return;\r\n    }\r\n\r\n    var d1s = splitData(d1);\r\n    var d2s = splitData(d2);\r\n    intersectsImpl(d1s[0], d2s[0], depth + 1, tolerance, intersections, maxRecursion);\r\n    intersectsImpl(d1s[0], d2s[1], depth + 1, tolerance, intersections, maxRecursion);\r\n    intersectsImpl(d1s[1], d2s[0], depth + 1, tolerance, intersections, maxRecursion);\r\n    intersectsImpl(d1s[1], d2s[1], depth + 1, tolerance, intersections, maxRecursion);\r\n  }\r\n\r\n  PolynomialBezier.prototype.intersections = function (other, tolerance, maxRecursion) {\r\n    if (tolerance === undefined) tolerance = 2;\r\n    if (maxRecursion === undefined) maxRecursion = 7;\r\n    var intersections = [];\r\n    intersectsImpl(intersectData(this, 0, 1), intersectData(other, 0, 1), 0, tolerance, intersections, maxRecursion);\r\n    return intersections;\r\n  };\r\n\r\n  PolynomialBezier.shapeSegment = function (shapePath, index) {\r\n    var nextIndex = (index + 1) % shapePath.length();\r\n    return new PolynomialBezier(shapePath.v[index], shapePath.o[index], shapePath.i[nextIndex], shapePath.v[nextIndex], true);\r\n  };\r\n\r\n  PolynomialBezier.shapeSegmentInverted = function (shapePath, index) {\r\n    var nextIndex = (index + 1) % shapePath.length();\r\n    return new PolynomialBezier(shapePath.v[nextIndex], shapePath.i[nextIndex], shapePath.o[index], shapePath.v[index], true);\r\n  };\r\n\r\n  function crossProduct(a, b) {\r\n    return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\r\n  }\r\n\r\n  function lineIntersection(start1, end1, start2, end2) {\r\n    var v1 = [start1[0], start1[1], 1];\r\n    var v2 = [end1[0], end1[1], 1];\r\n    var v3 = [start2[0], start2[1], 1];\r\n    var v4 = [end2[0], end2[1], 1];\r\n    var r = crossProduct(crossProduct(v1, v2), crossProduct(v3, v4));\r\n    if (floatZero(r[2])) return null;\r\n    return [r[0] / r[2], r[1] / r[2]];\r\n  }\r\n\r\n  function polarOffset(p, angle, length) {\r\n    return [p[0] + Math.cos(angle) * length, p[1] - Math.sin(angle) * length];\r\n  }\r\n\r\n  function pointDistance(p1, p2) {\r\n    return Math.hypot(p1[0] - p2[0], p1[1] - p2[1]);\r\n  }\r\n\r\n  function pointEqual(p1, p2) {\r\n    return floatEqual(p1[0], p2[0]) && floatEqual(p1[1], p2[1]);\r\n  }\r\n\r\n  function ZigZagModifier() {}\r\n\r\n  extendPrototype([ShapeModifier], ZigZagModifier);\r\n\r\n  ZigZagModifier.prototype.initModifierProperties = function (elem, data) {\r\n    this.getValue = this.processKeys;\r\n    this.amplitude = PropertyFactory.getProp(elem, data.s, 0, null, this);\r\n    this.frequency = PropertyFactory.getProp(elem, data.r, 0, null, this);\r\n    this.pointsType = PropertyFactory.getProp(elem, data.pt, 0, null, this);\r\n    this._isAnimated = this.amplitude.effectsSequence.length !== 0 || this.frequency.effectsSequence.length !== 0 || this.pointsType.effectsSequence.length !== 0;\r\n  };\r\n\r\n  function setPoint(outputBezier, point, angle, direction, amplitude, outAmplitude, inAmplitude) {\r\n    var angO = angle - Math.PI / 2;\r\n    var angI = angle + Math.PI / 2;\r\n    var px = point[0] + Math.cos(angle) * direction * amplitude;\r\n    var py = point[1] - Math.sin(angle) * direction * amplitude;\r\n    outputBezier.setTripleAt(px, py, px + Math.cos(angO) * outAmplitude, py - Math.sin(angO) * outAmplitude, px + Math.cos(angI) * inAmplitude, py - Math.sin(angI) * inAmplitude, outputBezier.length());\r\n  }\r\n\r\n  function getPerpendicularVector(pt1, pt2) {\r\n    var vector = [pt2[0] - pt1[0], pt2[1] - pt1[1]];\r\n    var rot = -Math.PI * 0.5;\r\n    var rotatedVector = [Math.cos(rot) * vector[0] - Math.sin(rot) * vector[1], Math.sin(rot) * vector[0] + Math.cos(rot) * vector[1]];\r\n    return rotatedVector;\r\n  }\r\n\r\n  function getProjectingAngle(path, cur) {\r\n    var prevIndex = cur === 0 ? path.length() - 1 : cur - 1;\r\n    var nextIndex = (cur + 1) % path.length();\r\n    var prevPoint = path.v[prevIndex];\r\n    var nextPoint = path.v[nextIndex];\r\n    var pVector = getPerpendicularVector(prevPoint, nextPoint);\r\n    return Math.atan2(0, 1) - Math.atan2(pVector[1], pVector[0]);\r\n  }\r\n\r\n  function zigZagCorner(outputBezier, path, cur, amplitude, frequency, pointType, direction) {\r\n    var angle = getProjectingAngle(path, cur);\r\n    var point = path.v[cur % path._length];\r\n    var prevPoint = path.v[cur === 0 ? path._length - 1 : cur - 1];\r\n    var nextPoint = path.v[(cur + 1) % path._length];\r\n    var prevDist = pointType === 2 ? Math.sqrt(Math.pow(point[0] - prevPoint[0], 2) + Math.pow(point[1] - prevPoint[1], 2)) : 0;\r\n    var nextDist = pointType === 2 ? Math.sqrt(Math.pow(point[0] - nextPoint[0], 2) + Math.pow(point[1] - nextPoint[1], 2)) : 0;\r\n    setPoint(outputBezier, path.v[cur % path._length], angle, direction, amplitude, nextDist / ((frequency + 1) * 2), prevDist / ((frequency + 1) * 2), pointType);\r\n  }\r\n\r\n  function zigZagSegment(outputBezier, segment, amplitude, frequency, pointType, direction) {\r\n    for (var i = 0; i < frequency; i += 1) {\r\n      var t = (i + 1) / (frequency + 1);\r\n      var dist = pointType === 2 ? Math.sqrt(Math.pow(segment.points[3][0] - segment.points[0][0], 2) + Math.pow(segment.points[3][1] - segment.points[0][1], 2)) : 0;\r\n      var angle = segment.normalAngle(t);\r\n      var point = segment.point(t);\r\n      setPoint(outputBezier, point, angle, direction, amplitude, dist / ((frequency + 1) * 2), dist / ((frequency + 1) * 2), pointType);\r\n      direction = -direction;\r\n    }\r\n\r\n    return direction;\r\n  }\r\n\r\n  ZigZagModifier.prototype.processPath = function (path, amplitude, frequency, pointType) {\r\n    var count = path._length;\r\n    var clonedPath = shapePool.newElement();\r\n    clonedPath.c = path.c;\r\n\r\n    if (!path.c) {\r\n      count -= 1;\r\n    }\r\n\r\n    if (count === 0) return clonedPath;\r\n    var direction = -1;\r\n    var segment = PolynomialBezier.shapeSegment(path, 0);\r\n    zigZagCorner(clonedPath, path, 0, amplitude, frequency, pointType, direction);\r\n\r\n    for (var i = 0; i < count; i += 1) {\r\n      direction = zigZagSegment(clonedPath, segment, amplitude, frequency, pointType, -direction);\r\n\r\n      if (i === count - 1 && !path.c) {\r\n        segment = null;\r\n      } else {\r\n        segment = PolynomialBezier.shapeSegment(path, (i + 1) % count);\r\n      }\r\n\r\n      zigZagCorner(clonedPath, path, i + 1, amplitude, frequency, pointType, direction);\r\n    }\r\n\r\n    return clonedPath;\r\n  };\r\n\r\n  ZigZagModifier.prototype.processShapes = function (_isFirstFrame) {\r\n    var shapePaths;\r\n    var i;\r\n    var len = this.shapes.length;\r\n    var j;\r\n    var jLen;\r\n    var amplitude = this.amplitude.v;\r\n    var frequency = Math.max(0, Math.round(this.frequency.v));\r\n    var pointType = this.pointsType.v;\r\n\r\n    if (amplitude !== 0) {\r\n      var shapeData;\r\n      var localShapeCollection;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        shapeData = this.shapes[i];\r\n        localShapeCollection = shapeData.localShapeCollection;\r\n\r\n        if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\r\n          localShapeCollection.releaseShapes();\r\n          shapeData.shape._mdf = true;\r\n          shapePaths = shapeData.shape.paths.shapes;\r\n          jLen = shapeData.shape.paths._length;\r\n\r\n          for (j = 0; j < jLen; j += 1) {\r\n            localShapeCollection.addShape(this.processPath(shapePaths[j], amplitude, frequency, pointType));\r\n          }\r\n        }\r\n\r\n        shapeData.shape.paths = shapeData.localShapeCollection;\r\n      }\r\n    }\r\n\r\n    if (!this.dynamicProperties.length) {\r\n      this._mdf = false;\r\n    }\r\n  };\r\n\r\n  function linearOffset(p1, p2, amount) {\r\n    var angle = Math.atan2(p2[0] - p1[0], p2[1] - p1[1]);\r\n    return [polarOffset(p1, angle, amount), polarOffset(p2, angle, amount)];\r\n  }\r\n\r\n  function offsetSegment(segment, amount) {\r\n    var p0;\r\n    var p1a;\r\n    var p1b;\r\n    var p2b;\r\n    var p2a;\r\n    var p3;\r\n    var e;\r\n    e = linearOffset(segment.points[0], segment.points[1], amount);\r\n    p0 = e[0];\r\n    p1a = e[1];\r\n    e = linearOffset(segment.points[1], segment.points[2], amount);\r\n    p1b = e[0];\r\n    p2b = e[1];\r\n    e = linearOffset(segment.points[2], segment.points[3], amount);\r\n    p2a = e[0];\r\n    p3 = e[1];\r\n    var p1 = lineIntersection(p0, p1a, p1b, p2b);\r\n    if (p1 === null) p1 = p1a;\r\n    var p2 = lineIntersection(p2a, p3, p1b, p2b);\r\n    if (p2 === null) p2 = p2a;\r\n    return new PolynomialBezier(p0, p1, p2, p3);\r\n  }\r\n\r\n  function joinLines(outputBezier, seg1, seg2, lineJoin, miterLimit) {\r\n    var p0 = seg1.points[3];\r\n    var p1 = seg2.points[0]; // Bevel\r\n\r\n    if (lineJoin === 3) return p0; // Connected, they don't need a joint\r\n\r\n    if (pointEqual(p0, p1)) return p0; // Round\r\n\r\n    if (lineJoin === 2) {\r\n      var angleOut = -seg1.tangentAngle(1);\r\n      var angleIn = -seg2.tangentAngle(0) + Math.PI;\r\n      var center = lineIntersection(p0, polarOffset(p0, angleOut + Math.PI / 2, 100), p1, polarOffset(p1, angleOut + Math.PI / 2, 100));\r\n      var radius = center ? pointDistance(center, p0) : pointDistance(p0, p1) / 2;\r\n      var tan = polarOffset(p0, angleOut, 2 * radius * roundCorner);\r\n      outputBezier.setXYAt(tan[0], tan[1], 'o', outputBezier.length() - 1);\r\n      tan = polarOffset(p1, angleIn, 2 * radius * roundCorner);\r\n      outputBezier.setTripleAt(p1[0], p1[1], p1[0], p1[1], tan[0], tan[1], outputBezier.length());\r\n      return p1;\r\n    } // Miter\r\n\r\n\r\n    var t0 = pointEqual(p0, seg1.points[2]) ? seg1.points[0] : seg1.points[2];\r\n    var t1 = pointEqual(p1, seg2.points[1]) ? seg2.points[3] : seg2.points[1];\r\n    var intersection = lineIntersection(t0, p0, p1, t1);\r\n\r\n    if (intersection && pointDistance(intersection, p0) < miterLimit) {\r\n      outputBezier.setTripleAt(intersection[0], intersection[1], intersection[0], intersection[1], intersection[0], intersection[1], outputBezier.length());\r\n      return intersection;\r\n    }\r\n\r\n    return p0;\r\n  }\r\n\r\n  function getIntersection(a, b) {\r\n    var intersect = a.intersections(b);\r\n    if (intersect.length && floatEqual(intersect[0][0], 1)) intersect.shift();\r\n    if (intersect.length) return intersect[0];\r\n    return null;\r\n  }\r\n\r\n  function pruneSegmentIntersection(a, b) {\r\n    var outa = a.slice();\r\n    var outb = b.slice();\r\n    var intersect = getIntersection(a[a.length - 1], b[0]);\r\n\r\n    if (intersect) {\r\n      outa[a.length - 1] = a[a.length - 1].split(intersect[0])[0];\r\n      outb[0] = b[0].split(intersect[1])[1];\r\n    }\r\n\r\n    if (a.length > 1 && b.length > 1) {\r\n      intersect = getIntersection(a[0], b[b.length - 1]);\r\n\r\n      if (intersect) {\r\n        return [[a[0].split(intersect[0])[0]], [b[b.length - 1].split(intersect[1])[1]]];\r\n      }\r\n    }\r\n\r\n    return [outa, outb];\r\n  }\r\n\r\n  function pruneIntersections(segments) {\r\n    var e;\r\n\r\n    for (var i = 1; i < segments.length; i += 1) {\r\n      e = pruneSegmentIntersection(segments[i - 1], segments[i]);\r\n      segments[i - 1] = e[0];\r\n      segments[i] = e[1];\r\n    }\r\n\r\n    if (segments.length > 1) {\r\n      e = pruneSegmentIntersection(segments[segments.length - 1], segments[0]);\r\n      segments[segments.length - 1] = e[0];\r\n      segments[0] = e[1];\r\n    }\r\n\r\n    return segments;\r\n  }\r\n\r\n  function offsetSegmentSplit(segment, amount) {\r\n    /*\r\n      We split each bezier segment into smaller pieces based\r\n      on inflection points, this ensures the control point\r\n      polygon is convex.\r\n        (A cubic bezier can have none, one, or two inflection points)\r\n    */\r\n    var flex = segment.inflectionPoints();\r\n    var left;\r\n    var right;\r\n    var split;\r\n    var mid;\r\n\r\n    if (flex.length === 0) {\r\n      return [offsetSegment(segment, amount)];\r\n    }\r\n\r\n    if (flex.length === 1 || floatEqual(flex[1], 1)) {\r\n      split = segment.split(flex[0]);\r\n      left = split[0];\r\n      right = split[1];\r\n      return [offsetSegment(left, amount), offsetSegment(right, amount)];\r\n    }\r\n\r\n    split = segment.split(flex[0]);\r\n    left = split[0];\r\n    var t = (flex[1] - flex[0]) / (1 - flex[0]);\r\n    split = split[1].split(t);\r\n    mid = split[0];\r\n    right = split[1];\r\n    return [offsetSegment(left, amount), offsetSegment(mid, amount), offsetSegment(right, amount)];\r\n  }\r\n\r\n  function OffsetPathModifier() {}\r\n\r\n  extendPrototype([ShapeModifier], OffsetPathModifier);\r\n\r\n  OffsetPathModifier.prototype.initModifierProperties = function (elem, data) {\r\n    this.getValue = this.processKeys;\r\n    this.amount = PropertyFactory.getProp(elem, data.a, 0, null, this);\r\n    this.miterLimit = PropertyFactory.getProp(elem, data.ml, 0, null, this);\r\n    this.lineJoin = data.lj;\r\n    this._isAnimated = this.amount.effectsSequence.length !== 0;\r\n  };\r\n\r\n  OffsetPathModifier.prototype.processPath = function (inputBezier, amount, lineJoin, miterLimit) {\r\n    var outputBezier = shapePool.newElement();\r\n    outputBezier.c = inputBezier.c;\r\n    var count = inputBezier.length();\r\n\r\n    if (!inputBezier.c) {\r\n      count -= 1;\r\n    }\r\n\r\n    var i;\r\n    var j;\r\n    var segment;\r\n    var multiSegments = [];\r\n\r\n    for (i = 0; i < count; i += 1) {\r\n      segment = PolynomialBezier.shapeSegment(inputBezier, i);\r\n      multiSegments.push(offsetSegmentSplit(segment, amount));\r\n    }\r\n\r\n    if (!inputBezier.c) {\r\n      for (i = count - 1; i >= 0; i -= 1) {\r\n        segment = PolynomialBezier.shapeSegmentInverted(inputBezier, i);\r\n        multiSegments.push(offsetSegmentSplit(segment, amount));\r\n      }\r\n    }\r\n\r\n    multiSegments = pruneIntersections(multiSegments); // Add bezier segments to the output and apply line joints\r\n\r\n    var lastPoint = null;\r\n    var lastSeg = null;\r\n\r\n    for (i = 0; i < multiSegments.length; i += 1) {\r\n      var multiSegment = multiSegments[i];\r\n      if (lastSeg) lastPoint = joinLines(outputBezier, lastSeg, multiSegment[0], lineJoin, miterLimit);\r\n      lastSeg = multiSegment[multiSegment.length - 1];\r\n\r\n      for (j = 0; j < multiSegment.length; j += 1) {\r\n        segment = multiSegment[j];\r\n\r\n        if (lastPoint && pointEqual(segment.points[0], lastPoint)) {\r\n          outputBezier.setXYAt(segment.points[1][0], segment.points[1][1], 'o', outputBezier.length() - 1);\r\n        } else {\r\n          outputBezier.setTripleAt(segment.points[0][0], segment.points[0][1], segment.points[1][0], segment.points[1][1], segment.points[0][0], segment.points[0][1], outputBezier.length());\r\n        }\r\n\r\n        outputBezier.setTripleAt(segment.points[3][0], segment.points[3][1], segment.points[3][0], segment.points[3][1], segment.points[2][0], segment.points[2][1], outputBezier.length());\r\n        lastPoint = segment.points[3];\r\n      }\r\n    }\r\n\r\n    if (multiSegments.length) joinLines(outputBezier, lastSeg, multiSegments[0][0], lineJoin, miterLimit);\r\n    return outputBezier;\r\n  };\r\n\r\n  OffsetPathModifier.prototype.processShapes = function (_isFirstFrame) {\r\n    var shapePaths;\r\n    var i;\r\n    var len = this.shapes.length;\r\n    var j;\r\n    var jLen;\r\n    var amount = this.amount.v;\r\n    var miterLimit = this.miterLimit.v;\r\n    var lineJoin = this.lineJoin;\r\n\r\n    if (amount !== 0) {\r\n      var shapeData;\r\n      var localShapeCollection;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        shapeData = this.shapes[i];\r\n        localShapeCollection = shapeData.localShapeCollection;\r\n\r\n        if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\r\n          localShapeCollection.releaseShapes();\r\n          shapeData.shape._mdf = true;\r\n          shapePaths = shapeData.shape.paths.shapes;\r\n          jLen = shapeData.shape.paths._length;\r\n\r\n          for (j = 0; j < jLen; j += 1) {\r\n            localShapeCollection.addShape(this.processPath(shapePaths[j], amount, lineJoin, miterLimit));\r\n          }\r\n        }\r\n\r\n        shapeData.shape.paths = shapeData.localShapeCollection;\r\n      }\r\n    }\r\n\r\n    if (!this.dynamicProperties.length) {\r\n      this._mdf = false;\r\n    }\r\n  };\r\n\r\n  function getFontProperties(fontData) {\r\n    var styles = fontData.fStyle ? fontData.fStyle.split(' ') : [];\r\n    var fWeight = 'normal';\r\n    var fStyle = 'normal';\r\n    var len = styles.length;\r\n    var styleName;\r\n\r\n    for (var i = 0; i < len; i += 1) {\r\n      styleName = styles[i].toLowerCase();\r\n\r\n      switch (styleName) {\r\n        case 'italic':\r\n          fStyle = 'italic';\r\n          break;\r\n\r\n        case 'bold':\r\n          fWeight = '700';\r\n          break;\r\n\r\n        case 'black':\r\n          fWeight = '900';\r\n          break;\r\n\r\n        case 'medium':\r\n          fWeight = '500';\r\n          break;\r\n\r\n        case 'regular':\r\n        case 'normal':\r\n          fWeight = '400';\r\n          break;\r\n\r\n        case 'light':\r\n        case 'thin':\r\n          fWeight = '200';\r\n          break;\r\n\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n\r\n    return {\r\n      style: fStyle,\r\n      weight: fontData.fWeight || fWeight\r\n    };\r\n  }\r\n\r\n  var FontManager = function () {\r\n    var maxWaitingTime = 5000;\r\n    var emptyChar = {\r\n      w: 0,\r\n      size: 0,\r\n      shapes: [],\r\n      data: {\r\n        shapes: []\r\n      }\r\n    };\r\n    var combinedCharacters = []; // Hindi characters\r\n\r\n    combinedCharacters = combinedCharacters.concat([2304, 2305, 2306, 2307, 2362, 2363, 2364, 2364, 2366, 2367, 2368, 2369, 2370, 2371, 2372, 2373, 2374, 2375, 2376, 2377, 2378, 2379, 2380, 2381, 2382, 2383, 2387, 2388, 2389, 2390, 2391, 2402, 2403]);\r\n    var BLACK_FLAG_CODE_POINT = 127988;\r\n    var CANCEL_TAG_CODE_POINT = 917631;\r\n    var A_TAG_CODE_POINT = 917601;\r\n    var Z_TAG_CODE_POINT = 917626;\r\n    var VARIATION_SELECTOR_16_CODE_POINT = 65039;\r\n    var ZERO_WIDTH_JOINER_CODE_POINT = 8205;\r\n    var REGIONAL_CHARACTER_A_CODE_POINT = 127462;\r\n    var REGIONAL_CHARACTER_Z_CODE_POINT = 127487;\r\n    var surrogateModifiers = ['d83cdffb', 'd83cdffc', 'd83cdffd', 'd83cdffe', 'd83cdfff'];\r\n\r\n    function trimFontOptions(font) {\r\n      var familyArray = font.split(',');\r\n      var i;\r\n      var len = familyArray.length;\r\n      var enabledFamilies = [];\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        if (familyArray[i] !== 'sans-serif' && familyArray[i] !== 'monospace') {\r\n          enabledFamilies.push(familyArray[i]);\r\n        }\r\n      }\r\n\r\n      return enabledFamilies.join(',');\r\n    }\r\n\r\n    function setUpNode(font, family) {\r\n      var parentNode = createTag('span'); // Node is invisible to screen readers.\r\n\r\n      parentNode.setAttribute('aria-hidden', true);\r\n      parentNode.style.fontFamily = family;\r\n      var node = createTag('span'); // Characters that vary significantly among different fonts\r\n\r\n      node.innerText = 'giItT1WQy@!-/#'; // Visible - so we can measure it - but not on the screen\r\n\r\n      parentNode.style.position = 'absolute';\r\n      parentNode.style.left = '-10000px';\r\n      parentNode.style.top = '-10000px'; // Large font size makes even subtle changes obvious\r\n\r\n      parentNode.style.fontSize = '300px'; // Reset any font properties\r\n\r\n      parentNode.style.fontVariant = 'normal';\r\n      parentNode.style.fontStyle = 'normal';\r\n      parentNode.style.fontWeight = 'normal';\r\n      parentNode.style.letterSpacing = '0';\r\n      parentNode.appendChild(node);\r\n      document.body.appendChild(parentNode); // Remember width with no applied web font\r\n\r\n      var width = node.offsetWidth;\r\n      node.style.fontFamily = trimFontOptions(font) + ', ' + family;\r\n      return {\r\n        node: node,\r\n        w: width,\r\n        parent: parentNode\r\n      };\r\n    }\r\n\r\n    function checkLoadedFonts() {\r\n      var i;\r\n      var len = this.fonts.length;\r\n      var node;\r\n      var w;\r\n      var loadedCount = len;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        if (this.fonts[i].loaded) {\r\n          loadedCount -= 1;\r\n        } else if (this.fonts[i].fOrigin === 'n' || this.fonts[i].origin === 0) {\r\n          this.fonts[i].loaded = true;\r\n        } else {\r\n          node = this.fonts[i].monoCase.node;\r\n          w = this.fonts[i].monoCase.w;\r\n\r\n          if (node.offsetWidth !== w) {\r\n            loadedCount -= 1;\r\n            this.fonts[i].loaded = true;\r\n          } else {\r\n            node = this.fonts[i].sansCase.node;\r\n            w = this.fonts[i].sansCase.w;\r\n\r\n            if (node.offsetWidth !== w) {\r\n              loadedCount -= 1;\r\n              this.fonts[i].loaded = true;\r\n            }\r\n          }\r\n\r\n          if (this.fonts[i].loaded) {\r\n            this.fonts[i].sansCase.parent.parentNode.removeChild(this.fonts[i].sansCase.parent);\r\n            this.fonts[i].monoCase.parent.parentNode.removeChild(this.fonts[i].monoCase.parent);\r\n          }\r\n        }\r\n      }\r\n\r\n      if (loadedCount !== 0 && Date.now() - this.initTime < maxWaitingTime) {\r\n        setTimeout(this.checkLoadedFontsBinded, 20);\r\n      } else {\r\n        setTimeout(this.setIsLoadedBinded, 10);\r\n      }\r\n    }\r\n\r\n    function createHelper(fontData, def) {\r\n      var engine = document.body && def ? 'svg' : 'canvas';\r\n      var helper;\r\n      var fontProps = getFontProperties(fontData);\r\n\r\n      if (engine === 'svg') {\r\n        var tHelper = createNS('text');\r\n        tHelper.style.fontSize = '100px'; // tHelper.style.fontFamily = fontData.fFamily;\r\n\r\n        tHelper.setAttribute('font-family', fontData.fFamily);\r\n        tHelper.setAttribute('font-style', fontProps.style);\r\n        tHelper.setAttribute('font-weight', fontProps.weight);\r\n        tHelper.textContent = '1';\r\n\r\n        if (fontData.fClass) {\r\n          tHelper.style.fontFamily = 'inherit';\r\n          tHelper.setAttribute('class', fontData.fClass);\r\n        } else {\r\n          tHelper.style.fontFamily = fontData.fFamily;\r\n        }\r\n\r\n        def.appendChild(tHelper);\r\n        helper = tHelper;\r\n      } else {\r\n        var tCanvasHelper = new OffscreenCanvas(500, 500).getContext('2d');\r\n        tCanvasHelper.font = fontProps.style + ' ' + fontProps.weight + ' 100px ' + fontData.fFamily;\r\n        helper = tCanvasHelper;\r\n      }\r\n\r\n      function measure(text) {\r\n        if (engine === 'svg') {\r\n          helper.textContent = text;\r\n          return helper.getComputedTextLength();\r\n        }\r\n\r\n        return helper.measureText(text).width;\r\n      }\r\n\r\n      return {\r\n        measureText: measure\r\n      };\r\n    }\r\n\r\n    function addFonts(fontData, defs) {\r\n      if (!fontData) {\r\n        this.isLoaded = true;\r\n        return;\r\n      }\r\n\r\n      if (this.chars) {\r\n        this.isLoaded = true;\r\n        this.fonts = fontData.list;\r\n        return;\r\n      }\r\n\r\n      if (!document.body) {\r\n        this.isLoaded = true;\r\n        fontData.list.forEach(function (data) {\r\n          data.helper = createHelper(data);\r\n          data.cache = {};\r\n        });\r\n        this.fonts = fontData.list;\r\n        return;\r\n      }\r\n\r\n      var fontArr = fontData.list;\r\n      var i;\r\n      var len = fontArr.length;\r\n      var _pendingFonts = len;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        var shouldLoadFont = true;\r\n        var loadedSelector;\r\n        var j;\r\n        fontArr[i].loaded = false;\r\n        fontArr[i].monoCase = setUpNode(fontArr[i].fFamily, 'monospace');\r\n        fontArr[i].sansCase = setUpNode(fontArr[i].fFamily, 'sans-serif');\r\n\r\n        if (!fontArr[i].fPath) {\r\n          fontArr[i].loaded = true;\r\n          _pendingFonts -= 1;\r\n        } else if (fontArr[i].fOrigin === 'p' || fontArr[i].origin === 3) {\r\n          loadedSelector = document.querySelectorAll('style[f-forigin=\"p\"][f-family=\"' + fontArr[i].fFamily + '\"], style[f-origin=\"3\"][f-family=\"' + fontArr[i].fFamily + '\"]');\r\n\r\n          if (loadedSelector.length > 0) {\r\n            shouldLoadFont = false;\r\n          }\r\n\r\n          if (shouldLoadFont) {\r\n            var s = createTag('style');\r\n            s.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n            s.setAttribute('f-origin', fontArr[i].origin);\r\n            s.setAttribute('f-family', fontArr[i].fFamily);\r\n            s.type = 'text/css';\r\n            s.innerText = '@font-face {font-family: ' + fontArr[i].fFamily + \"; font-style: normal; src: url('\" + fontArr[i].fPath + \"');}\";\r\n            defs.appendChild(s);\r\n          }\r\n        } else if (fontArr[i].fOrigin === 'g' || fontArr[i].origin === 1) {\r\n          loadedSelector = document.querySelectorAll('link[f-forigin=\"g\"], link[f-origin=\"1\"]');\r\n\r\n          for (j = 0; j < loadedSelector.length; j += 1) {\r\n            if (loadedSelector[j].href.indexOf(fontArr[i].fPath) !== -1) {\r\n              // Font is already loaded\r\n              shouldLoadFont = false;\r\n            }\r\n          }\r\n\r\n          if (shouldLoadFont) {\r\n            var l = createTag('link');\r\n            l.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n            l.setAttribute('f-origin', fontArr[i].origin);\r\n            l.type = 'text/css';\r\n            l.rel = 'stylesheet';\r\n            l.href = fontArr[i].fPath;\r\n            document.body.appendChild(l);\r\n          }\r\n        } else if (fontArr[i].fOrigin === 't' || fontArr[i].origin === 2) {\r\n          loadedSelector = document.querySelectorAll('script[f-forigin=\"t\"], script[f-origin=\"2\"]');\r\n\r\n          for (j = 0; j < loadedSelector.length; j += 1) {\r\n            if (fontArr[i].fPath === loadedSelector[j].src) {\r\n              // Font is already loaded\r\n              shouldLoadFont = false;\r\n            }\r\n          }\r\n\r\n          if (shouldLoadFont) {\r\n            var sc = createTag('link');\r\n            sc.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n            sc.setAttribute('f-origin', fontArr[i].origin);\r\n            sc.setAttribute('rel', 'stylesheet');\r\n            sc.setAttribute('href', fontArr[i].fPath);\r\n            defs.appendChild(sc);\r\n          }\r\n        }\r\n\r\n        fontArr[i].helper = createHelper(fontArr[i], defs);\r\n        fontArr[i].cache = {};\r\n        this.fonts.push(fontArr[i]);\r\n      }\r\n\r\n      if (_pendingFonts === 0) {\r\n        this.isLoaded = true;\r\n      } else {\r\n        // On some cases even if the font is loaded, it won't load correctly when measuring text on canvas.\r\n        // Adding this timeout seems to fix it\r\n        setTimeout(this.checkLoadedFonts.bind(this), 100);\r\n      }\r\n    }\r\n\r\n    function addChars(chars) {\r\n      if (!chars) {\r\n        return;\r\n      }\r\n\r\n      if (!this.chars) {\r\n        this.chars = [];\r\n      }\r\n\r\n      var i;\r\n      var len = chars.length;\r\n      var j;\r\n      var jLen = this.chars.length;\r\n      var found;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        j = 0;\r\n        found = false;\r\n\r\n        while (j < jLen) {\r\n          if (this.chars[j].style === chars[i].style && this.chars[j].fFamily === chars[i].fFamily && this.chars[j].ch === chars[i].ch) {\r\n            found = true;\r\n          }\r\n\r\n          j += 1;\r\n        }\r\n\r\n        if (!found) {\r\n          this.chars.push(chars[i]);\r\n          jLen += 1;\r\n        }\r\n      }\r\n    }\r\n\r\n    function getCharData(_char, style, font) {\r\n      var i = 0;\r\n      var len = this.chars.length;\r\n\r\n      while (i < len) {\r\n        if (this.chars[i].ch === _char && this.chars[i].style === style && this.chars[i].fFamily === font) {\r\n          return this.chars[i];\r\n        }\r\n\r\n        i += 1;\r\n      }\r\n\r\n      if ((typeof _char === 'string' && _char.charCodeAt(0) !== 13 || !_char) && console && console.warn // eslint-disable-line no-console\r\n      && !this._warned) {\r\n        this._warned = true;\r\n        console.warn('Missing character from exported characters list: ', _char, style, font); // eslint-disable-line no-console\r\n      }\r\n\r\n      return emptyChar;\r\n    }\r\n\r\n    function measureText(_char2, fontName, size) {\r\n      var fontData = this.getFontByName(fontName); // Using the char instead of char.charCodeAt(0)\r\n      // to avoid collisions between equal chars\r\n\r\n      var index = _char2;\r\n\r\n      if (!fontData.cache[index]) {\r\n        var tHelper = fontData.helper;\r\n\r\n        if (_char2 === ' ') {\r\n          var doubleSize = tHelper.measureText('|' + _char2 + '|');\r\n          var singleSize = tHelper.measureText('||');\r\n          fontData.cache[index] = (doubleSize - singleSize) / 100;\r\n        } else {\r\n          fontData.cache[index] = tHelper.measureText(_char2) / 100;\r\n        }\r\n      }\r\n\r\n      return fontData.cache[index] * size;\r\n    }\r\n\r\n    function getFontByName(name) {\r\n      var i = 0;\r\n      var len = this.fonts.length;\r\n\r\n      while (i < len) {\r\n        if (this.fonts[i].fName === name) {\r\n          return this.fonts[i];\r\n        }\r\n\r\n        i += 1;\r\n      }\r\n\r\n      return this.fonts[0];\r\n    }\r\n\r\n    function getCodePoint(string) {\r\n      var codePoint = 0;\r\n      var first = string.charCodeAt(0);\r\n\r\n      if (first >= 0xD800 && first <= 0xDBFF) {\r\n        var second = string.charCodeAt(1);\r\n\r\n        if (second >= 0xDC00 && second <= 0xDFFF) {\r\n          codePoint = (first - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\r\n        }\r\n      }\r\n\r\n      return codePoint;\r\n    } // Skin tone modifiers\r\n\r\n\r\n    function isModifier(firstCharCode, secondCharCode) {\r\n      var sum = firstCharCode.toString(16) + secondCharCode.toString(16);\r\n      return surrogateModifiers.indexOf(sum) !== -1;\r\n    }\r\n\r\n    function isZeroWidthJoiner(charCode) {\r\n      return charCode === ZERO_WIDTH_JOINER_CODE_POINT;\r\n    } // This codepoint may change the appearance of the preceding character.\r\n    // If that is a symbol, dingbat or emoji, U+FE0F forces it to be rendered\r\n    // as a colorful image as compared to a monochrome text variant.\r\n\r\n\r\n    function isVariationSelector(charCode) {\r\n      return charCode === VARIATION_SELECTOR_16_CODE_POINT;\r\n    } // The regional indicator symbols are a set of 26 alphabetic Unicode\r\n    /// characters (AZ) intended to be used to encode ISO 3166-1 alpha-2\r\n    // two-letter country codes in a way that allows optional special treatment.\r\n\r\n\r\n    function isRegionalCode(string) {\r\n      var codePoint = getCodePoint(string);\r\n\r\n      if (codePoint >= REGIONAL_CHARACTER_A_CODE_POINT && codePoint <= REGIONAL_CHARACTER_Z_CODE_POINT) {\r\n        return true;\r\n      }\r\n\r\n      return false;\r\n    } // Some Emoji implementations represent combinations of\r\n    // two regional indicator letters as a single flag symbol.\r\n\r\n\r\n    function isFlagEmoji(string) {\r\n      return isRegionalCode(string.substr(0, 2)) && isRegionalCode(string.substr(2, 2));\r\n    }\r\n\r\n    function isCombinedCharacter(_char3) {\r\n      return combinedCharacters.indexOf(_char3) !== -1;\r\n    } // Regional flags start with a BLACK_FLAG_CODE_POINT\r\n    // folowed by 5 chars in the TAG range\r\n    // and end with a CANCEL_TAG_CODE_POINT\r\n\r\n\r\n    function isRegionalFlag(text, index) {\r\n      var codePoint = getCodePoint(text.substr(index, 2));\r\n\r\n      if (codePoint !== BLACK_FLAG_CODE_POINT) {\r\n        return false;\r\n      }\r\n\r\n      var count = 0;\r\n      index += 2;\r\n\r\n      while (count < 5) {\r\n        codePoint = getCodePoint(text.substr(index, 2));\r\n\r\n        if (codePoint < A_TAG_CODE_POINT || codePoint > Z_TAG_CODE_POINT) {\r\n          return false;\r\n        }\r\n\r\n        count += 1;\r\n        index += 2;\r\n      }\r\n\r\n      return getCodePoint(text.substr(index, 2)) === CANCEL_TAG_CODE_POINT;\r\n    }\r\n\r\n    function setIsLoaded() {\r\n      this.isLoaded = true;\r\n    }\r\n\r\n    var Font = function Font() {\r\n      this.fonts = [];\r\n      this.chars = null;\r\n      this.typekitLoaded = 0;\r\n      this.isLoaded = false;\r\n      this._warned = false;\r\n      this.initTime = Date.now();\r\n      this.setIsLoadedBinded = this.setIsLoaded.bind(this);\r\n      this.checkLoadedFontsBinded = this.checkLoadedFonts.bind(this);\r\n    };\r\n\r\n    Font.isModifier = isModifier;\r\n    Font.isZeroWidthJoiner = isZeroWidthJoiner;\r\n    Font.isFlagEmoji = isFlagEmoji;\r\n    Font.isRegionalCode = isRegionalCode;\r\n    Font.isCombinedCharacter = isCombinedCharacter;\r\n    Font.isRegionalFlag = isRegionalFlag;\r\n    Font.isVariationSelector = isVariationSelector;\r\n    Font.BLACK_FLAG_CODE_POINT = BLACK_FLAG_CODE_POINT;\r\n    var fontPrototype = {\r\n      addChars: addChars,\r\n      addFonts: addFonts,\r\n      getCharData: getCharData,\r\n      getFontByName: getFontByName,\r\n      measureText: measureText,\r\n      checkLoadedFonts: checkLoadedFonts,\r\n      setIsLoaded: setIsLoaded\r\n    };\r\n    Font.prototype = fontPrototype;\r\n    return Font;\r\n  }();\r\n\r\n  function SlotManager(animationData) {\r\n    this.animationData = animationData;\r\n  }\r\n\r\n  SlotManager.prototype.getProp = function (data) {\r\n    if (this.animationData.slots && this.animationData.slots[data.sid]) {\r\n      return Object.assign(data, this.animationData.slots[data.sid].p);\r\n    }\r\n\r\n    return data;\r\n  };\r\n\r\n  function slotFactory(animationData) {\r\n    return new SlotManager(animationData);\r\n  }\r\n\r\n  function RenderableElement() {}\r\n\r\n  RenderableElement.prototype = {\r\n    initRenderable: function initRenderable() {\r\n      // layer's visibility related to inpoint and outpoint. Rename isVisible to isInRange\r\n      this.isInRange = false; // layer's display state\r\n\r\n      this.hidden = false; // If layer's transparency equals 0, it can be hidden\r\n\r\n      this.isTransparent = false; // list of animated components\r\n\r\n      this.renderableComponents = [];\r\n    },\r\n    addRenderableComponent: function addRenderableComponent(component) {\r\n      if (this.renderableComponents.indexOf(component) === -1) {\r\n        this.renderableComponents.push(component);\r\n      }\r\n    },\r\n    removeRenderableComponent: function removeRenderableComponent(component) {\r\n      if (this.renderableComponents.indexOf(component) !== -1) {\r\n        this.renderableComponents.splice(this.renderableComponents.indexOf(component), 1);\r\n      }\r\n    },\r\n    prepareRenderableFrame: function prepareRenderableFrame(num) {\r\n      this.checkLayerLimits(num);\r\n    },\r\n    checkTransparency: function checkTransparency() {\r\n      if (this.finalTransform.mProp.o.v <= 0) {\r\n        if (!this.isTransparent && this.globalData.renderConfig.hideOnTransparent) {\r\n          this.isTransparent = true;\r\n          this.hide();\r\n        }\r\n      } else if (this.isTransparent) {\r\n        this.isTransparent = false;\r\n        this.show();\r\n      }\r\n    },\r\n\r\n    /**\r\n       * @function\r\n       * Initializes frame related properties.\r\n       *\r\n       * @param {number} num\r\n       * current frame number in Layer's time\r\n       *\r\n       */\r\n    checkLayerLimits: function checkLayerLimits(num) {\r\n      if (this.data.ip - this.data.st <= num && this.data.op - this.data.st > num) {\r\n        if (this.isInRange !== true) {\r\n          this.globalData._mdf = true;\r\n          this._mdf = true;\r\n          this.isInRange = true;\r\n          this.show();\r\n        }\r\n      } else if (this.isInRange !== false) {\r\n        this.globalData._mdf = true;\r\n        this.isInRange = false;\r\n        this.hide();\r\n      }\r\n    },\r\n    renderRenderable: function renderRenderable() {\r\n      var i;\r\n      var len = this.renderableComponents.length;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        this.renderableComponents[i].renderFrame(this._isFirstFrame);\r\n      }\r\n      /* this.maskManager.renderFrame(this.finalTransform.mat);\r\n          this.renderableEffectsManager.renderFrame(this._isFirstFrame); */\r\n\r\n    },\r\n    sourceRectAtTime: function sourceRectAtTime() {\r\n      return {\r\n        top: 0,\r\n        left: 0,\r\n        width: 100,\r\n        height: 100\r\n      };\r\n    },\r\n    getLayerSize: function getLayerSize() {\r\n      if (this.data.ty === 5) {\r\n        return {\r\n          w: this.data.textData.width,\r\n          h: this.data.textData.height\r\n        };\r\n      }\r\n\r\n      return {\r\n        w: this.data.width,\r\n        h: this.data.height\r\n      };\r\n    }\r\n  };\r\n\r\n  var getBlendMode = function () {\r\n    var blendModeEnums = {\r\n      0: 'source-over',\r\n      1: 'multiply',\r\n      2: 'screen',\r\n      3: 'overlay',\r\n      4: 'darken',\r\n      5: 'lighten',\r\n      6: 'color-dodge',\r\n      7: 'color-burn',\r\n      8: 'hard-light',\r\n      9: 'soft-light',\r\n      10: 'difference',\r\n      11: 'exclusion',\r\n      12: 'hue',\r\n      13: 'saturation',\r\n      14: 'color',\r\n      15: 'luminosity'\r\n    };\r\n    return function (mode) {\r\n      return blendModeEnums[mode] || '';\r\n    };\r\n  }();\r\n\r\n  function SliderEffect(data, elem, container) {\r\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\r\n  }\r\n\r\n  function AngleEffect(data, elem, container) {\r\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\r\n  }\r\n\r\n  function ColorEffect(data, elem, container) {\r\n    this.p = PropertyFactory.getProp(elem, data.v, 1, 0, container);\r\n  }\r\n\r\n  function PointEffect(data, elem, container) {\r\n    this.p = PropertyFactory.getProp(elem, data.v, 1, 0, container);\r\n  }\r\n\r\n  function LayerIndexEffect(data, elem, container) {\r\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\r\n  }\r\n\r\n  function MaskIndexEffect(data, elem, container) {\r\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\r\n  }\r\n\r\n  function CheckboxEffect(data, elem, container) {\r\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\r\n  }\r\n\r\n  function NoValueEffect() {\r\n    this.p = {};\r\n  }\r\n\r\n  function EffectsManager(data, element) {\r\n    var effects = data.ef || [];\r\n    this.effectElements = [];\r\n    var i;\r\n    var len = effects.length;\r\n    var effectItem;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      effectItem = new GroupEffect(effects[i], element);\r\n      this.effectElements.push(effectItem);\r\n    }\r\n  }\r\n\r\n  function GroupEffect(data, element) {\r\n    this.init(data, element);\r\n  }\r\n\r\n  extendPrototype([DynamicPropertyContainer], GroupEffect);\r\n  GroupEffect.prototype.getValue = GroupEffect.prototype.iterateDynamicProperties;\r\n\r\n  GroupEffect.prototype.init = function (data, element) {\r\n    this.data = data;\r\n    this.effectElements = [];\r\n    this.initDynamicPropertyContainer(element);\r\n    var i;\r\n    var len = this.data.ef.length;\r\n    var eff;\r\n    var effects = this.data.ef;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      eff = null;\r\n\r\n      switch (effects[i].ty) {\r\n        case 0:\r\n          eff = new SliderEffect(effects[i], element, this);\r\n          break;\r\n\r\n        case 1:\r\n          eff = new AngleEffect(effects[i], element, this);\r\n          break;\r\n\r\n        case 2:\r\n          eff = new ColorEffect(effects[i], element, this);\r\n          break;\r\n\r\n        case 3:\r\n          eff = new PointEffect(effects[i], element, this);\r\n          break;\r\n\r\n        case 4:\r\n        case 7:\r\n          eff = new CheckboxEffect(effects[i], element, this);\r\n          break;\r\n\r\n        case 10:\r\n          eff = new LayerIndexEffect(effects[i], element, this);\r\n          break;\r\n\r\n        case 11:\r\n          eff = new MaskIndexEffect(effects[i], element, this);\r\n          break;\r\n\r\n        case 5:\r\n          eff = new EffectsManager(effects[i], element, this);\r\n          break;\r\n        // case 6:\r\n\r\n        default:\r\n          eff = new NoValueEffect(effects[i], element, this);\r\n          break;\r\n      }\r\n\r\n      if (eff) {\r\n        this.effectElements.push(eff);\r\n      }\r\n    }\r\n  };\r\n\r\n  function BaseElement() {}\r\n\r\n  BaseElement.prototype = {\r\n    checkMasks: function checkMasks() {\r\n      if (!this.data.hasMask) {\r\n        return false;\r\n      }\r\n\r\n      var i = 0;\r\n      var len = this.data.masksProperties.length;\r\n\r\n      while (i < len) {\r\n        if (this.data.masksProperties[i].mode !== 'n' && this.data.masksProperties[i].cl !== false) {\r\n          return true;\r\n        }\r\n\r\n        i += 1;\r\n      }\r\n\r\n      return false;\r\n    },\r\n    initExpressions: function initExpressions() {\r\n      var expressionsInterfaces = getExpressionInterfaces();\r\n\r\n      if (!expressionsInterfaces) {\r\n        return;\r\n      }\r\n\r\n      var LayerExpressionInterface = expressionsInterfaces('layer');\r\n      var EffectsExpressionInterface = expressionsInterfaces('effects');\r\n      var ShapeExpressionInterface = expressionsInterfaces('shape');\r\n      var TextExpressionInterface = expressionsInterfaces('text');\r\n      var CompExpressionInterface = expressionsInterfaces('comp');\r\n      this.layerInterface = LayerExpressionInterface(this);\r\n\r\n      if (this.data.hasMask && this.maskManager) {\r\n        this.layerInterface.registerMaskInterface(this.maskManager);\r\n      }\r\n\r\n      var effectsInterface = EffectsExpressionInterface.createEffectsInterface(this, this.layerInterface);\r\n      this.layerInterface.registerEffectsInterface(effectsInterface);\r\n\r\n      if (this.data.ty === 0 || this.data.xt) {\r\n        this.compInterface = CompExpressionInterface(this);\r\n      } else if (this.data.ty === 4) {\r\n        this.layerInterface.shapeInterface = ShapeExpressionInterface(this.shapesData, this.itemsData, this.layerInterface);\r\n        this.layerInterface.content = this.layerInterface.shapeInterface;\r\n      } else if (this.data.ty === 5) {\r\n        this.layerInterface.textInterface = TextExpressionInterface(this);\r\n        this.layerInterface.text = this.layerInterface.textInterface;\r\n      }\r\n    },\r\n    setBlendMode: function setBlendMode() {\r\n      var blendModeValue = getBlendMode(this.data.bm);\r\n      var elem = this.baseElement || this.layerElement;\r\n      elem.style['mix-blend-mode'] = blendModeValue;\r\n    },\r\n    initBaseData: function initBaseData(data, globalData, comp) {\r\n      this.globalData = globalData;\r\n      this.comp = comp;\r\n      this.data = data;\r\n      this.layerId = createElementID(); // Stretch factor for old animations missing this property.\r\n\r\n      if (!this.data.sr) {\r\n        this.data.sr = 1;\r\n      } // effects manager\r\n\r\n\r\n      this.effectsManager = new EffectsManager(this.data, this, this.dynamicProperties);\r\n    },\r\n    getType: function getType() {\r\n      return this.type;\r\n    },\r\n    sourceRectAtTime: function sourceRectAtTime() {}\r\n  };\r\n\r\n  /**\r\n   * @file\r\n   * Handles element's layer frame update.\r\n   * Checks layer in point and out point\r\n   *\r\n   */\r\n  function FrameElement() {}\r\n\r\n  FrameElement.prototype = {\r\n    /**\r\n       * @function\r\n       * Initializes frame related properties.\r\n       *\r\n       */\r\n    initFrame: function initFrame() {\r\n      // set to true when inpoint is rendered\r\n      this._isFirstFrame = false; // list of animated properties\r\n\r\n      this.dynamicProperties = []; // If layer has been modified in current tick this will be true\r\n\r\n      this._mdf = false;\r\n    },\r\n\r\n    /**\r\n       * @function\r\n       * Calculates all dynamic values\r\n       *\r\n       * @param {number} num\r\n       * current frame number in Layer's time\r\n       * @param {boolean} isVisible\r\n       * if layers is currently in range\r\n       *\r\n       */\r\n    prepareProperties: function prepareProperties(num, isVisible) {\r\n      var i;\r\n      var len = this.dynamicProperties.length;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        if (isVisible || this._isParent && this.dynamicProperties[i].propType === 'transform') {\r\n          this.dynamicProperties[i].getValue();\r\n\r\n          if (this.dynamicProperties[i]._mdf) {\r\n            this.globalData._mdf = true;\r\n            this._mdf = true;\r\n          }\r\n        }\r\n      }\r\n    },\r\n    addDynamicProperty: function addDynamicProperty(prop) {\r\n      if (this.dynamicProperties.indexOf(prop) === -1) {\r\n        this.dynamicProperties.push(prop);\r\n      }\r\n    }\r\n  };\r\n\r\n  function FootageElement(data, globalData, comp) {\r\n    this.initFrame();\r\n    this.initRenderable();\r\n    this.assetData = globalData.getAssetData(data.refId);\r\n    this.footageData = globalData.imageLoader.getAsset(this.assetData);\r\n    this.initBaseData(data, globalData, comp);\r\n  }\r\n\r\n  FootageElement.prototype.prepareFrame = function () {};\r\n\r\n  extendPrototype([RenderableElement, BaseElement, FrameElement], FootageElement);\r\n\r\n  FootageElement.prototype.getBaseElement = function () {\r\n    return null;\r\n  };\r\n\r\n  FootageElement.prototype.renderFrame = function () {};\r\n\r\n  FootageElement.prototype.destroy = function () {};\r\n\r\n  FootageElement.prototype.initExpressions = function () {\r\n    var expressionsInterfaces = getExpressionInterfaces();\r\n\r\n    if (!expressionsInterfaces) {\r\n      return;\r\n    }\r\n\r\n    var FootageInterface = expressionsInterfaces('footage');\r\n    this.layerInterface = FootageInterface(this);\r\n  };\r\n\r\n  FootageElement.prototype.getFootageData = function () {\r\n    return this.footageData;\r\n  };\r\n\r\n  function AudioElement(data, globalData, comp) {\r\n    this.initFrame();\r\n    this.initRenderable();\r\n    this.assetData = globalData.getAssetData(data.refId);\r\n    this.initBaseData(data, globalData, comp);\r\n    this._isPlaying = false;\r\n    this._canPlay = false;\r\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\r\n    this.audio = this.globalData.audioController.createAudio(assetPath);\r\n    this._currentTime = 0;\r\n    this.globalData.audioController.addAudio(this);\r\n    this._volumeMultiplier = 1;\r\n    this._volume = 1;\r\n    this._previousVolume = null;\r\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\r\n      _placeholder: true\r\n    };\r\n    this.lv = PropertyFactory.getProp(this, data.au && data.au.lv ? data.au.lv : {\r\n      k: [100]\r\n    }, 1, 0.01, this);\r\n  }\r\n\r\n  AudioElement.prototype.prepareFrame = function (num) {\r\n    this.prepareRenderableFrame(num, true);\r\n    this.prepareProperties(num, true);\r\n\r\n    if (!this.tm._placeholder) {\r\n      var timeRemapped = this.tm.v;\r\n      this._currentTime = timeRemapped;\r\n    } else {\r\n      this._currentTime = num / this.data.sr;\r\n    }\r\n\r\n    this._volume = this.lv.v[0];\r\n    var totalVolume = this._volume * this._volumeMultiplier;\r\n\r\n    if (this._previousVolume !== totalVolume) {\r\n      this._previousVolume = totalVolume;\r\n      this.audio.volume(totalVolume);\r\n    }\r\n  };\r\n\r\n  extendPrototype([RenderableElement, BaseElement, FrameElement], AudioElement);\r\n\r\n  AudioElement.prototype.renderFrame = function () {\r\n    if (this.isInRange && this._canPlay) {\r\n      if (!this._isPlaying) {\r\n        this.audio.play();\r\n        this.audio.seek(this._currentTime / this.globalData.frameRate);\r\n        this._isPlaying = true;\r\n      } else if (!this.audio.playing() || Math.abs(this._currentTime / this.globalData.frameRate - this.audio.seek()) > 0.1) {\r\n        this.audio.seek(this._currentTime / this.globalData.frameRate);\r\n      }\r\n    }\r\n  };\r\n\r\n  AudioElement.prototype.show = function () {// this.audio.play()\r\n  };\r\n\r\n  AudioElement.prototype.hide = function () {\r\n    this.audio.pause();\r\n    this._isPlaying = false;\r\n  };\r\n\r\n  AudioElement.prototype.pause = function () {\r\n    this.audio.pause();\r\n    this._isPlaying = false;\r\n    this._canPlay = false;\r\n  };\r\n\r\n  AudioElement.prototype.resume = function () {\r\n    this._canPlay = true;\r\n  };\r\n\r\n  AudioElement.prototype.setRate = function (rateValue) {\r\n    this.audio.rate(rateValue);\r\n  };\r\n\r\n  AudioElement.prototype.volume = function (volumeValue) {\r\n    this._volumeMultiplier = volumeValue;\r\n    this._previousVolume = volumeValue * this._volume;\r\n    this.audio.volume(this._previousVolume);\r\n  };\r\n\r\n  AudioElement.prototype.getBaseElement = function () {\r\n    return null;\r\n  };\r\n\r\n  AudioElement.prototype.destroy = function () {};\r\n\r\n  AudioElement.prototype.sourceRectAtTime = function () {};\r\n\r\n  AudioElement.prototype.initExpressions = function () {};\r\n\r\n  function BaseRenderer() {}\r\n\r\n  BaseRenderer.prototype.checkLayers = function (num) {\r\n    var i;\r\n    var len = this.layers.length;\r\n    var data;\r\n    this.completeLayers = true;\r\n\r\n    for (i = len - 1; i >= 0; i -= 1) {\r\n      if (!this.elements[i]) {\r\n        data = this.layers[i];\r\n\r\n        if (data.ip - data.st <= num - this.layers[i].st && data.op - data.st > num - this.layers[i].st) {\r\n          this.buildItem(i);\r\n        }\r\n      }\r\n\r\n      this.completeLayers = this.elements[i] ? this.completeLayers : false;\r\n    }\r\n\r\n    this.checkPendingElements();\r\n  };\r\n\r\n  BaseRenderer.prototype.createItem = function (layer) {\r\n    switch (layer.ty) {\r\n      case 2:\r\n        return this.createImage(layer);\r\n\r\n      case 0:\r\n        return this.createComp(layer);\r\n\r\n      case 1:\r\n        return this.createSolid(layer);\r\n\r\n      case 3:\r\n        return this.createNull(layer);\r\n\r\n      case 4:\r\n        return this.createShape(layer);\r\n\r\n      case 5:\r\n        return this.createText(layer);\r\n\r\n      case 6:\r\n        return this.createAudio(layer);\r\n\r\n      case 13:\r\n        return this.createCamera(layer);\r\n\r\n      case 15:\r\n        return this.createFootage(layer);\r\n\r\n      default:\r\n        return this.createNull(layer);\r\n    }\r\n  };\r\n\r\n  BaseRenderer.prototype.createCamera = function () {\r\n    throw new Error('You\\'re using a 3d camera. Try the html renderer.');\r\n  };\r\n\r\n  BaseRenderer.prototype.createAudio = function (data) {\r\n    return new AudioElement(data, this.globalData, this);\r\n  };\r\n\r\n  BaseRenderer.prototype.createFootage = function (data) {\r\n    return new FootageElement(data, this.globalData, this);\r\n  };\r\n\r\n  BaseRenderer.prototype.buildAllItems = function () {\r\n    var i;\r\n    var len = this.layers.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      this.buildItem(i);\r\n    }\r\n\r\n    this.checkPendingElements();\r\n  };\r\n\r\n  BaseRenderer.prototype.includeLayers = function (newLayers) {\r\n    this.completeLayers = false;\r\n    var i;\r\n    var len = newLayers.length;\r\n    var j;\r\n    var jLen = this.layers.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      j = 0;\r\n\r\n      while (j < jLen) {\r\n        if (this.layers[j].id === newLayers[i].id) {\r\n          this.layers[j] = newLayers[i];\r\n          break;\r\n        }\r\n\r\n        j += 1;\r\n      }\r\n    }\r\n  };\r\n\r\n  BaseRenderer.prototype.setProjectInterface = function (pInterface) {\r\n    this.globalData.projectInterface = pInterface;\r\n  };\r\n\r\n  BaseRenderer.prototype.initItems = function () {\r\n    if (!this.globalData.progressiveLoad) {\r\n      this.buildAllItems();\r\n    }\r\n  };\r\n\r\n  BaseRenderer.prototype.buildElementParenting = function (element, parentName, hierarchy) {\r\n    var elements = this.elements;\r\n    var layers = this.layers;\r\n    var i = 0;\r\n    var len = layers.length;\r\n\r\n    while (i < len) {\r\n      if (layers[i].ind == parentName) {\r\n        // eslint-disable-line eqeqeq\r\n        if (!elements[i] || elements[i] === true) {\r\n          this.buildItem(i);\r\n          this.addPendingElement(element);\r\n        } else {\r\n          hierarchy.push(elements[i]);\r\n          elements[i].setAsParent();\r\n\r\n          if (layers[i].parent !== undefined) {\r\n            this.buildElementParenting(element, layers[i].parent, hierarchy);\r\n          } else {\r\n            element.setHierarchy(hierarchy);\r\n          }\r\n        }\r\n      }\r\n\r\n      i += 1;\r\n    }\r\n  };\r\n\r\n  BaseRenderer.prototype.addPendingElement = function (element) {\r\n    this.pendingElements.push(element);\r\n  };\r\n\r\n  BaseRenderer.prototype.searchExtraCompositions = function (assets) {\r\n    var i;\r\n    var len = assets.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (assets[i].xt) {\r\n        var comp = this.createComp(assets[i]);\r\n        comp.initExpressions();\r\n        this.globalData.projectInterface.registerComposition(comp);\r\n      }\r\n    }\r\n  };\r\n\r\n  BaseRenderer.prototype.getElementById = function (ind) {\r\n    var i;\r\n    var len = this.elements.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.elements[i].data.ind === ind) {\r\n        return this.elements[i];\r\n      }\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  BaseRenderer.prototype.getElementByPath = function (path) {\r\n    var pathValue = path.shift();\r\n    var element;\r\n\r\n    if (typeof pathValue === 'number') {\r\n      element = this.elements[pathValue];\r\n    } else {\r\n      var i;\r\n      var len = this.elements.length;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        if (this.elements[i].data.nm === pathValue) {\r\n          element = this.elements[i];\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (path.length === 0) {\r\n      return element;\r\n    }\r\n\r\n    return element.getElementByPath(path);\r\n  };\r\n\r\n  BaseRenderer.prototype.setupGlobalData = function (animData, fontsContainer) {\r\n    this.globalData.fontManager = new FontManager();\r\n    this.globalData.slotManager = slotFactory(animData);\r\n    this.globalData.fontManager.addChars(animData.chars);\r\n    this.globalData.fontManager.addFonts(animData.fonts, fontsContainer);\r\n    this.globalData.getAssetData = this.animationItem.getAssetData.bind(this.animationItem);\r\n    this.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem);\r\n    this.globalData.imageLoader = this.animationItem.imagePreloader;\r\n    this.globalData.audioController = this.animationItem.audioController;\r\n    this.globalData.frameId = 0;\r\n    this.globalData.frameRate = animData.fr;\r\n    this.globalData.nm = animData.nm;\r\n    this.globalData.compSize = {\r\n      w: animData.w,\r\n      h: animData.h\r\n    };\r\n  };\r\n\r\n  var effectTypes = {\r\n    TRANSFORM_EFFECT: 'transformEFfect'\r\n  };\r\n\r\n  function TransformElement() {}\r\n\r\n  TransformElement.prototype = {\r\n    initTransform: function initTransform() {\r\n      var mat = new Matrix();\r\n      this.finalTransform = {\r\n        mProp: this.data.ks ? TransformPropertyFactory.getTransformProperty(this, this.data.ks, this) : {\r\n          o: 0\r\n        },\r\n        _matMdf: false,\r\n        _localMatMdf: false,\r\n        _opMdf: false,\r\n        mat: mat,\r\n        localMat: mat,\r\n        localOpacity: 1\r\n      };\r\n\r\n      if (this.data.ao) {\r\n        this.finalTransform.mProp.autoOriented = true;\r\n      } // TODO: check TYPE 11: Guided elements\r\n\r\n\r\n      if (this.data.ty !== 11) {// this.createElements();\r\n      }\r\n    },\r\n    renderTransform: function renderTransform() {\r\n      this.finalTransform._opMdf = this.finalTransform.mProp.o._mdf || this._isFirstFrame;\r\n      this.finalTransform._matMdf = this.finalTransform.mProp._mdf || this._isFirstFrame;\r\n\r\n      if (this.hierarchy) {\r\n        var mat;\r\n        var finalMat = this.finalTransform.mat;\r\n        var i = 0;\r\n        var len = this.hierarchy.length; // Checking if any of the transformation matrices in the hierarchy chain has changed.\r\n\r\n        if (!this.finalTransform._matMdf) {\r\n          while (i < len) {\r\n            if (this.hierarchy[i].finalTransform.mProp._mdf) {\r\n              this.finalTransform._matMdf = true;\r\n              break;\r\n            }\r\n\r\n            i += 1;\r\n          }\r\n        }\r\n\r\n        if (this.finalTransform._matMdf) {\r\n          mat = this.finalTransform.mProp.v.props;\r\n          finalMat.cloneFromProps(mat);\r\n\r\n          for (i = 0; i < len; i += 1) {\r\n            finalMat.multiply(this.hierarchy[i].finalTransform.mProp.v);\r\n          }\r\n        }\r\n      }\r\n\r\n      if (this.finalTransform._matMdf) {\r\n        this.finalTransform._localMatMdf = this.finalTransform._matMdf;\r\n      }\r\n\r\n      if (this.finalTransform._opMdf) {\r\n        this.finalTransform.localOpacity = this.finalTransform.mProp.o.v;\r\n      }\r\n    },\r\n    renderLocalTransform: function renderLocalTransform() {\r\n      if (this.localTransforms) {\r\n        var i = 0;\r\n        var len = this.localTransforms.length;\r\n        this.finalTransform._localMatMdf = this.finalTransform._matMdf;\r\n\r\n        if (!this.finalTransform._localMatMdf || !this.finalTransform._opMdf) {\r\n          while (i < len) {\r\n            if (this.localTransforms[i]._mdf) {\r\n              this.finalTransform._localMatMdf = true;\r\n            }\r\n\r\n            if (this.localTransforms[i]._opMdf && !this.finalTransform._opMdf) {\r\n              this.finalTransform.localOpacity = this.finalTransform.mProp.o.v;\r\n              this.finalTransform._opMdf = true;\r\n            }\r\n\r\n            i += 1;\r\n          }\r\n        }\r\n\r\n        if (this.finalTransform._localMatMdf) {\r\n          var localMat = this.finalTransform.localMat;\r\n          this.localTransforms[0].matrix.clone(localMat);\r\n\r\n          for (i = 1; i < len; i += 1) {\r\n            var lmat = this.localTransforms[i].matrix;\r\n            localMat.multiply(lmat);\r\n          }\r\n\r\n          localMat.multiply(this.finalTransform.mat);\r\n        }\r\n\r\n        if (this.finalTransform._opMdf) {\r\n          var localOp = this.finalTransform.localOpacity;\r\n\r\n          for (i = 0; i < len; i += 1) {\r\n            localOp *= this.localTransforms[i].opacity * 0.01;\r\n          }\r\n\r\n          this.finalTransform.localOpacity = localOp;\r\n        }\r\n      }\r\n    },\r\n    searchEffectTransforms: function searchEffectTransforms() {\r\n      if (this.renderableEffectsManager) {\r\n        var transformEffects = this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);\r\n\r\n        if (transformEffects.length) {\r\n          this.localTransforms = [];\r\n          this.finalTransform.localMat = new Matrix();\r\n          var i = 0;\r\n          var len = transformEffects.length;\r\n\r\n          for (i = 0; i < len; i += 1) {\r\n            this.localTransforms.push(transformEffects[i]);\r\n          }\r\n        }\r\n      }\r\n    },\r\n    globalToLocal: function globalToLocal(pt) {\r\n      var transforms = [];\r\n      transforms.push(this.finalTransform);\r\n      var flag = true;\r\n      var comp = this.comp;\r\n\r\n      while (flag) {\r\n        if (comp.finalTransform) {\r\n          if (comp.data.hasMask) {\r\n            transforms.splice(0, 0, comp.finalTransform);\r\n          }\r\n\r\n          comp = comp.comp;\r\n        } else {\r\n          flag = false;\r\n        }\r\n      }\r\n\r\n      var i;\r\n      var len = transforms.length;\r\n      var ptNew;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        ptNew = transforms[i].mat.applyToPointArray(0, 0, 0); // ptNew = transforms[i].mat.applyToPointArray(pt[0],pt[1],pt[2]);\r\n\r\n        pt = [pt[0] - ptNew[0], pt[1] - ptNew[1], 0];\r\n      }\r\n\r\n      return pt;\r\n    },\r\n    mHelper: new Matrix()\r\n  };\r\n\r\n  function MaskElement(data, element, globalData) {\r\n    this.data = data;\r\n    this.element = element;\r\n    this.globalData = globalData;\r\n    this.storedData = [];\r\n    this.masksProperties = this.data.masksProperties || [];\r\n    this.maskElement = null;\r\n    var defs = this.globalData.defs;\r\n    var i;\r\n    var len = this.masksProperties ? this.masksProperties.length : 0;\r\n    this.viewData = createSizedArray(len);\r\n    this.solidPath = '';\r\n    var path;\r\n    var properties = this.masksProperties;\r\n    var count = 0;\r\n    var currentMasks = [];\r\n    var j;\r\n    var jLen;\r\n    var layerId = createElementID();\r\n    var rect;\r\n    var expansor;\r\n    var feMorph;\r\n    var x;\r\n    var maskType = 'clipPath';\r\n    var maskRef = 'clip-path';\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (properties[i].mode !== 'a' && properties[i].mode !== 'n' || properties[i].inv || properties[i].o.k !== 100 || properties[i].o.x) {\r\n        maskType = 'mask';\r\n        maskRef = 'mask';\r\n      }\r\n\r\n      if ((properties[i].mode === 's' || properties[i].mode === 'i') && count === 0) {\r\n        rect = createNS('rect');\r\n        rect.setAttribute('fill', '#ffffff');\r\n        rect.setAttribute('width', this.element.comp.data.w || 0);\r\n        rect.setAttribute('height', this.element.comp.data.h || 0);\r\n        currentMasks.push(rect);\r\n      } else {\r\n        rect = null;\r\n      }\r\n\r\n      path = createNS('path');\r\n\r\n      if (properties[i].mode === 'n') {\r\n        // TODO move this to a factory or to a constructor\r\n        this.viewData[i] = {\r\n          op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\r\n          prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\r\n          elem: path,\r\n          lastPath: ''\r\n        };\r\n        defs.appendChild(path);\r\n      } else {\r\n        count += 1;\r\n        path.setAttribute('fill', properties[i].mode === 's' ? '#000000' : '#ffffff');\r\n        path.setAttribute('clip-rule', 'nonzero');\r\n        var filterID;\r\n\r\n        if (properties[i].x.k !== 0) {\r\n          maskType = 'mask';\r\n          maskRef = 'mask';\r\n          x = PropertyFactory.getProp(this.element, properties[i].x, 0, null, this.element);\r\n          filterID = createElementID();\r\n          expansor = createNS('filter');\r\n          expansor.setAttribute('id', filterID);\r\n          feMorph = createNS('feMorphology');\r\n          feMorph.setAttribute('operator', 'erode');\r\n          feMorph.setAttribute('in', 'SourceGraphic');\r\n          feMorph.setAttribute('radius', '0');\r\n          expansor.appendChild(feMorph);\r\n          defs.appendChild(expansor);\r\n          path.setAttribute('stroke', properties[i].mode === 's' ? '#000000' : '#ffffff');\r\n        } else {\r\n          feMorph = null;\r\n          x = null;\r\n        } // TODO move this to a factory or to a constructor\r\n\r\n\r\n        this.storedData[i] = {\r\n          elem: path,\r\n          x: x,\r\n          expan: feMorph,\r\n          lastPath: '',\r\n          lastOperator: '',\r\n          filterId: filterID,\r\n          lastRadius: 0\r\n        };\r\n\r\n        if (properties[i].mode === 'i') {\r\n          jLen = currentMasks.length;\r\n          var g = createNS('g');\r\n\r\n          for (j = 0; j < jLen; j += 1) {\r\n            g.appendChild(currentMasks[j]);\r\n          }\r\n\r\n          var mask = createNS('mask');\r\n          mask.setAttribute('mask-type', 'alpha');\r\n          mask.setAttribute('id', layerId + '_' + count);\r\n          mask.appendChild(path);\r\n          defs.appendChild(mask);\r\n          g.setAttribute('mask', 'url(' + getLocationHref() + '#' + layerId + '_' + count + ')');\r\n          currentMasks.length = 0;\r\n          currentMasks.push(g);\r\n        } else {\r\n          currentMasks.push(path);\r\n        }\r\n\r\n        if (properties[i].inv && !this.solidPath) {\r\n          this.solidPath = this.createLayerSolidPath();\r\n        } // TODO move this to a factory or to a constructor\r\n\r\n\r\n        this.viewData[i] = {\r\n          elem: path,\r\n          lastPath: '',\r\n          op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\r\n          prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\r\n          invRect: rect\r\n        };\r\n\r\n        if (!this.viewData[i].prop.k) {\r\n          this.drawPath(properties[i], this.viewData[i].prop.v, this.viewData[i]);\r\n        }\r\n      }\r\n    }\r\n\r\n    this.maskElement = createNS(maskType);\r\n    len = currentMasks.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      this.maskElement.appendChild(currentMasks[i]);\r\n    }\r\n\r\n    if (count > 0) {\r\n      this.maskElement.setAttribute('id', layerId);\r\n      this.element.maskedElement.setAttribute(maskRef, 'url(' + getLocationHref() + '#' + layerId + ')');\r\n      defs.appendChild(this.maskElement);\r\n    }\r\n\r\n    if (this.viewData.length) {\r\n      this.element.addRenderableComponent(this);\r\n    }\r\n  }\r\n\r\n  MaskElement.prototype.getMaskProperty = function (pos) {\r\n    return this.viewData[pos].prop;\r\n  };\r\n\r\n  MaskElement.prototype.renderFrame = function (isFirstFrame) {\r\n    var finalMat = this.element.finalTransform.mat;\r\n    var i;\r\n    var len = this.masksProperties.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.viewData[i].prop._mdf || isFirstFrame) {\r\n        this.drawPath(this.masksProperties[i], this.viewData[i].prop.v, this.viewData[i]);\r\n      }\r\n\r\n      if (this.viewData[i].op._mdf || isFirstFrame) {\r\n        this.viewData[i].elem.setAttribute('fill-opacity', this.viewData[i].op.v);\r\n      }\r\n\r\n      if (this.masksProperties[i].mode !== 'n') {\r\n        if (this.viewData[i].invRect && (this.element.finalTransform.mProp._mdf || isFirstFrame)) {\r\n          this.viewData[i].invRect.setAttribute('transform', finalMat.getInverseMatrix().to2dCSS());\r\n        }\r\n\r\n        if (this.storedData[i].x && (this.storedData[i].x._mdf || isFirstFrame)) {\r\n          var feMorph = this.storedData[i].expan;\r\n\r\n          if (this.storedData[i].x.v < 0) {\r\n            if (this.storedData[i].lastOperator !== 'erode') {\r\n              this.storedData[i].lastOperator = 'erode';\r\n              this.storedData[i].elem.setAttribute('filter', 'url(' + getLocationHref() + '#' + this.storedData[i].filterId + ')');\r\n            }\r\n\r\n            feMorph.setAttribute('radius', -this.storedData[i].x.v);\r\n          } else {\r\n            if (this.storedData[i].lastOperator !== 'dilate') {\r\n              this.storedData[i].lastOperator = 'dilate';\r\n              this.storedData[i].elem.setAttribute('filter', null);\r\n            }\r\n\r\n            this.storedData[i].elem.setAttribute('stroke-width', this.storedData[i].x.v * 2);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  MaskElement.prototype.getMaskelement = function () {\r\n    return this.maskElement;\r\n  };\r\n\r\n  MaskElement.prototype.createLayerSolidPath = function () {\r\n    var path = 'M0,0 ';\r\n    path += ' h' + this.globalData.compSize.w;\r\n    path += ' v' + this.globalData.compSize.h;\r\n    path += ' h-' + this.globalData.compSize.w;\r\n    path += ' v-' + this.globalData.compSize.h + ' ';\r\n    return path;\r\n  };\r\n\r\n  MaskElement.prototype.drawPath = function (pathData, pathNodes, viewData) {\r\n    var pathString = ' M' + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\r\n    var i;\r\n    var len;\r\n    len = pathNodes._length;\r\n\r\n    for (i = 1; i < len; i += 1) {\r\n      // pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[i][0]+','+pathNodes.i[i][1] + \" \"+pathNodes.v[i][0]+','+pathNodes.v[i][1];\r\n      pathString += ' C' + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + ' ' + pathNodes.i[i][0] + ',' + pathNodes.i[i][1] + ' ' + pathNodes.v[i][0] + ',' + pathNodes.v[i][1];\r\n    } // pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[0][0]+','+pathNodes.i[0][1] + \" \"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\r\n\r\n\r\n    if (pathNodes.c && len > 1) {\r\n      pathString += ' C' + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + ' ' + pathNodes.i[0][0] + ',' + pathNodes.i[0][1] + ' ' + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\r\n    } // pathNodes.__renderedString = pathString;\r\n\r\n\r\n    if (viewData.lastPath !== pathString) {\r\n      var pathShapeValue = '';\r\n\r\n      if (viewData.elem) {\r\n        if (pathNodes.c) {\r\n          pathShapeValue = pathData.inv ? this.solidPath + pathString : pathString;\r\n        }\r\n\r\n        viewData.elem.setAttribute('d', pathShapeValue);\r\n      }\r\n\r\n      viewData.lastPath = pathString;\r\n    }\r\n  };\r\n\r\n  MaskElement.prototype.destroy = function () {\r\n    this.element = null;\r\n    this.globalData = null;\r\n    this.maskElement = null;\r\n    this.data = null;\r\n    this.masksProperties = null;\r\n  };\r\n\r\n  var filtersFactory = function () {\r\n    var ob = {};\r\n    ob.createFilter = createFilter;\r\n    ob.createAlphaToLuminanceFilter = createAlphaToLuminanceFilter;\r\n\r\n    function createFilter(filId, skipCoordinates) {\r\n      var fil = createNS('filter');\r\n      fil.setAttribute('id', filId);\r\n\r\n      if (skipCoordinates !== true) {\r\n        fil.setAttribute('filterUnits', 'objectBoundingBox');\r\n        fil.setAttribute('x', '0%');\r\n        fil.setAttribute('y', '0%');\r\n        fil.setAttribute('width', '100%');\r\n        fil.setAttribute('height', '100%');\r\n      }\r\n\r\n      return fil;\r\n    }\r\n\r\n    function createAlphaToLuminanceFilter() {\r\n      var feColorMatrix = createNS('feColorMatrix');\r\n      feColorMatrix.setAttribute('type', 'matrix');\r\n      feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n      feColorMatrix.setAttribute('values', '0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1');\r\n      return feColorMatrix;\r\n    }\r\n\r\n    return ob;\r\n  }();\r\n\r\n  var featureSupport = function () {\r\n    var ob = {\r\n      maskType: true,\r\n      svgLumaHidden: true,\r\n      offscreenCanvas: typeof OffscreenCanvas !== 'undefined'\r\n    };\r\n\r\n    if (/MSIE 10/i.test(navigator.userAgent) || /MSIE 9/i.test(navigator.userAgent) || /rv:11.0/i.test(navigator.userAgent) || /Edge\\/\\d./i.test(navigator.userAgent)) {\r\n      ob.maskType = false;\r\n    }\r\n\r\n    if (/firefox/i.test(navigator.userAgent)) {\r\n      ob.svgLumaHidden = false;\r\n    }\r\n\r\n    return ob;\r\n  }();\r\n\r\n  var registeredEffects$1 = {};\r\n  var idPrefix = 'filter_result_';\r\n\r\n  function SVGEffects(elem) {\r\n    var i;\r\n    var source = 'SourceGraphic';\r\n    var len = elem.data.ef ? elem.data.ef.length : 0;\r\n    var filId = createElementID();\r\n    var fil = filtersFactory.createFilter(filId, true);\r\n    var count = 0;\r\n    this.filters = [];\r\n    var filterManager;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      filterManager = null;\r\n      var type = elem.data.ef[i].ty;\r\n\r\n      if (registeredEffects$1[type]) {\r\n        var Effect = registeredEffects$1[type].effect;\r\n        filterManager = new Effect(fil, elem.effectsManager.effectElements[i], elem, idPrefix + count, source);\r\n        source = idPrefix + count;\r\n\r\n        if (registeredEffects$1[type].countsAsEffect) {\r\n          count += 1;\r\n        }\r\n      }\r\n\r\n      if (filterManager) {\r\n        this.filters.push(filterManager);\r\n      }\r\n    }\r\n\r\n    if (count) {\r\n      elem.globalData.defs.appendChild(fil);\r\n      elem.layerElement.setAttribute('filter', 'url(' + getLocationHref() + '#' + filId + ')');\r\n    }\r\n\r\n    if (this.filters.length) {\r\n      elem.addRenderableComponent(this);\r\n    }\r\n  }\r\n\r\n  SVGEffects.prototype.renderFrame = function (_isFirstFrame) {\r\n    var i;\r\n    var len = this.filters.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      this.filters[i].renderFrame(_isFirstFrame);\r\n    }\r\n  };\r\n\r\n  SVGEffects.prototype.getEffects = function (type) {\r\n    var i;\r\n    var len = this.filters.length;\r\n    var effects = [];\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.filters[i].type === type) {\r\n        effects.push(this.filters[i]);\r\n      }\r\n    }\r\n\r\n    return effects;\r\n  };\r\n\r\n  function registerEffect$1(id, effect, countsAsEffect) {\r\n    registeredEffects$1[id] = {\r\n      effect: effect,\r\n      countsAsEffect: countsAsEffect\r\n    };\r\n  }\r\n\r\n  function SVGBaseElement() {}\r\n\r\n  SVGBaseElement.prototype = {\r\n    initRendererElement: function initRendererElement() {\r\n      this.layerElement = createNS('g');\r\n    },\r\n    createContainerElements: function createContainerElements() {\r\n      this.matteElement = createNS('g');\r\n      this.transformedElement = this.layerElement;\r\n      this.maskedElement = this.layerElement;\r\n      this._sizeChanged = false;\r\n      var layerElementParent = null; // If this layer acts as a mask for the following layer\r\n\r\n      if (this.data.td) {\r\n        this.matteMasks = {};\r\n        var gg = createNS('g');\r\n        gg.setAttribute('id', this.layerId);\r\n        gg.appendChild(this.layerElement);\r\n        layerElementParent = gg;\r\n        this.globalData.defs.appendChild(gg);\r\n      } else if (this.data.tt) {\r\n        this.matteElement.appendChild(this.layerElement);\r\n        layerElementParent = this.matteElement;\r\n        this.baseElement = this.matteElement;\r\n      } else {\r\n        this.baseElement = this.layerElement;\r\n      }\r\n\r\n      if (this.data.ln) {\r\n        this.layerElement.setAttribute('id', this.data.ln);\r\n      }\r\n\r\n      if (this.data.cl) {\r\n        this.layerElement.setAttribute('class', this.data.cl);\r\n      } // Clipping compositions to hide content that exceeds boundaries. If collapsed transformations is on, component should not be clipped\r\n\r\n\r\n      if (this.data.ty === 0 && !this.data.hd) {\r\n        var cp = createNS('clipPath');\r\n        var pt = createNS('path');\r\n        pt.setAttribute('d', 'M0,0 L' + this.data.w + ',0 L' + this.data.w + ',' + this.data.h + ' L0,' + this.data.h + 'z');\r\n        var clipId = createElementID();\r\n        cp.setAttribute('id', clipId);\r\n        cp.appendChild(pt);\r\n        this.globalData.defs.appendChild(cp);\r\n\r\n        if (this.checkMasks()) {\r\n          var cpGroup = createNS('g');\r\n          cpGroup.setAttribute('clip-path', 'url(' + getLocationHref() + '#' + clipId + ')');\r\n          cpGroup.appendChild(this.layerElement);\r\n          this.transformedElement = cpGroup;\r\n\r\n          if (layerElementParent) {\r\n            layerElementParent.appendChild(this.transformedElement);\r\n          } else {\r\n            this.baseElement = this.transformedElement;\r\n          }\r\n        } else {\r\n          this.layerElement.setAttribute('clip-path', 'url(' + getLocationHref() + '#' + clipId + ')');\r\n        }\r\n      }\r\n\r\n      if (this.data.bm !== 0) {\r\n        this.setBlendMode();\r\n      }\r\n    },\r\n    renderElement: function renderElement() {\r\n      if (this.finalTransform._localMatMdf) {\r\n        this.transformedElement.setAttribute('transform', this.finalTransform.localMat.to2dCSS());\r\n      }\r\n\r\n      if (this.finalTransform._opMdf) {\r\n        this.transformedElement.setAttribute('opacity', this.finalTransform.localOpacity);\r\n      }\r\n    },\r\n    destroyBaseElement: function destroyBaseElement() {\r\n      this.layerElement = null;\r\n      this.matteElement = null;\r\n      this.maskManager.destroy();\r\n    },\r\n    getBaseElement: function getBaseElement() {\r\n      if (this.data.hd) {\r\n        return null;\r\n      }\r\n\r\n      return this.baseElement;\r\n    },\r\n    createRenderableComponents: function createRenderableComponents() {\r\n      this.maskManager = new MaskElement(this.data, this, this.globalData);\r\n      this.renderableEffectsManager = new SVGEffects(this);\r\n      this.searchEffectTransforms();\r\n    },\r\n    getMatte: function getMatte(matteType) {\r\n      // This should not be a common case. But for backward compatibility, we'll create the matte object.\r\n      // It solves animations that have two consecutive layers marked as matte masks.\r\n      // Which is an undefined behavior in AE.\r\n      if (!this.matteMasks) {\r\n        this.matteMasks = {};\r\n      }\r\n\r\n      if (!this.matteMasks[matteType]) {\r\n        var id = this.layerId + '_' + matteType;\r\n        var filId;\r\n        var fil;\r\n        var useElement;\r\n        var gg;\r\n\r\n        if (matteType === 1 || matteType === 3) {\r\n          var masker = createNS('mask');\r\n          masker.setAttribute('id', id);\r\n          masker.setAttribute('mask-type', matteType === 3 ? 'luminance' : 'alpha');\r\n          useElement = createNS('use');\r\n          useElement.setAttributeNS('http://www.w3.org/1999/xlink', 'href', '#' + this.layerId);\r\n          masker.appendChild(useElement);\r\n          this.globalData.defs.appendChild(masker);\r\n\r\n          if (!featureSupport.maskType && matteType === 1) {\r\n            masker.setAttribute('mask-type', 'luminance');\r\n            filId = createElementID();\r\n            fil = filtersFactory.createFilter(filId);\r\n            this.globalData.defs.appendChild(fil);\r\n            fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\r\n            gg = createNS('g');\r\n            gg.appendChild(useElement);\r\n            masker.appendChild(gg);\r\n            gg.setAttribute('filter', 'url(' + getLocationHref() + '#' + filId + ')');\r\n          }\r\n        } else if (matteType === 2) {\r\n          var maskGroup = createNS('mask');\r\n          maskGroup.setAttribute('id', id);\r\n          maskGroup.setAttribute('mask-type', 'alpha');\r\n          var maskGrouper = createNS('g');\r\n          maskGroup.appendChild(maskGrouper);\r\n          filId = createElementID();\r\n          fil = filtersFactory.createFilter(filId); /// /\r\n\r\n          var feCTr = createNS('feComponentTransfer');\r\n          feCTr.setAttribute('in', 'SourceGraphic');\r\n          fil.appendChild(feCTr);\r\n          var feFunc = createNS('feFuncA');\r\n          feFunc.setAttribute('type', 'table');\r\n          feFunc.setAttribute('tableValues', '1.0 0.0');\r\n          feCTr.appendChild(feFunc); /// /\r\n\r\n          this.globalData.defs.appendChild(fil);\r\n          var alphaRect = createNS('rect');\r\n          alphaRect.setAttribute('width', this.comp.data.w);\r\n          alphaRect.setAttribute('height', this.comp.data.h);\r\n          alphaRect.setAttribute('x', '0');\r\n          alphaRect.setAttribute('y', '0');\r\n          alphaRect.setAttribute('fill', '#ffffff');\r\n          alphaRect.setAttribute('opacity', '0');\r\n          maskGrouper.setAttribute('filter', 'url(' + getLocationHref() + '#' + filId + ')');\r\n          maskGrouper.appendChild(alphaRect);\r\n          useElement = createNS('use');\r\n          useElement.setAttributeNS('http://www.w3.org/1999/xlink', 'href', '#' + this.layerId);\r\n          maskGrouper.appendChild(useElement);\r\n\r\n          if (!featureSupport.maskType) {\r\n            maskGroup.setAttribute('mask-type', 'luminance');\r\n            fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\r\n            gg = createNS('g');\r\n            maskGrouper.appendChild(alphaRect);\r\n            gg.appendChild(this.layerElement);\r\n            maskGrouper.appendChild(gg);\r\n          }\r\n\r\n          this.globalData.defs.appendChild(maskGroup);\r\n        }\r\n\r\n        this.matteMasks[matteType] = id;\r\n      }\r\n\r\n      return this.matteMasks[matteType];\r\n    },\r\n    setMatte: function setMatte(id) {\r\n      if (!this.matteElement) {\r\n        return;\r\n      }\r\n\r\n      this.matteElement.setAttribute('mask', 'url(' + getLocationHref() + '#' + id + ')');\r\n    }\r\n  };\r\n\r\n  /**\r\n   * @file\r\n   * Handles AE's layer parenting property.\r\n   *\r\n   */\r\n  function HierarchyElement() {}\r\n\r\n  HierarchyElement.prototype = {\r\n    /**\r\n       * @function\r\n       * Initializes hierarchy properties\r\n       *\r\n       */\r\n    initHierarchy: function initHierarchy() {\r\n      // element's parent list\r\n      this.hierarchy = []; // if element is parent of another layer _isParent will be true\r\n\r\n      this._isParent = false;\r\n      this.checkParenting();\r\n    },\r\n\r\n    /**\r\n       * @function\r\n       * Sets layer's hierarchy.\r\n       * @param {array} hierarch\r\n       * layer's parent list\r\n       *\r\n       */\r\n    setHierarchy: function setHierarchy(hierarchy) {\r\n      this.hierarchy = hierarchy;\r\n    },\r\n\r\n    /**\r\n       * @function\r\n       * Sets layer as parent.\r\n       *\r\n       */\r\n    setAsParent: function setAsParent() {\r\n      this._isParent = true;\r\n    },\r\n\r\n    /**\r\n       * @function\r\n       * Searches layer's parenting chain\r\n       *\r\n       */\r\n    checkParenting: function checkParenting() {\r\n      if (this.data.parent !== undefined) {\r\n        this.comp.buildElementParenting(this, this.data.parent, []);\r\n      }\r\n    }\r\n  };\r\n\r\n  function RenderableDOMElement() {}\r\n\r\n  (function () {\r\n    var _prototype = {\r\n      initElement: function initElement(data, globalData, comp) {\r\n        this.initFrame();\r\n        this.initBaseData(data, globalData, comp);\r\n        this.initTransform(data, globalData, comp);\r\n        this.initHierarchy();\r\n        this.initRenderable();\r\n        this.initRendererElement();\r\n        this.createContainerElements();\r\n        this.createRenderableComponents();\r\n        this.createContent();\r\n        this.hide();\r\n      },\r\n      hide: function hide() {\r\n        // console.log('HIDE', this);\r\n        if (!this.hidden && (!this.isInRange || this.isTransparent)) {\r\n          var elem = this.baseElement || this.layerElement;\r\n          elem.style.display = 'none';\r\n          this.hidden = true;\r\n        }\r\n      },\r\n      show: function show() {\r\n        // console.log('SHOW', this);\r\n        if (this.isInRange && !this.isTransparent) {\r\n          if (!this.data.hd) {\r\n            var elem = this.baseElement || this.layerElement;\r\n            elem.style.display = 'block';\r\n          }\r\n\r\n          this.hidden = false;\r\n          this._isFirstFrame = true;\r\n        }\r\n      },\r\n      renderFrame: function renderFrame() {\r\n        // If it is exported as hidden (data.hd === true) no need to render\r\n        // If it is not visible no need to render\r\n        if (this.data.hd || this.hidden) {\r\n          return;\r\n        }\r\n\r\n        this.renderTransform();\r\n        this.renderRenderable();\r\n        this.renderLocalTransform();\r\n        this.renderElement();\r\n        this.renderInnerContent();\r\n\r\n        if (this._isFirstFrame) {\r\n          this._isFirstFrame = false;\r\n        }\r\n      },\r\n      renderInnerContent: function renderInnerContent() {},\r\n      prepareFrame: function prepareFrame(num) {\r\n        this._mdf = false;\r\n        this.prepareRenderableFrame(num);\r\n        this.prepareProperties(num, this.isInRange);\r\n        this.checkTransparency();\r\n      },\r\n      destroy: function destroy() {\r\n        this.innerElem = null;\r\n        this.destroyBaseElement();\r\n      }\r\n    };\r\n    extendPrototype([RenderableElement, createProxyFunction(_prototype)], RenderableDOMElement);\r\n  })();\r\n\r\n  function IImageElement(data, globalData, comp) {\r\n    this.assetData = globalData.getAssetData(data.refId);\r\n\r\n    if (this.assetData && this.assetData.sid) {\r\n      this.assetData = globalData.slotManager.getProp(this.assetData);\r\n    }\r\n\r\n    this.initElement(data, globalData, comp);\r\n    this.sourceRect = {\r\n      top: 0,\r\n      left: 0,\r\n      width: this.assetData.w,\r\n      height: this.assetData.h\r\n    };\r\n  }\r\n\r\n  extendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], IImageElement);\r\n\r\n  IImageElement.prototype.createContent = function () {\r\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\r\n    this.innerElem = createNS('image');\r\n    this.innerElem.setAttribute('width', this.assetData.w + 'px');\r\n    this.innerElem.setAttribute('height', this.assetData.h + 'px');\r\n    this.innerElem.setAttribute('preserveAspectRatio', this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio);\r\n    this.innerElem.setAttributeNS('http://www.w3.org/1999/xlink', 'href', assetPath);\r\n    this.layerElement.appendChild(this.innerElem);\r\n  };\r\n\r\n  IImageElement.prototype.sourceRectAtTime = function () {\r\n    return this.sourceRect;\r\n  };\r\n\r\n  function ProcessedElement(element, position) {\r\n    this.elem = element;\r\n    this.pos = position;\r\n  }\r\n\r\n  function IShapeElement() {}\r\n\r\n  IShapeElement.prototype = {\r\n    addShapeToModifiers: function addShapeToModifiers(data) {\r\n      var i;\r\n      var len = this.shapeModifiers.length;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        this.shapeModifiers[i].addShape(data);\r\n      }\r\n    },\r\n    isShapeInAnimatedModifiers: function isShapeInAnimatedModifiers(data) {\r\n      var i = 0;\r\n      var len = this.shapeModifiers.length;\r\n\r\n      while (i < len) {\r\n        if (this.shapeModifiers[i].isAnimatedWithShape(data)) {\r\n          return true;\r\n        }\r\n      }\r\n\r\n      return false;\r\n    },\r\n    renderModifiers: function renderModifiers() {\r\n      if (!this.shapeModifiers.length) {\r\n        return;\r\n      }\r\n\r\n      var i;\r\n      var len = this.shapes.length;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        this.shapes[i].sh.reset();\r\n      }\r\n\r\n      len = this.shapeModifiers.length;\r\n      var shouldBreakProcess;\r\n\r\n      for (i = len - 1; i >= 0; i -= 1) {\r\n        shouldBreakProcess = this.shapeModifiers[i].processShapes(this._isFirstFrame); // workaround to fix cases where a repeater resets the shape so the following processes get called twice\r\n        // TODO: find a better solution for this\r\n\r\n        if (shouldBreakProcess) {\r\n          break;\r\n        }\r\n      }\r\n    },\r\n    searchProcessedElement: function searchProcessedElement(elem) {\r\n      var elements = this.processedElements;\r\n      var i = 0;\r\n      var len = elements.length;\r\n\r\n      while (i < len) {\r\n        if (elements[i].elem === elem) {\r\n          return elements[i].pos;\r\n        }\r\n\r\n        i += 1;\r\n      }\r\n\r\n      return 0;\r\n    },\r\n    addProcessedElement: function addProcessedElement(elem, pos) {\r\n      var elements = this.processedElements;\r\n      var i = elements.length;\r\n\r\n      while (i) {\r\n        i -= 1;\r\n\r\n        if (elements[i].elem === elem) {\r\n          elements[i].pos = pos;\r\n          return;\r\n        }\r\n      }\r\n\r\n      elements.push(new ProcessedElement(elem, pos));\r\n    },\r\n    prepareFrame: function prepareFrame(num) {\r\n      this.prepareRenderableFrame(num);\r\n      this.prepareProperties(num, this.isInRange);\r\n    }\r\n  };\r\n\r\n  var lineCapEnum = {\r\n    1: 'butt',\r\n    2: 'round',\r\n    3: 'square'\r\n  };\r\n  var lineJoinEnum = {\r\n    1: 'miter',\r\n    2: 'round',\r\n    3: 'bevel'\r\n  };\r\n\r\n  function SVGShapeData(transformers, level, shape) {\r\n    this.caches = [];\r\n    this.styles = [];\r\n    this.transformers = transformers;\r\n    this.lStr = '';\r\n    this.sh = shape;\r\n    this.lvl = level; // TODO find if there are some cases where _isAnimated can be false.\r\n    // For now, since shapes add up with other shapes. They have to be calculated every time.\r\n    // One way of finding out is checking if all styles associated to this shape depend only of this shape\r\n\r\n    this._isAnimated = !!shape.k; // TODO: commenting this for now since all shapes are animated\r\n\r\n    var i = 0;\r\n    var len = transformers.length;\r\n\r\n    while (i < len) {\r\n      if (transformers[i].mProps.dynamicProperties.length) {\r\n        this._isAnimated = true;\r\n        break;\r\n      }\r\n\r\n      i += 1;\r\n    }\r\n  }\r\n\r\n  SVGShapeData.prototype.setAsAnimated = function () {\r\n    this._isAnimated = true;\r\n  };\r\n\r\n  function SVGStyleData(data, level) {\r\n    this.data = data;\r\n    this.type = data.ty;\r\n    this.d = '';\r\n    this.lvl = level;\r\n    this._mdf = false;\r\n    this.closed = data.hd === true;\r\n    this.pElem = createNS('path');\r\n    this.msElem = null;\r\n  }\r\n\r\n  SVGStyleData.prototype.reset = function () {\r\n    this.d = '';\r\n    this._mdf = false;\r\n  };\r\n\r\n  function DashProperty(elem, data, renderer, container) {\r\n    this.elem = elem;\r\n    this.frameId = -1;\r\n    this.dataProps = createSizedArray(data.length);\r\n    this.renderer = renderer;\r\n    this.k = false;\r\n    this.dashStr = '';\r\n    this.dashArray = createTypedArray('float32', data.length ? data.length - 1 : 0);\r\n    this.dashoffset = createTypedArray('float32', 1);\r\n    this.initDynamicPropertyContainer(container);\r\n    var i;\r\n    var len = data.length || 0;\r\n    var prop;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      prop = PropertyFactory.getProp(elem, data[i].v, 0, 0, this);\r\n      this.k = prop.k || this.k;\r\n      this.dataProps[i] = {\r\n        n: data[i].n,\r\n        p: prop\r\n      };\r\n    }\r\n\r\n    if (!this.k) {\r\n      this.getValue(true);\r\n    }\r\n\r\n    this._isAnimated = this.k;\r\n  }\r\n\r\n  DashProperty.prototype.getValue = function (forceRender) {\r\n    if (this.elem.globalData.frameId === this.frameId && !forceRender) {\r\n      return;\r\n    }\r\n\r\n    this.frameId = this.elem.globalData.frameId;\r\n    this.iterateDynamicProperties();\r\n    this._mdf = this._mdf || forceRender;\r\n\r\n    if (this._mdf) {\r\n      var i = 0;\r\n      var len = this.dataProps.length;\r\n\r\n      if (this.renderer === 'svg') {\r\n        this.dashStr = '';\r\n      }\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        if (this.dataProps[i].n !== 'o') {\r\n          if (this.renderer === 'svg') {\r\n            this.dashStr += ' ' + this.dataProps[i].p.v;\r\n          } else {\r\n            this.dashArray[i] = this.dataProps[i].p.v;\r\n          }\r\n        } else {\r\n          this.dashoffset[0] = this.dataProps[i].p.v;\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  extendPrototype([DynamicPropertyContainer], DashProperty);\r\n\r\n  function SVGStrokeStyleData(elem, data, styleOb) {\r\n    this.initDynamicPropertyContainer(elem);\r\n    this.getValue = this.iterateDynamicProperties;\r\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\r\n    this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\r\n    this.d = new DashProperty(elem, data.d || {}, 'svg', this);\r\n    this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\r\n    this.style = styleOb;\r\n    this._isAnimated = !!this._isAnimated;\r\n  }\r\n\r\n  extendPrototype([DynamicPropertyContainer], SVGStrokeStyleData);\r\n\r\n  function SVGFillStyleData(elem, data, styleOb) {\r\n    this.initDynamicPropertyContainer(elem);\r\n    this.getValue = this.iterateDynamicProperties;\r\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\r\n    this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\r\n    this.style = styleOb;\r\n  }\r\n\r\n  extendPrototype([DynamicPropertyContainer], SVGFillStyleData);\r\n\r\n  function SVGNoStyleData(elem, data, styleOb) {\r\n    this.initDynamicPropertyContainer(elem);\r\n    this.getValue = this.iterateDynamicProperties;\r\n    this.style = styleOb;\r\n  }\r\n\r\n  extendPrototype([DynamicPropertyContainer], SVGNoStyleData);\r\n\r\n  function GradientProperty(elem, data, container) {\r\n    this.data = data;\r\n    this.c = createTypedArray('uint8c', data.p * 4);\r\n    var cLength = data.k.k[0].s ? data.k.k[0].s.length - data.p * 4 : data.k.k.length - data.p * 4;\r\n    this.o = createTypedArray('float32', cLength);\r\n    this._cmdf = false;\r\n    this._omdf = false;\r\n    this._collapsable = this.checkCollapsable();\r\n    this._hasOpacity = cLength;\r\n    this.initDynamicPropertyContainer(container);\r\n    this.prop = PropertyFactory.getProp(elem, data.k, 1, null, this);\r\n    this.k = this.prop.k;\r\n    this.getValue(true);\r\n  }\r\n\r\n  GradientProperty.prototype.comparePoints = function (values, points) {\r\n    var i = 0;\r\n    var len = this.o.length / 2;\r\n    var diff;\r\n\r\n    while (i < len) {\r\n      diff = Math.abs(values[i * 4] - values[points * 4 + i * 2]);\r\n\r\n      if (diff > 0.01) {\r\n        return false;\r\n      }\r\n\r\n      i += 1;\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  GradientProperty.prototype.checkCollapsable = function () {\r\n    if (this.o.length / 2 !== this.c.length / 4) {\r\n      return false;\r\n    }\r\n\r\n    if (this.data.k.k[0].s) {\r\n      var i = 0;\r\n      var len = this.data.k.k.length;\r\n\r\n      while (i < len) {\r\n        if (!this.comparePoints(this.data.k.k[i].s, this.data.p)) {\r\n          return false;\r\n        }\r\n\r\n        i += 1;\r\n      }\r\n    } else if (!this.comparePoints(this.data.k.k, this.data.p)) {\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  GradientProperty.prototype.getValue = function (forceRender) {\r\n    this.prop.getValue();\r\n    this._mdf = false;\r\n    this._cmdf = false;\r\n    this._omdf = false;\r\n\r\n    if (this.prop._mdf || forceRender) {\r\n      var i;\r\n      var len = this.data.p * 4;\r\n      var mult;\r\n      var val;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        mult = i % 4 === 0 ? 100 : 255;\r\n        val = Math.round(this.prop.v[i] * mult);\r\n\r\n        if (this.c[i] !== val) {\r\n          this.c[i] = val;\r\n          this._cmdf = !forceRender;\r\n        }\r\n      }\r\n\r\n      if (this.o.length) {\r\n        len = this.prop.v.length;\r\n\r\n        for (i = this.data.p * 4; i < len; i += 1) {\r\n          mult = i % 2 === 0 ? 100 : 1;\r\n          val = i % 2 === 0 ? Math.round(this.prop.v[i] * 100) : this.prop.v[i];\r\n\r\n          if (this.o[i - this.data.p * 4] !== val) {\r\n            this.o[i - this.data.p * 4] = val;\r\n            this._omdf = !forceRender;\r\n          }\r\n        }\r\n      }\r\n\r\n      this._mdf = !forceRender;\r\n    }\r\n  };\r\n\r\n  extendPrototype([DynamicPropertyContainer], GradientProperty);\r\n\r\n  function SVGGradientFillStyleData(elem, data, styleOb) {\r\n    this.initDynamicPropertyContainer(elem);\r\n    this.getValue = this.iterateDynamicProperties;\r\n    this.initGradientData(elem, data, styleOb);\r\n  }\r\n\r\n  SVGGradientFillStyleData.prototype.initGradientData = function (elem, data, styleOb) {\r\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\r\n    this.s = PropertyFactory.getProp(elem, data.s, 1, null, this);\r\n    this.e = PropertyFactory.getProp(elem, data.e, 1, null, this);\r\n    this.h = PropertyFactory.getProp(elem, data.h || {\r\n      k: 0\r\n    }, 0, 0.01, this);\r\n    this.a = PropertyFactory.getProp(elem, data.a || {\r\n      k: 0\r\n    }, 0, degToRads, this);\r\n    this.g = new GradientProperty(elem, data.g, this);\r\n    this.style = styleOb;\r\n    this.stops = [];\r\n    this.setGradientData(styleOb.pElem, data);\r\n    this.setGradientOpacity(data, styleOb);\r\n    this._isAnimated = !!this._isAnimated;\r\n  };\r\n\r\n  SVGGradientFillStyleData.prototype.setGradientData = function (pathElement, data) {\r\n    var gradientId = createElementID();\r\n    var gfill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\r\n    gfill.setAttribute('id', gradientId);\r\n    gfill.setAttribute('spreadMethod', 'pad');\r\n    gfill.setAttribute('gradientUnits', 'userSpaceOnUse');\r\n    var stops = [];\r\n    var stop;\r\n    var j;\r\n    var jLen;\r\n    jLen = data.g.p * 4;\r\n\r\n    for (j = 0; j < jLen; j += 4) {\r\n      stop = createNS('stop');\r\n      gfill.appendChild(stop);\r\n      stops.push(stop);\r\n    }\r\n\r\n    pathElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + getLocationHref() + '#' + gradientId + ')');\r\n    this.gf = gfill;\r\n    this.cst = stops;\r\n  };\r\n\r\n  SVGGradientFillStyleData.prototype.setGradientOpacity = function (data, styleOb) {\r\n    if (this.g._hasOpacity && !this.g._collapsable) {\r\n      var stop;\r\n      var j;\r\n      var jLen;\r\n      var mask = createNS('mask');\r\n      var maskElement = createNS('path');\r\n      mask.appendChild(maskElement);\r\n      var opacityId = createElementID();\r\n      var maskId = createElementID();\r\n      mask.setAttribute('id', maskId);\r\n      var opFill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\r\n      opFill.setAttribute('id', opacityId);\r\n      opFill.setAttribute('spreadMethod', 'pad');\r\n      opFill.setAttribute('gradientUnits', 'userSpaceOnUse');\r\n      jLen = data.g.k.k[0].s ? data.g.k.k[0].s.length : data.g.k.k.length;\r\n      var stops = this.stops;\r\n\r\n      for (j = data.g.p * 4; j < jLen; j += 2) {\r\n        stop = createNS('stop');\r\n        stop.setAttribute('stop-color', 'rgb(255,255,255)');\r\n        opFill.appendChild(stop);\r\n        stops.push(stop);\r\n      }\r\n\r\n      maskElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + getLocationHref() + '#' + opacityId + ')');\r\n\r\n      if (data.ty === 'gs') {\r\n        maskElement.setAttribute('stroke-linecap', lineCapEnum[data.lc || 2]);\r\n        maskElement.setAttribute('stroke-linejoin', lineJoinEnum[data.lj || 2]);\r\n\r\n        if (data.lj === 1) {\r\n          maskElement.setAttribute('stroke-miterlimit', data.ml);\r\n        }\r\n      }\r\n\r\n      this.of = opFill;\r\n      this.ms = mask;\r\n      this.ost = stops;\r\n      this.maskId = maskId;\r\n      styleOb.msElem = maskElement;\r\n    }\r\n  };\r\n\r\n  extendPrototype([DynamicPropertyContainer], SVGGradientFillStyleData);\r\n\r\n  function SVGGradientStrokeStyleData(elem, data, styleOb) {\r\n    this.initDynamicPropertyContainer(elem);\r\n    this.getValue = this.iterateDynamicProperties;\r\n    this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\r\n    this.d = new DashProperty(elem, data.d || {}, 'svg', this);\r\n    this.initGradientData(elem, data, styleOb);\r\n    this._isAnimated = !!this._isAnimated;\r\n  }\r\n\r\n  extendPrototype([SVGGradientFillStyleData, DynamicPropertyContainer], SVGGradientStrokeStyleData);\r\n\r\n  function ShapeGroupData() {\r\n    this.it = [];\r\n    this.prevViewData = [];\r\n    this.gr = createNS('g');\r\n  }\r\n\r\n  function SVGTransformData(mProps, op, container) {\r\n    this.transform = {\r\n      mProps: mProps,\r\n      op: op,\r\n      container: container\r\n    };\r\n    this.elements = [];\r\n    this._isAnimated = this.transform.mProps.dynamicProperties.length || this.transform.op.effectsSequence.length;\r\n  }\r\n\r\n  var buildShapeString = function buildShapeString(pathNodes, length, closed, mat) {\r\n    if (length === 0) {\r\n      return '';\r\n    }\r\n\r\n    var _o = pathNodes.o;\r\n    var _i = pathNodes.i;\r\n    var _v = pathNodes.v;\r\n    var i;\r\n    var shapeString = ' M' + mat.applyToPointStringified(_v[0][0], _v[0][1]);\r\n\r\n    for (i = 1; i < length; i += 1) {\r\n      shapeString += ' C' + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + ' ' + mat.applyToPointStringified(_i[i][0], _i[i][1]) + ' ' + mat.applyToPointStringified(_v[i][0], _v[i][1]);\r\n    }\r\n\r\n    if (closed && length) {\r\n      shapeString += ' C' + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + ' ' + mat.applyToPointStringified(_i[0][0], _i[0][1]) + ' ' + mat.applyToPointStringified(_v[0][0], _v[0][1]);\r\n      shapeString += 'z';\r\n    }\r\n\r\n    return shapeString;\r\n  };\r\n\r\n  var SVGElementsRenderer = function () {\r\n    var _identityMatrix = new Matrix();\r\n\r\n    var _matrixHelper = new Matrix();\r\n\r\n    var ob = {\r\n      createRenderFunction: createRenderFunction\r\n    };\r\n\r\n    function createRenderFunction(data) {\r\n      switch (data.ty) {\r\n        case 'fl':\r\n          return renderFill;\r\n\r\n        case 'gf':\r\n          return renderGradient;\r\n\r\n        case 'gs':\r\n          return renderGradientStroke;\r\n\r\n        case 'st':\r\n          return renderStroke;\r\n\r\n        case 'sh':\r\n        case 'el':\r\n        case 'rc':\r\n        case 'sr':\r\n          return renderPath;\r\n\r\n        case 'tr':\r\n          return renderContentTransform;\r\n\r\n        case 'no':\r\n          return renderNoop;\r\n\r\n        default:\r\n          return null;\r\n      }\r\n    }\r\n\r\n    function renderContentTransform(styleData, itemData, isFirstFrame) {\r\n      if (isFirstFrame || itemData.transform.op._mdf) {\r\n        itemData.transform.container.setAttribute('opacity', itemData.transform.op.v);\r\n      }\r\n\r\n      if (isFirstFrame || itemData.transform.mProps._mdf) {\r\n        itemData.transform.container.setAttribute('transform', itemData.transform.mProps.v.to2dCSS());\r\n      }\r\n    }\r\n\r\n    function renderNoop() {}\r\n\r\n    function renderPath(styleData, itemData, isFirstFrame) {\r\n      var j;\r\n      var jLen;\r\n      var pathStringTransformed;\r\n      var redraw;\r\n      var pathNodes;\r\n      var l;\r\n      var lLen = itemData.styles.length;\r\n      var lvl = itemData.lvl;\r\n      var paths;\r\n      var mat;\r\n      var iterations;\r\n      var k;\r\n\r\n      for (l = 0; l < lLen; l += 1) {\r\n        redraw = itemData.sh._mdf || isFirstFrame;\r\n\r\n        if (itemData.styles[l].lvl < lvl) {\r\n          mat = _matrixHelper.reset();\r\n          iterations = lvl - itemData.styles[l].lvl;\r\n          k = itemData.transformers.length - 1;\r\n\r\n          while (!redraw && iterations > 0) {\r\n            redraw = itemData.transformers[k].mProps._mdf || redraw;\r\n            iterations -= 1;\r\n            k -= 1;\r\n          }\r\n\r\n          if (redraw) {\r\n            iterations = lvl - itemData.styles[l].lvl;\r\n            k = itemData.transformers.length - 1;\r\n\r\n            while (iterations > 0) {\r\n              mat.multiply(itemData.transformers[k].mProps.v);\r\n              iterations -= 1;\r\n              k -= 1;\r\n            }\r\n          }\r\n        } else {\r\n          mat = _identityMatrix;\r\n        }\r\n\r\n        paths = itemData.sh.paths;\r\n        jLen = paths._length;\r\n\r\n        if (redraw) {\r\n          pathStringTransformed = '';\r\n\r\n          for (j = 0; j < jLen; j += 1) {\r\n            pathNodes = paths.shapes[j];\r\n\r\n            if (pathNodes && pathNodes._length) {\r\n              pathStringTransformed += buildShapeString(pathNodes, pathNodes._length, pathNodes.c, mat);\r\n            }\r\n          }\r\n\r\n          itemData.caches[l] = pathStringTransformed;\r\n        } else {\r\n          pathStringTransformed = itemData.caches[l];\r\n        }\r\n\r\n        itemData.styles[l].d += styleData.hd === true ? '' : pathStringTransformed;\r\n        itemData.styles[l]._mdf = redraw || itemData.styles[l]._mdf;\r\n      }\r\n    }\r\n\r\n    function renderFill(styleData, itemData, isFirstFrame) {\r\n      var styleElem = itemData.style;\r\n\r\n      if (itemData.c._mdf || isFirstFrame) {\r\n        styleElem.pElem.setAttribute('fill', 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')');\r\n      }\r\n\r\n      if (itemData.o._mdf || isFirstFrame) {\r\n        styleElem.pElem.setAttribute('fill-opacity', itemData.o.v);\r\n      }\r\n    }\r\n\r\n    function renderGradientStroke(styleData, itemData, isFirstFrame) {\r\n      renderGradient(styleData, itemData, isFirstFrame);\r\n      renderStroke(styleData, itemData, isFirstFrame);\r\n    }\r\n\r\n    function renderGradient(styleData, itemData, isFirstFrame) {\r\n      var gfill = itemData.gf;\r\n      var hasOpacity = itemData.g._hasOpacity;\r\n      var pt1 = itemData.s.v;\r\n      var pt2 = itemData.e.v;\r\n\r\n      if (itemData.o._mdf || isFirstFrame) {\r\n        var attr = styleData.ty === 'gf' ? 'fill-opacity' : 'stroke-opacity';\r\n        itemData.style.pElem.setAttribute(attr, itemData.o.v);\r\n      }\r\n\r\n      if (itemData.s._mdf || isFirstFrame) {\r\n        var attr1 = styleData.t === 1 ? 'x1' : 'cx';\r\n        var attr2 = attr1 === 'x1' ? 'y1' : 'cy';\r\n        gfill.setAttribute(attr1, pt1[0]);\r\n        gfill.setAttribute(attr2, pt1[1]);\r\n\r\n        if (hasOpacity && !itemData.g._collapsable) {\r\n          itemData.of.setAttribute(attr1, pt1[0]);\r\n          itemData.of.setAttribute(attr2, pt1[1]);\r\n        }\r\n      }\r\n\r\n      var stops;\r\n      var i;\r\n      var len;\r\n      var stop;\r\n\r\n      if (itemData.g._cmdf || isFirstFrame) {\r\n        stops = itemData.cst;\r\n        var cValues = itemData.g.c;\r\n        len = stops.length;\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n          stop = stops[i];\r\n          stop.setAttribute('offset', cValues[i * 4] + '%');\r\n          stop.setAttribute('stop-color', 'rgb(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ')');\r\n        }\r\n      }\r\n\r\n      if (hasOpacity && (itemData.g._omdf || isFirstFrame)) {\r\n        var oValues = itemData.g.o;\r\n\r\n        if (itemData.g._collapsable) {\r\n          stops = itemData.cst;\r\n        } else {\r\n          stops = itemData.ost;\r\n        }\r\n\r\n        len = stops.length;\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n          stop = stops[i];\r\n\r\n          if (!itemData.g._collapsable) {\r\n            stop.setAttribute('offset', oValues[i * 2] + '%');\r\n          }\r\n\r\n          stop.setAttribute('stop-opacity', oValues[i * 2 + 1]);\r\n        }\r\n      }\r\n\r\n      if (styleData.t === 1) {\r\n        if (itemData.e._mdf || isFirstFrame) {\r\n          gfill.setAttribute('x2', pt2[0]);\r\n          gfill.setAttribute('y2', pt2[1]);\r\n\r\n          if (hasOpacity && !itemData.g._collapsable) {\r\n            itemData.of.setAttribute('x2', pt2[0]);\r\n            itemData.of.setAttribute('y2', pt2[1]);\r\n          }\r\n        }\r\n      } else {\r\n        var rad;\r\n\r\n        if (itemData.s._mdf || itemData.e._mdf || isFirstFrame) {\r\n          rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\r\n          gfill.setAttribute('r', rad);\r\n\r\n          if (hasOpacity && !itemData.g._collapsable) {\r\n            itemData.of.setAttribute('r', rad);\r\n          }\r\n        }\r\n\r\n        if (itemData.e._mdf || itemData.h._mdf || itemData.a._mdf || isFirstFrame) {\r\n          if (!rad) {\r\n            rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\r\n          }\r\n\r\n          var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\r\n          var percent = itemData.h.v;\r\n\r\n          if (percent >= 1) {\r\n            percent = 0.99;\r\n          } else if (percent <= -1) {\r\n            percent = -0.99;\r\n          }\r\n\r\n          var dist = rad * percent;\r\n          var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\r\n          var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\r\n          gfill.setAttribute('fx', x);\r\n          gfill.setAttribute('fy', y);\r\n\r\n          if (hasOpacity && !itemData.g._collapsable) {\r\n            itemData.of.setAttribute('fx', x);\r\n            itemData.of.setAttribute('fy', y);\r\n          }\r\n        } // gfill.setAttribute('fy','200');\r\n\r\n      }\r\n    }\r\n\r\n    function renderStroke(styleData, itemData, isFirstFrame) {\r\n      var styleElem = itemData.style;\r\n      var d = itemData.d;\r\n\r\n      if (d && (d._mdf || isFirstFrame) && d.dashStr) {\r\n        styleElem.pElem.setAttribute('stroke-dasharray', d.dashStr);\r\n        styleElem.pElem.setAttribute('stroke-dashoffset', d.dashoffset[0]);\r\n      }\r\n\r\n      if (itemData.c && (itemData.c._mdf || isFirstFrame)) {\r\n        styleElem.pElem.setAttribute('stroke', 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')');\r\n      }\r\n\r\n      if (itemData.o._mdf || isFirstFrame) {\r\n        styleElem.pElem.setAttribute('stroke-opacity', itemData.o.v);\r\n      }\r\n\r\n      if (itemData.w._mdf || isFirstFrame) {\r\n        styleElem.pElem.setAttribute('stroke-width', itemData.w.v);\r\n\r\n        if (styleElem.msElem) {\r\n          styleElem.msElem.setAttribute('stroke-width', itemData.w.v);\r\n        }\r\n      }\r\n    }\r\n\r\n    return ob;\r\n  }();\r\n\r\n  function SVGShapeElement(data, globalData, comp) {\r\n    // List of drawable elements\r\n    this.shapes = []; // Full shape data\r\n\r\n    this.shapesData = data.shapes; // List of styles that will be applied to shapes\r\n\r\n    this.stylesList = []; // List of modifiers that will be applied to shapes\r\n\r\n    this.shapeModifiers = []; // List of items in shape tree\r\n\r\n    this.itemsData = []; // List of items in previous shape tree\r\n\r\n    this.processedElements = []; // List of animated components\r\n\r\n    this.animatedContents = [];\r\n    this.initElement(data, globalData, comp); // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n    // List of elements that have been created\r\n\r\n    this.prevViewData = []; // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n  }\r\n\r\n  extendPrototype([BaseElement, TransformElement, SVGBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableDOMElement], SVGShapeElement);\r\n\r\n  SVGShapeElement.prototype.initSecondaryElement = function () {};\r\n\r\n  SVGShapeElement.prototype.identityMatrix = new Matrix();\r\n\r\n  SVGShapeElement.prototype.buildExpressionInterface = function () {};\r\n\r\n  SVGShapeElement.prototype.createContent = function () {\r\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\r\n    this.filterUniqueShapes();\r\n  };\r\n  /*\r\n  This method searches for multiple shapes that affect a single element and one of them is animated\r\n  */\r\n\r\n\r\n  SVGShapeElement.prototype.filterUniqueShapes = function () {\r\n    var i;\r\n    var len = this.shapes.length;\r\n    var shape;\r\n    var j;\r\n    var jLen = this.stylesList.length;\r\n    var style;\r\n    var tempShapes = [];\r\n    var areAnimated = false;\r\n\r\n    for (j = 0; j < jLen; j += 1) {\r\n      style = this.stylesList[j];\r\n      areAnimated = false;\r\n      tempShapes.length = 0;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        shape = this.shapes[i];\r\n\r\n        if (shape.styles.indexOf(style) !== -1) {\r\n          tempShapes.push(shape);\r\n          areAnimated = shape._isAnimated || areAnimated;\r\n        }\r\n      }\r\n\r\n      if (tempShapes.length > 1 && areAnimated) {\r\n        this.setShapesAsAnimated(tempShapes);\r\n      }\r\n    }\r\n  };\r\n\r\n  SVGShapeElement.prototype.setShapesAsAnimated = function (shapes) {\r\n    var i;\r\n    var len = shapes.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      shapes[i].setAsAnimated();\r\n    }\r\n  };\r\n\r\n  SVGShapeElement.prototype.createStyleElement = function (data, level) {\r\n    // TODO: prevent drawing of hidden styles\r\n    var elementData;\r\n    var styleOb = new SVGStyleData(data, level);\r\n    var pathElement = styleOb.pElem;\r\n\r\n    if (data.ty === 'st') {\r\n      elementData = new SVGStrokeStyleData(this, data, styleOb);\r\n    } else if (data.ty === 'fl') {\r\n      elementData = new SVGFillStyleData(this, data, styleOb);\r\n    } else if (data.ty === 'gf' || data.ty === 'gs') {\r\n      var GradientConstructor = data.ty === 'gf' ? SVGGradientFillStyleData : SVGGradientStrokeStyleData;\r\n      elementData = new GradientConstructor(this, data, styleOb);\r\n      this.globalData.defs.appendChild(elementData.gf);\r\n\r\n      if (elementData.maskId) {\r\n        this.globalData.defs.appendChild(elementData.ms);\r\n        this.globalData.defs.appendChild(elementData.of);\r\n        pathElement.setAttribute('mask', 'url(' + getLocationHref() + '#' + elementData.maskId + ')');\r\n      }\r\n    } else if (data.ty === 'no') {\r\n      elementData = new SVGNoStyleData(this, data, styleOb);\r\n    }\r\n\r\n    if (data.ty === 'st' || data.ty === 'gs') {\r\n      pathElement.setAttribute('stroke-linecap', lineCapEnum[data.lc || 2]);\r\n      pathElement.setAttribute('stroke-linejoin', lineJoinEnum[data.lj || 2]);\r\n      pathElement.setAttribute('fill-opacity', '0');\r\n\r\n      if (data.lj === 1) {\r\n        pathElement.setAttribute('stroke-miterlimit', data.ml);\r\n      }\r\n    }\r\n\r\n    if (data.r === 2) {\r\n      pathElement.setAttribute('fill-rule', 'evenodd');\r\n    }\r\n\r\n    if (data.ln) {\r\n      pathElement.setAttribute('id', data.ln);\r\n    }\r\n\r\n    if (data.cl) {\r\n      pathElement.setAttribute('class', data.cl);\r\n    }\r\n\r\n    if (data.bm) {\r\n      pathElement.style['mix-blend-mode'] = getBlendMode(data.bm);\r\n    }\r\n\r\n    this.stylesList.push(styleOb);\r\n    this.addToAnimatedContents(data, elementData);\r\n    return elementData;\r\n  };\r\n\r\n  SVGShapeElement.prototype.createGroupElement = function (data) {\r\n    var elementData = new ShapeGroupData();\r\n\r\n    if (data.ln) {\r\n      elementData.gr.setAttribute('id', data.ln);\r\n    }\r\n\r\n    if (data.cl) {\r\n      elementData.gr.setAttribute('class', data.cl);\r\n    }\r\n\r\n    if (data.bm) {\r\n      elementData.gr.style['mix-blend-mode'] = getBlendMode(data.bm);\r\n    }\r\n\r\n    return elementData;\r\n  };\r\n\r\n  SVGShapeElement.prototype.createTransformElement = function (data, container) {\r\n    var transformProperty = TransformPropertyFactory.getTransformProperty(this, data, this);\r\n    var elementData = new SVGTransformData(transformProperty, transformProperty.o, container);\r\n    this.addToAnimatedContents(data, elementData);\r\n    return elementData;\r\n  };\r\n\r\n  SVGShapeElement.prototype.createShapeElement = function (data, ownTransformers, level) {\r\n    var ty = 4;\r\n\r\n    if (data.ty === 'rc') {\r\n      ty = 5;\r\n    } else if (data.ty === 'el') {\r\n      ty = 6;\r\n    } else if (data.ty === 'sr') {\r\n      ty = 7;\r\n    }\r\n\r\n    var shapeProperty = ShapePropertyFactory.getShapeProp(this, data, ty, this);\r\n    var elementData = new SVGShapeData(ownTransformers, level, shapeProperty);\r\n    this.shapes.push(elementData);\r\n    this.addShapeToModifiers(elementData);\r\n    this.addToAnimatedContents(data, elementData);\r\n    return elementData;\r\n  };\r\n\r\n  SVGShapeElement.prototype.addToAnimatedContents = function (data, element) {\r\n    var i = 0;\r\n    var len = this.animatedContents.length;\r\n\r\n    while (i < len) {\r\n      if (this.animatedContents[i].element === element) {\r\n        return;\r\n      }\r\n\r\n      i += 1;\r\n    }\r\n\r\n    this.animatedContents.push({\r\n      fn: SVGElementsRenderer.createRenderFunction(data),\r\n      element: element,\r\n      data: data\r\n    });\r\n  };\r\n\r\n  SVGShapeElement.prototype.setElementStyles = function (elementData) {\r\n    var arr = elementData.styles;\r\n    var j;\r\n    var jLen = this.stylesList.length;\r\n\r\n    for (j = 0; j < jLen; j += 1) {\r\n      if (!this.stylesList[j].closed) {\r\n        arr.push(this.stylesList[j]);\r\n      }\r\n    }\r\n  };\r\n\r\n  SVGShapeElement.prototype.reloadShapes = function () {\r\n    this._isFirstFrame = true;\r\n    var i;\r\n    var len = this.itemsData.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      this.prevViewData[i] = this.itemsData[i];\r\n    }\r\n\r\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\r\n    this.filterUniqueShapes();\r\n    len = this.dynamicProperties.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      this.dynamicProperties[i].getValue();\r\n    }\r\n\r\n    this.renderModifiers();\r\n  };\r\n\r\n  SVGShapeElement.prototype.searchShapes = function (arr, itemsData, prevViewData, container, level, transformers, render) {\r\n    var ownTransformers = [].concat(transformers);\r\n    var i;\r\n    var len = arr.length - 1;\r\n    var j;\r\n    var jLen;\r\n    var ownStyles = [];\r\n    var ownModifiers = [];\r\n    var currentTransform;\r\n    var modifier;\r\n    var processedPos;\r\n\r\n    for (i = len; i >= 0; i -= 1) {\r\n      processedPos = this.searchProcessedElement(arr[i]);\r\n\r\n      if (!processedPos) {\r\n        arr[i]._render = render;\r\n      } else {\r\n        itemsData[i] = prevViewData[processedPos - 1];\r\n      }\r\n\r\n      if (arr[i].ty === 'fl' || arr[i].ty === 'st' || arr[i].ty === 'gf' || arr[i].ty === 'gs' || arr[i].ty === 'no') {\r\n        if (!processedPos) {\r\n          itemsData[i] = this.createStyleElement(arr[i], level);\r\n        } else {\r\n          itemsData[i].style.closed = false;\r\n        }\r\n\r\n        if (arr[i]._render) {\r\n          if (itemsData[i].style.pElem.parentNode !== container) {\r\n            container.appendChild(itemsData[i].style.pElem);\r\n          }\r\n        }\r\n\r\n        ownStyles.push(itemsData[i].style);\r\n      } else if (arr[i].ty === 'gr') {\r\n        if (!processedPos) {\r\n          itemsData[i] = this.createGroupElement(arr[i]);\r\n        } else {\r\n          jLen = itemsData[i].it.length;\r\n\r\n          for (j = 0; j < jLen; j += 1) {\r\n            itemsData[i].prevViewData[j] = itemsData[i].it[j];\r\n          }\r\n        }\r\n\r\n        this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, itemsData[i].gr, level + 1, ownTransformers, render);\r\n\r\n        if (arr[i]._render) {\r\n          if (itemsData[i].gr.parentNode !== container) {\r\n            container.appendChild(itemsData[i].gr);\r\n          }\r\n        }\r\n      } else if (arr[i].ty === 'tr') {\r\n        if (!processedPos) {\r\n          itemsData[i] = this.createTransformElement(arr[i], container);\r\n        }\r\n\r\n        currentTransform = itemsData[i].transform;\r\n        ownTransformers.push(currentTransform);\r\n      } else if (arr[i].ty === 'sh' || arr[i].ty === 'rc' || arr[i].ty === 'el' || arr[i].ty === 'sr') {\r\n        if (!processedPos) {\r\n          itemsData[i] = this.createShapeElement(arr[i], ownTransformers, level);\r\n        }\r\n\r\n        this.setElementStyles(itemsData[i]);\r\n      } else if (arr[i].ty === 'tm' || arr[i].ty === 'rd' || arr[i].ty === 'ms' || arr[i].ty === 'pb' || arr[i].ty === 'zz' || arr[i].ty === 'op') {\r\n        if (!processedPos) {\r\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n          modifier.init(this, arr[i]);\r\n          itemsData[i] = modifier;\r\n          this.shapeModifiers.push(modifier);\r\n        } else {\r\n          modifier = itemsData[i];\r\n          modifier.closed = false;\r\n        }\r\n\r\n        ownModifiers.push(modifier);\r\n      } else if (arr[i].ty === 'rp') {\r\n        if (!processedPos) {\r\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n          itemsData[i] = modifier;\r\n          modifier.init(this, arr, i, itemsData);\r\n          this.shapeModifiers.push(modifier);\r\n          render = false;\r\n        } else {\r\n          modifier = itemsData[i];\r\n          modifier.closed = true;\r\n        }\r\n\r\n        ownModifiers.push(modifier);\r\n      }\r\n\r\n      this.addProcessedElement(arr[i], i + 1);\r\n    }\r\n\r\n    len = ownStyles.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      ownStyles[i].closed = true;\r\n    }\r\n\r\n    len = ownModifiers.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      ownModifiers[i].closed = true;\r\n    }\r\n  };\r\n\r\n  SVGShapeElement.prototype.renderInnerContent = function () {\r\n    this.renderModifiers();\r\n    var i;\r\n    var len = this.stylesList.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      this.stylesList[i].reset();\r\n    }\r\n\r\n    this.renderShape();\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.stylesList[i]._mdf || this._isFirstFrame) {\r\n        if (this.stylesList[i].msElem) {\r\n          this.stylesList[i].msElem.setAttribute('d', this.stylesList[i].d); // Adding M0 0 fixes same mask bug on all browsers\r\n\r\n          this.stylesList[i].d = 'M0 0' + this.stylesList[i].d;\r\n        }\r\n\r\n        this.stylesList[i].pElem.setAttribute('d', this.stylesList[i].d || 'M0 0');\r\n      }\r\n    }\r\n  };\r\n\r\n  SVGShapeElement.prototype.renderShape = function () {\r\n    var i;\r\n    var len = this.animatedContents.length;\r\n    var animatedContent;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      animatedContent = this.animatedContents[i];\r\n\r\n      if ((this._isFirstFrame || animatedContent.element._isAnimated) && animatedContent.data !== true) {\r\n        animatedContent.fn(animatedContent.data, animatedContent.element, this._isFirstFrame);\r\n      }\r\n    }\r\n  };\r\n\r\n  SVGShapeElement.prototype.destroy = function () {\r\n    this.destroyBaseElement();\r\n    this.shapesData = null;\r\n    this.itemsData = null;\r\n  };\r\n\r\n  function LetterProps(o, sw, sc, fc, m, p) {\r\n    this.o = o;\r\n    this.sw = sw;\r\n    this.sc = sc;\r\n    this.fc = fc;\r\n    this.m = m;\r\n    this.p = p;\r\n    this._mdf = {\r\n      o: true,\r\n      sw: !!sw,\r\n      sc: !!sc,\r\n      fc: !!fc,\r\n      m: true,\r\n      p: true\r\n    };\r\n  }\r\n\r\n  LetterProps.prototype.update = function (o, sw, sc, fc, m, p) {\r\n    this._mdf.o = false;\r\n    this._mdf.sw = false;\r\n    this._mdf.sc = false;\r\n    this._mdf.fc = false;\r\n    this._mdf.m = false;\r\n    this._mdf.p = false;\r\n    var updated = false;\r\n\r\n    if (this.o !== o) {\r\n      this.o = o;\r\n      this._mdf.o = true;\r\n      updated = true;\r\n    }\r\n\r\n    if (this.sw !== sw) {\r\n      this.sw = sw;\r\n      this._mdf.sw = true;\r\n      updated = true;\r\n    }\r\n\r\n    if (this.sc !== sc) {\r\n      this.sc = sc;\r\n      this._mdf.sc = true;\r\n      updated = true;\r\n    }\r\n\r\n    if (this.fc !== fc) {\r\n      this.fc = fc;\r\n      this._mdf.fc = true;\r\n      updated = true;\r\n    }\r\n\r\n    if (this.m !== m) {\r\n      this.m = m;\r\n      this._mdf.m = true;\r\n      updated = true;\r\n    }\r\n\r\n    if (p.length && (this.p[0] !== p[0] || this.p[1] !== p[1] || this.p[4] !== p[4] || this.p[5] !== p[5] || this.p[12] !== p[12] || this.p[13] !== p[13])) {\r\n      this.p = p;\r\n      this._mdf.p = true;\r\n      updated = true;\r\n    }\r\n\r\n    return updated;\r\n  };\r\n\r\n  function TextProperty(elem, data) {\r\n    this._frameId = initialDefaultFrame;\r\n    this.pv = '';\r\n    this.v = '';\r\n    this.kf = false;\r\n    this._isFirstFrame = true;\r\n    this._mdf = false;\r\n\r\n    if (data.d && data.d.sid) {\r\n      data.d = elem.globalData.slotManager.getProp(data.d);\r\n    }\r\n\r\n    this.data = data;\r\n    this.elem = elem;\r\n    this.comp = this.elem.comp;\r\n    this.keysIndex = 0;\r\n    this.canResize = false;\r\n    this.minimumFontSize = 1;\r\n    this.effectsSequence = [];\r\n    this.currentData = {\r\n      ascent: 0,\r\n      boxWidth: this.defaultBoxWidth,\r\n      f: '',\r\n      fStyle: '',\r\n      fWeight: '',\r\n      fc: '',\r\n      j: '',\r\n      justifyOffset: '',\r\n      l: [],\r\n      lh: 0,\r\n      lineWidths: [],\r\n      ls: '',\r\n      of: '',\r\n      s: '',\r\n      sc: '',\r\n      sw: 0,\r\n      t: 0,\r\n      tr: 0,\r\n      sz: 0,\r\n      ps: null,\r\n      fillColorAnim: false,\r\n      strokeColorAnim: false,\r\n      strokeWidthAnim: false,\r\n      yOffset: 0,\r\n      finalSize: 0,\r\n      finalText: [],\r\n      finalLineHeight: 0,\r\n      __complete: false\r\n    };\r\n    this.copyData(this.currentData, this.data.d.k[0].s);\r\n\r\n    if (!this.searchProperty()) {\r\n      this.completeTextData(this.currentData);\r\n    }\r\n  }\r\n\r\n  TextProperty.prototype.defaultBoxWidth = [0, 0];\r\n\r\n  TextProperty.prototype.copyData = function (obj, data) {\r\n    for (var s in data) {\r\n      if (Object.prototype.hasOwnProperty.call(data, s)) {\r\n        obj[s] = data[s];\r\n      }\r\n    }\r\n\r\n    return obj;\r\n  };\r\n\r\n  TextProperty.prototype.setCurrentData = function (data) {\r\n    if (!data.__complete) {\r\n      this.completeTextData(data);\r\n    }\r\n\r\n    this.currentData = data;\r\n    this.currentData.boxWidth = this.currentData.boxWidth || this.defaultBoxWidth;\r\n    this._mdf = true;\r\n  };\r\n\r\n  TextProperty.prototype.searchProperty = function () {\r\n    return this.searchKeyframes();\r\n  };\r\n\r\n  TextProperty.prototype.searchKeyframes = function () {\r\n    this.kf = this.data.d.k.length > 1;\r\n\r\n    if (this.kf) {\r\n      this.addEffect(this.getKeyframeValue.bind(this));\r\n    }\r\n\r\n    return this.kf;\r\n  };\r\n\r\n  TextProperty.prototype.addEffect = function (effectFunction) {\r\n    this.effectsSequence.push(effectFunction);\r\n    this.elem.addDynamicProperty(this);\r\n  };\r\n\r\n  TextProperty.prototype.getValue = function (_finalValue) {\r\n    if ((this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) && !_finalValue) {\r\n      return;\r\n    }\r\n\r\n    this.currentData.t = this.data.d.k[this.keysIndex].s.t;\r\n    var currentValue = this.currentData;\r\n    var currentIndex = this.keysIndex;\r\n\r\n    if (this.lock) {\r\n      this.setCurrentData(this.currentData);\r\n      return;\r\n    }\r\n\r\n    this.lock = true;\r\n    this._mdf = false;\r\n    var i;\r\n    var len = this.effectsSequence.length;\r\n    var finalValue = _finalValue || this.data.d.k[this.keysIndex].s;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      // Checking if index changed to prevent creating a new object every time the expression updates.\r\n      if (currentIndex !== this.keysIndex) {\r\n        finalValue = this.effectsSequence[i](finalValue, finalValue.t);\r\n      } else {\r\n        finalValue = this.effectsSequence[i](this.currentData, finalValue.t);\r\n      }\r\n    }\r\n\r\n    if (currentValue !== finalValue) {\r\n      this.setCurrentData(finalValue);\r\n    }\r\n\r\n    this.v = this.currentData;\r\n    this.pv = this.v;\r\n    this.lock = false;\r\n    this.frameId = this.elem.globalData.frameId;\r\n  };\r\n\r\n  TextProperty.prototype.getKeyframeValue = function () {\r\n    var textKeys = this.data.d.k;\r\n    var frameNum = this.elem.comp.renderedFrame;\r\n    var i = 0;\r\n    var len = textKeys.length;\r\n\r\n    while (i <= len - 1) {\r\n      if (i === len - 1 || textKeys[i + 1].t > frameNum) {\r\n        break;\r\n      }\r\n\r\n      i += 1;\r\n    }\r\n\r\n    if (this.keysIndex !== i) {\r\n      this.keysIndex = i;\r\n    }\r\n\r\n    return this.data.d.k[this.keysIndex].s;\r\n  };\r\n\r\n  TextProperty.prototype.buildFinalText = function (text) {\r\n    var charactersArray = [];\r\n    var i = 0;\r\n    var len = text.length;\r\n    var charCode;\r\n    var secondCharCode;\r\n    var shouldCombine = false;\r\n    var shouldCombineNext = false;\r\n    var currentChars = '';\r\n\r\n    while (i < len) {\r\n      shouldCombine = shouldCombineNext;\r\n      shouldCombineNext = false;\r\n      charCode = text.charCodeAt(i);\r\n      currentChars = text.charAt(i);\r\n\r\n      if (FontManager.isCombinedCharacter(charCode)) {\r\n        shouldCombine = true; // It's a potential surrogate pair (this is the High surrogate)\r\n      } else if (charCode >= 0xD800 && charCode <= 0xDBFF) {\r\n        if (FontManager.isRegionalFlag(text, i)) {\r\n          currentChars = text.substr(i, 14);\r\n        } else {\r\n          secondCharCode = text.charCodeAt(i + 1); // It's a surrogate pair (this is the Low surrogate)\r\n\r\n          if (secondCharCode >= 0xDC00 && secondCharCode <= 0xDFFF) {\r\n            if (FontManager.isModifier(charCode, secondCharCode)) {\r\n              currentChars = text.substr(i, 2);\r\n              shouldCombine = true;\r\n            } else if (FontManager.isFlagEmoji(text.substr(i, 4))) {\r\n              currentChars = text.substr(i, 4);\r\n            } else {\r\n              currentChars = text.substr(i, 2);\r\n            }\r\n          }\r\n        }\r\n      } else if (charCode > 0xDBFF) {\r\n        secondCharCode = text.charCodeAt(i + 1);\r\n\r\n        if (FontManager.isVariationSelector(charCode)) {\r\n          shouldCombine = true;\r\n        }\r\n      } else if (FontManager.isZeroWidthJoiner(charCode)) {\r\n        shouldCombine = true;\r\n        shouldCombineNext = true;\r\n      }\r\n\r\n      if (shouldCombine) {\r\n        charactersArray[charactersArray.length - 1] += currentChars;\r\n        shouldCombine = false;\r\n      } else {\r\n        charactersArray.push(currentChars);\r\n      }\r\n\r\n      i += currentChars.length;\r\n    }\r\n\r\n    return charactersArray;\r\n  };\r\n\r\n  TextProperty.prototype.completeTextData = function (documentData) {\r\n    documentData.__complete = true;\r\n    var fontManager = this.elem.globalData.fontManager;\r\n    var data = this.data;\r\n    var letters = [];\r\n    var i;\r\n    var len;\r\n    var newLineFlag;\r\n    var index = 0;\r\n    var val;\r\n    var anchorGrouping = data.m.g;\r\n    var currentSize = 0;\r\n    var currentPos = 0;\r\n    var currentLine = 0;\r\n    var lineWidths = [];\r\n    var lineWidth = 0;\r\n    var maxLineWidth = 0;\r\n    var j;\r\n    var jLen;\r\n    var fontData = fontManager.getFontByName(documentData.f);\r\n    var charData;\r\n    var cLength = 0;\r\n    var fontProps = getFontProperties(fontData);\r\n    documentData.fWeight = fontProps.weight;\r\n    documentData.fStyle = fontProps.style;\r\n    documentData.finalSize = documentData.s;\r\n    documentData.finalText = this.buildFinalText(documentData.t);\r\n    len = documentData.finalText.length;\r\n    documentData.finalLineHeight = documentData.lh;\r\n    var trackingOffset = documentData.tr / 1000 * documentData.finalSize;\r\n    var charCode;\r\n\r\n    if (documentData.sz) {\r\n      var flag = true;\r\n      var boxWidth = documentData.sz[0];\r\n      var boxHeight = documentData.sz[1];\r\n      var currentHeight;\r\n      var finalText;\r\n\r\n      while (flag) {\r\n        finalText = this.buildFinalText(documentData.t);\r\n        currentHeight = 0;\r\n        lineWidth = 0;\r\n        len = finalText.length;\r\n        trackingOffset = documentData.tr / 1000 * documentData.finalSize;\r\n        var lastSpaceIndex = -1;\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n          charCode = finalText[i].charCodeAt(0);\r\n          newLineFlag = false;\r\n\r\n          if (finalText[i] === ' ') {\r\n            lastSpaceIndex = i;\r\n          } else if (charCode === 13 || charCode === 3) {\r\n            lineWidth = 0;\r\n            newLineFlag = true;\r\n            currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\r\n          }\r\n\r\n          if (fontManager.chars) {\r\n            charData = fontManager.getCharData(finalText[i], fontData.fStyle, fontData.fFamily);\r\n            cLength = newLineFlag ? 0 : charData.w * documentData.finalSize / 100;\r\n          } else {\r\n            // tCanvasHelper.font = documentData.s + 'px '+ fontData.fFamily;\r\n            cLength = fontManager.measureText(finalText[i], documentData.f, documentData.finalSize);\r\n          }\r\n\r\n          if (lineWidth + cLength > boxWidth && finalText[i] !== ' ') {\r\n            if (lastSpaceIndex === -1) {\r\n              len += 1;\r\n            } else {\r\n              i = lastSpaceIndex;\r\n            }\r\n\r\n            currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\r\n            finalText.splice(i, lastSpaceIndex === i ? 1 : 0, '\\r'); // finalText = finalText.substr(0,i) + \"\\r\" + finalText.substr(i === lastSpaceIndex ? i + 1 : i);\r\n\r\n            lastSpaceIndex = -1;\r\n            lineWidth = 0;\r\n          } else {\r\n            lineWidth += cLength;\r\n            lineWidth += trackingOffset;\r\n          }\r\n        }\r\n\r\n        currentHeight += fontData.ascent * documentData.finalSize / 100;\r\n\r\n        if (this.canResize && documentData.finalSize > this.minimumFontSize && boxHeight < currentHeight) {\r\n          documentData.finalSize -= 1;\r\n          documentData.finalLineHeight = documentData.finalSize * documentData.lh / documentData.s;\r\n        } else {\r\n          documentData.finalText = finalText;\r\n          len = documentData.finalText.length;\r\n          flag = false;\r\n        }\r\n      }\r\n    }\r\n\r\n    lineWidth = -trackingOffset;\r\n    cLength = 0;\r\n    var uncollapsedSpaces = 0;\r\n    var currentChar;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      newLineFlag = false;\r\n      currentChar = documentData.finalText[i];\r\n      charCode = currentChar.charCodeAt(0);\r\n\r\n      if (charCode === 13 || charCode === 3) {\r\n        uncollapsedSpaces = 0;\r\n        lineWidths.push(lineWidth);\r\n        maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\r\n        lineWidth = -2 * trackingOffset;\r\n        val = '';\r\n        newLineFlag = true;\r\n        currentLine += 1;\r\n      } else {\r\n        val = currentChar;\r\n      }\r\n\r\n      if (fontManager.chars) {\r\n        charData = fontManager.getCharData(currentChar, fontData.fStyle, fontManager.getFontByName(documentData.f).fFamily);\r\n        cLength = newLineFlag ? 0 : charData.w * documentData.finalSize / 100;\r\n      } else {\r\n        // var charWidth = fontManager.measureText(val, documentData.f, documentData.finalSize);\r\n        // tCanvasHelper.font = documentData.finalSize + 'px '+ fontManager.getFontByName(documentData.f).fFamily;\r\n        cLength = fontManager.measureText(val, documentData.f, documentData.finalSize);\r\n      } //\r\n\r\n\r\n      if (currentChar === ' ') {\r\n        uncollapsedSpaces += cLength + trackingOffset;\r\n      } else {\r\n        lineWidth += cLength + trackingOffset + uncollapsedSpaces;\r\n        uncollapsedSpaces = 0;\r\n      }\r\n\r\n      letters.push({\r\n        l: cLength,\r\n        an: cLength,\r\n        add: currentSize,\r\n        n: newLineFlag,\r\n        anIndexes: [],\r\n        val: val,\r\n        line: currentLine,\r\n        animatorJustifyOffset: 0\r\n      });\r\n\r\n      if (anchorGrouping == 2) {\r\n        // eslint-disable-line eqeqeq\r\n        currentSize += cLength;\r\n\r\n        if (val === '' || val === ' ' || i === len - 1) {\r\n          if (val === '' || val === ' ') {\r\n            currentSize -= cLength;\r\n          }\r\n\r\n          while (currentPos <= i) {\r\n            letters[currentPos].an = currentSize;\r\n            letters[currentPos].ind = index;\r\n            letters[currentPos].extra = cLength;\r\n            currentPos += 1;\r\n          }\r\n\r\n          index += 1;\r\n          currentSize = 0;\r\n        }\r\n      } else if (anchorGrouping == 3) {\r\n        // eslint-disable-line eqeqeq\r\n        currentSize += cLength;\r\n\r\n        if (val === '' || i === len - 1) {\r\n          if (val === '') {\r\n            currentSize -= cLength;\r\n          }\r\n\r\n          while (currentPos <= i) {\r\n            letters[currentPos].an = currentSize;\r\n            letters[currentPos].ind = index;\r\n            letters[currentPos].extra = cLength;\r\n            currentPos += 1;\r\n          }\r\n\r\n          currentSize = 0;\r\n          index += 1;\r\n        }\r\n      } else {\r\n        letters[index].ind = index;\r\n        letters[index].extra = 0;\r\n        index += 1;\r\n      }\r\n    }\r\n\r\n    documentData.l = letters;\r\n    maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\r\n    lineWidths.push(lineWidth);\r\n\r\n    if (documentData.sz) {\r\n      documentData.boxWidth = documentData.sz[0];\r\n      documentData.justifyOffset = 0;\r\n    } else {\r\n      documentData.boxWidth = maxLineWidth;\r\n\r\n      switch (documentData.j) {\r\n        case 1:\r\n          documentData.justifyOffset = -documentData.boxWidth;\r\n          break;\r\n\r\n        case 2:\r\n          documentData.justifyOffset = -documentData.boxWidth / 2;\r\n          break;\r\n\r\n        default:\r\n          documentData.justifyOffset = 0;\r\n      }\r\n    }\r\n\r\n    documentData.lineWidths = lineWidths;\r\n    var animators = data.a;\r\n    var animatorData;\r\n    var letterData;\r\n    jLen = animators.length;\r\n    var based;\r\n    var ind;\r\n    var indexes = [];\r\n\r\n    for (j = 0; j < jLen; j += 1) {\r\n      animatorData = animators[j];\r\n\r\n      if (animatorData.a.sc) {\r\n        documentData.strokeColorAnim = true;\r\n      }\r\n\r\n      if (animatorData.a.sw) {\r\n        documentData.strokeWidthAnim = true;\r\n      }\r\n\r\n      if (animatorData.a.fc || animatorData.a.fh || animatorData.a.fs || animatorData.a.fb) {\r\n        documentData.fillColorAnim = true;\r\n      }\r\n\r\n      ind = 0;\r\n      based = animatorData.s.b;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        letterData = letters[i];\r\n        letterData.anIndexes[j] = ind;\r\n\r\n        if (based == 1 && letterData.val !== '' || based == 2 && letterData.val !== '' && letterData.val !== ' ' || based == 3 && (letterData.n || letterData.val == ' ' || i == len - 1) || based == 4 && (letterData.n || i == len - 1)) {\r\n          // eslint-disable-line eqeqeq\r\n          if (animatorData.s.rn === 1) {\r\n            indexes.push(ind);\r\n          }\r\n\r\n          ind += 1;\r\n        }\r\n      }\r\n\r\n      data.a[j].s.totalChars = ind;\r\n      var currentInd = -1;\r\n      var newInd;\r\n\r\n      if (animatorData.s.rn === 1) {\r\n        for (i = 0; i < len; i += 1) {\r\n          letterData = letters[i];\r\n\r\n          if (currentInd != letterData.anIndexes[j]) {\r\n            // eslint-disable-line eqeqeq\r\n            currentInd = letterData.anIndexes[j];\r\n            newInd = indexes.splice(Math.floor(Math.random() * indexes.length), 1)[0];\r\n          }\r\n\r\n          letterData.anIndexes[j] = newInd;\r\n        }\r\n      }\r\n    }\r\n\r\n    documentData.yOffset = documentData.finalLineHeight || documentData.finalSize * 1.2;\r\n    documentData.ls = documentData.ls || 0;\r\n    documentData.ascent = fontData.ascent * documentData.finalSize / 100;\r\n  };\r\n\r\n  TextProperty.prototype.updateDocumentData = function (newData, index) {\r\n    index = index === undefined ? this.keysIndex : index;\r\n    var dData = this.copyData({}, this.data.d.k[index].s);\r\n    dData = this.copyData(dData, newData);\r\n    this.data.d.k[index].s = dData;\r\n    this.recalculate(index);\r\n    this.setCurrentData(dData);\r\n    this.elem.addDynamicProperty(this);\r\n  };\r\n\r\n  TextProperty.prototype.recalculate = function (index) {\r\n    var dData = this.data.d.k[index].s;\r\n    dData.__complete = false;\r\n    this.keysIndex = 0;\r\n    this._isFirstFrame = true;\r\n    this.getValue(dData);\r\n  };\r\n\r\n  TextProperty.prototype.canResizeFont = function (_canResize) {\r\n    this.canResize = _canResize;\r\n    this.recalculate(this.keysIndex);\r\n    this.elem.addDynamicProperty(this);\r\n  };\r\n\r\n  TextProperty.prototype.setMinimumFontSize = function (_fontValue) {\r\n    this.minimumFontSize = Math.floor(_fontValue) || 1;\r\n    this.recalculate(this.keysIndex);\r\n    this.elem.addDynamicProperty(this);\r\n  };\r\n\r\n  var TextSelectorProp = function () {\r\n    var max = Math.max;\r\n    var min = Math.min;\r\n    var floor = Math.floor;\r\n\r\n    function TextSelectorPropFactory(elem, data) {\r\n      this._currentTextLength = -1;\r\n      this.k = false;\r\n      this.data = data;\r\n      this.elem = elem;\r\n      this.comp = elem.comp;\r\n      this.finalS = 0;\r\n      this.finalE = 0;\r\n      this.initDynamicPropertyContainer(elem);\r\n      this.s = PropertyFactory.getProp(elem, data.s || {\r\n        k: 0\r\n      }, 0, 0, this);\r\n\r\n      if ('e' in data) {\r\n        this.e = PropertyFactory.getProp(elem, data.e, 0, 0, this);\r\n      } else {\r\n        this.e = {\r\n          v: 100\r\n        };\r\n      }\r\n\r\n      this.o = PropertyFactory.getProp(elem, data.o || {\r\n        k: 0\r\n      }, 0, 0, this);\r\n      this.xe = PropertyFactory.getProp(elem, data.xe || {\r\n        k: 0\r\n      }, 0, 0, this);\r\n      this.ne = PropertyFactory.getProp(elem, data.ne || {\r\n        k: 0\r\n      }, 0, 0, this);\r\n      this.sm = PropertyFactory.getProp(elem, data.sm || {\r\n        k: 100\r\n      }, 0, 0, this);\r\n      this.a = PropertyFactory.getProp(elem, data.a, 0, 0.01, this);\r\n\r\n      if (!this.dynamicProperties.length) {\r\n        this.getValue();\r\n      }\r\n    }\r\n\r\n    TextSelectorPropFactory.prototype = {\r\n      getMult: function getMult(ind) {\r\n        if (this._currentTextLength !== this.elem.textProperty.currentData.l.length) {\r\n          this.getValue();\r\n        }\r\n\r\n        var x1 = 0;\r\n        var y1 = 0;\r\n        var x2 = 1;\r\n        var y2 = 1;\r\n\r\n        if (this.ne.v > 0) {\r\n          x1 = this.ne.v / 100.0;\r\n        } else {\r\n          y1 = -this.ne.v / 100.0;\r\n        }\r\n\r\n        if (this.xe.v > 0) {\r\n          x2 = 1.0 - this.xe.v / 100.0;\r\n        } else {\r\n          y2 = 1.0 + this.xe.v / 100.0;\r\n        }\r\n\r\n        var easer = BezierFactory.getBezierEasing(x1, y1, x2, y2).get;\r\n        var mult = 0;\r\n        var s = this.finalS;\r\n        var e = this.finalE;\r\n        var type = this.data.sh;\r\n\r\n        if (type === 2) {\r\n          if (e === s) {\r\n            mult = ind >= e ? 1 : 0;\r\n          } else {\r\n            mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\r\n          }\r\n\r\n          mult = easer(mult);\r\n        } else if (type === 3) {\r\n          if (e === s) {\r\n            mult = ind >= e ? 0 : 1;\r\n          } else {\r\n            mult = 1 - max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\r\n          }\r\n\r\n          mult = easer(mult);\r\n        } else if (type === 4) {\r\n          if (e === s) {\r\n            mult = 0;\r\n          } else {\r\n            mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\r\n\r\n            if (mult < 0.5) {\r\n              mult *= 2;\r\n            } else {\r\n              mult = 1 - 2 * (mult - 0.5);\r\n            }\r\n          }\r\n\r\n          mult = easer(mult);\r\n        } else if (type === 5) {\r\n          if (e === s) {\r\n            mult = 0;\r\n          } else {\r\n            var tot = e - s;\r\n            /* ind += 0.5;\r\n                      mult = -4/(tot*tot)*(ind*ind)+(4/tot)*ind; */\r\n\r\n            ind = min(max(0, ind + 0.5 - s), e - s);\r\n            var x = -tot / 2 + ind;\r\n            var a = tot / 2;\r\n            mult = Math.sqrt(1 - x * x / (a * a));\r\n          }\r\n\r\n          mult = easer(mult);\r\n        } else if (type === 6) {\r\n          if (e === s) {\r\n            mult = 0;\r\n          } else {\r\n            ind = min(max(0, ind + 0.5 - s), e - s);\r\n            mult = (1 + Math.cos(Math.PI + Math.PI * 2 * ind / (e - s))) / 2; // eslint-disable-line\r\n          }\r\n\r\n          mult = easer(mult);\r\n        } else {\r\n          if (ind >= floor(s)) {\r\n            if (ind - s < 0) {\r\n              mult = max(0, min(min(e, 1) - (s - ind), 1));\r\n            } else {\r\n              mult = max(0, min(e - ind, 1));\r\n            }\r\n          }\r\n\r\n          mult = easer(mult);\r\n        } // Smoothness implementation.\r\n        // The smoothness represents a reduced range of the original [0; 1] range.\r\n        // if smoothness is 25%, the new range will be [0.375; 0.625]\r\n        // Steps are:\r\n        // - find the lower value of the new range (threshold)\r\n        // - if multiplier is smaller than that value, floor it to 0\r\n        // - if it is larger,\r\n        //     - subtract the threshold\r\n        //     - divide it by the smoothness (this will return the range to [0; 1])\r\n        // Note: If it doesn't work on some scenarios, consider applying it before the easer.\r\n\r\n\r\n        if (this.sm.v !== 100) {\r\n          var smoothness = this.sm.v * 0.01;\r\n\r\n          if (smoothness === 0) {\r\n            smoothness = 0.00000001;\r\n          }\r\n\r\n          var threshold = 0.5 - smoothness * 0.5;\r\n\r\n          if (mult < threshold) {\r\n            mult = 0;\r\n          } else {\r\n            mult = (mult - threshold) / smoothness;\r\n\r\n            if (mult > 1) {\r\n              mult = 1;\r\n            }\r\n          }\r\n        }\r\n\r\n        return mult * this.a.v;\r\n      },\r\n      getValue: function getValue(newCharsFlag) {\r\n        this.iterateDynamicProperties();\r\n        this._mdf = newCharsFlag || this._mdf;\r\n        this._currentTextLength = this.elem.textProperty.currentData.l.length || 0;\r\n\r\n        if (newCharsFlag && this.data.r === 2) {\r\n          this.e.v = this._currentTextLength;\r\n        }\r\n\r\n        var divisor = this.data.r === 2 ? 1 : 100 / this.data.totalChars;\r\n        var o = this.o.v / divisor;\r\n        var s = this.s.v / divisor + o;\r\n        var e = this.e.v / divisor + o;\r\n\r\n        if (s > e) {\r\n          var _s = s;\r\n          s = e;\r\n          e = _s;\r\n        }\r\n\r\n        this.finalS = s;\r\n        this.finalE = e;\r\n      }\r\n    };\r\n    extendPrototype([DynamicPropertyContainer], TextSelectorPropFactory);\r\n\r\n    function getTextSelectorProp(elem, data, arr) {\r\n      return new TextSelectorPropFactory(elem, data, arr);\r\n    }\r\n\r\n    return {\r\n      getTextSelectorProp: getTextSelectorProp\r\n    };\r\n  }();\r\n\r\n  function TextAnimatorDataProperty(elem, animatorProps, container) {\r\n    var defaultData = {\r\n      propType: false\r\n    };\r\n    var getProp = PropertyFactory.getProp;\r\n    var textAnimatorAnimatables = animatorProps.a;\r\n    this.a = {\r\n      r: textAnimatorAnimatables.r ? getProp(elem, textAnimatorAnimatables.r, 0, degToRads, container) : defaultData,\r\n      rx: textAnimatorAnimatables.rx ? getProp(elem, textAnimatorAnimatables.rx, 0, degToRads, container) : defaultData,\r\n      ry: textAnimatorAnimatables.ry ? getProp(elem, textAnimatorAnimatables.ry, 0, degToRads, container) : defaultData,\r\n      sk: textAnimatorAnimatables.sk ? getProp(elem, textAnimatorAnimatables.sk, 0, degToRads, container) : defaultData,\r\n      sa: textAnimatorAnimatables.sa ? getProp(elem, textAnimatorAnimatables.sa, 0, degToRads, container) : defaultData,\r\n      s: textAnimatorAnimatables.s ? getProp(elem, textAnimatorAnimatables.s, 1, 0.01, container) : defaultData,\r\n      a: textAnimatorAnimatables.a ? getProp(elem, textAnimatorAnimatables.a, 1, 0, container) : defaultData,\r\n      o: textAnimatorAnimatables.o ? getProp(elem, textAnimatorAnimatables.o, 0, 0.01, container) : defaultData,\r\n      p: textAnimatorAnimatables.p ? getProp(elem, textAnimatorAnimatables.p, 1, 0, container) : defaultData,\r\n      sw: textAnimatorAnimatables.sw ? getProp(elem, textAnimatorAnimatables.sw, 0, 0, container) : defaultData,\r\n      sc: textAnimatorAnimatables.sc ? getProp(elem, textAnimatorAnimatables.sc, 1, 0, container) : defaultData,\r\n      fc: textAnimatorAnimatables.fc ? getProp(elem, textAnimatorAnimatables.fc, 1, 0, container) : defaultData,\r\n      fh: textAnimatorAnimatables.fh ? getProp(elem, textAnimatorAnimatables.fh, 0, 0, container) : defaultData,\r\n      fs: textAnimatorAnimatables.fs ? getProp(elem, textAnimatorAnimatables.fs, 0, 0.01, container) : defaultData,\r\n      fb: textAnimatorAnimatables.fb ? getProp(elem, textAnimatorAnimatables.fb, 0, 0.01, container) : defaultData,\r\n      t: textAnimatorAnimatables.t ? getProp(elem, textAnimatorAnimatables.t, 0, 0, container) : defaultData\r\n    };\r\n    this.s = TextSelectorProp.getTextSelectorProp(elem, animatorProps.s, container);\r\n    this.s.t = animatorProps.s.t;\r\n  }\r\n\r\n  function TextAnimatorProperty(textData, renderType, elem) {\r\n    this._isFirstFrame = true;\r\n    this._hasMaskedPath = false;\r\n    this._frameId = -1;\r\n    this._textData = textData;\r\n    this._renderType = renderType;\r\n    this._elem = elem;\r\n    this._animatorsData = createSizedArray(this._textData.a.length);\r\n    this._pathData = {};\r\n    this._moreOptions = {\r\n      alignment: {}\r\n    };\r\n    this.renderedLetters = [];\r\n    this.lettersChangedFlag = false;\r\n    this.initDynamicPropertyContainer(elem);\r\n  }\r\n\r\n  TextAnimatorProperty.prototype.searchProperties = function () {\r\n    var i;\r\n    var len = this._textData.a.length;\r\n    var animatorProps;\r\n    var getProp = PropertyFactory.getProp;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      animatorProps = this._textData.a[i];\r\n      this._animatorsData[i] = new TextAnimatorDataProperty(this._elem, animatorProps, this);\r\n    }\r\n\r\n    if (this._textData.p && 'm' in this._textData.p) {\r\n      this._pathData = {\r\n        a: getProp(this._elem, this._textData.p.a, 0, 0, this),\r\n        f: getProp(this._elem, this._textData.p.f, 0, 0, this),\r\n        l: getProp(this._elem, this._textData.p.l, 0, 0, this),\r\n        r: getProp(this._elem, this._textData.p.r, 0, 0, this),\r\n        p: getProp(this._elem, this._textData.p.p, 0, 0, this),\r\n        m: this._elem.maskManager.getMaskProperty(this._textData.p.m)\r\n      };\r\n      this._hasMaskedPath = true;\r\n    } else {\r\n      this._hasMaskedPath = false;\r\n    }\r\n\r\n    this._moreOptions.alignment = getProp(this._elem, this._textData.m.a, 1, 0, this);\r\n  };\r\n\r\n  TextAnimatorProperty.prototype.getMeasures = function (documentData, lettersChangedFlag) {\r\n    this.lettersChangedFlag = lettersChangedFlag;\r\n\r\n    if (!this._mdf && !this._isFirstFrame && !lettersChangedFlag && (!this._hasMaskedPath || !this._pathData.m._mdf)) {\r\n      return;\r\n    }\r\n\r\n    this._isFirstFrame = false;\r\n    var alignment = this._moreOptions.alignment.v;\r\n    var animators = this._animatorsData;\r\n    var textData = this._textData;\r\n    var matrixHelper = this.mHelper;\r\n    var renderType = this._renderType;\r\n    var renderedLettersCount = this.renderedLetters.length;\r\n    var xPos;\r\n    var yPos;\r\n    var i;\r\n    var len;\r\n    var letters = documentData.l;\r\n    var pathInfo;\r\n    var currentLength;\r\n    var currentPoint;\r\n    var segmentLength;\r\n    var flag;\r\n    var pointInd;\r\n    var segmentInd;\r\n    var prevPoint;\r\n    var points;\r\n    var segments;\r\n    var partialLength;\r\n    var totalLength;\r\n    var perc;\r\n    var tanAngle;\r\n    var mask;\r\n\r\n    if (this._hasMaskedPath) {\r\n      mask = this._pathData.m;\r\n\r\n      if (!this._pathData.n || this._pathData._mdf) {\r\n        var paths = mask.v;\r\n\r\n        if (this._pathData.r.v) {\r\n          paths = paths.reverse();\r\n        } // TODO: release bezier data cached from previous pathInfo: this._pathData.pi\r\n\r\n\r\n        pathInfo = {\r\n          tLength: 0,\r\n          segments: []\r\n        };\r\n        len = paths._length - 1;\r\n        var bezierData;\r\n        totalLength = 0;\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n          bezierData = bez.buildBezierData(paths.v[i], paths.v[i + 1], [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]], [paths.i[i + 1][0] - paths.v[i + 1][0], paths.i[i + 1][1] - paths.v[i + 1][1]]);\r\n          pathInfo.tLength += bezierData.segmentLength;\r\n          pathInfo.segments.push(bezierData);\r\n          totalLength += bezierData.segmentLength;\r\n        }\r\n\r\n        i = len;\r\n\r\n        if (mask.v.c) {\r\n          bezierData = bez.buildBezierData(paths.v[i], paths.v[0], [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]], [paths.i[0][0] - paths.v[0][0], paths.i[0][1] - paths.v[0][1]]);\r\n          pathInfo.tLength += bezierData.segmentLength;\r\n          pathInfo.segments.push(bezierData);\r\n          totalLength += bezierData.segmentLength;\r\n        }\r\n\r\n        this._pathData.pi = pathInfo;\r\n      }\r\n\r\n      pathInfo = this._pathData.pi;\r\n      currentLength = this._pathData.f.v;\r\n      segmentInd = 0;\r\n      pointInd = 1;\r\n      segmentLength = 0;\r\n      flag = true;\r\n      segments = pathInfo.segments;\r\n\r\n      if (currentLength < 0 && mask.v.c) {\r\n        if (pathInfo.tLength < Math.abs(currentLength)) {\r\n          currentLength = -Math.abs(currentLength) % pathInfo.tLength;\r\n        }\r\n\r\n        segmentInd = segments.length - 1;\r\n        points = segments[segmentInd].points;\r\n        pointInd = points.length - 1;\r\n\r\n        while (currentLength < 0) {\r\n          currentLength += points[pointInd].partialLength;\r\n          pointInd -= 1;\r\n\r\n          if (pointInd < 0) {\r\n            segmentInd -= 1;\r\n            points = segments[segmentInd].points;\r\n            pointInd = points.length - 1;\r\n          }\r\n        }\r\n      }\r\n\r\n      points = segments[segmentInd].points;\r\n      prevPoint = points[pointInd - 1];\r\n      currentPoint = points[pointInd];\r\n      partialLength = currentPoint.partialLength;\r\n    }\r\n\r\n    len = letters.length;\r\n    xPos = 0;\r\n    yPos = 0;\r\n    var yOff = documentData.finalSize * 1.2 * 0.714;\r\n    var firstLine = true;\r\n    var animatorProps;\r\n    var animatorSelector;\r\n    var j;\r\n    var jLen;\r\n    var letterValue;\r\n    jLen = animators.length;\r\n    var mult;\r\n    var ind = -1;\r\n    var offf;\r\n    var xPathPos;\r\n    var yPathPos;\r\n    var initPathPos = currentLength;\r\n    var initSegmentInd = segmentInd;\r\n    var initPointInd = pointInd;\r\n    var currentLine = -1;\r\n    var elemOpacity;\r\n    var sc;\r\n    var sw;\r\n    var fc;\r\n    var k;\r\n    var letterSw;\r\n    var letterSc;\r\n    var letterFc;\r\n    var letterM = '';\r\n    var letterP = this.defaultPropsArray;\r\n    var letterO; //\r\n\r\n    if (documentData.j === 2 || documentData.j === 1) {\r\n      var animatorJustifyOffset = 0;\r\n      var animatorFirstCharOffset = 0;\r\n      var justifyOffsetMult = documentData.j === 2 ? -0.5 : -1;\r\n      var lastIndex = 0;\r\n      var isNewLine = true;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        if (letters[i].n) {\r\n          if (animatorJustifyOffset) {\r\n            animatorJustifyOffset += animatorFirstCharOffset;\r\n          }\r\n\r\n          while (lastIndex < i) {\r\n            letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\r\n            lastIndex += 1;\r\n          }\r\n\r\n          animatorJustifyOffset = 0;\r\n          isNewLine = true;\r\n        } else {\r\n          for (j = 0; j < jLen; j += 1) {\r\n            animatorProps = animators[j].a;\r\n\r\n            if (animatorProps.t.propType) {\r\n              if (isNewLine && documentData.j === 2) {\r\n                animatorFirstCharOffset += animatorProps.t.v * justifyOffsetMult;\r\n              }\r\n\r\n              animatorSelector = animators[j].s;\r\n              mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n\r\n              if (mult.length) {\r\n                animatorJustifyOffset += animatorProps.t.v * mult[0] * justifyOffsetMult;\r\n              } else {\r\n                animatorJustifyOffset += animatorProps.t.v * mult * justifyOffsetMult;\r\n              }\r\n            }\r\n          }\r\n\r\n          isNewLine = false;\r\n        }\r\n      }\r\n\r\n      if (animatorJustifyOffset) {\r\n        animatorJustifyOffset += animatorFirstCharOffset;\r\n      }\r\n\r\n      while (lastIndex < i) {\r\n        letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\r\n        lastIndex += 1;\r\n      }\r\n    } //\r\n\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      matrixHelper.reset();\r\n      elemOpacity = 1;\r\n\r\n      if (letters[i].n) {\r\n        xPos = 0;\r\n        yPos += documentData.yOffset;\r\n        yPos += firstLine ? 1 : 0;\r\n        currentLength = initPathPos;\r\n        firstLine = false;\r\n\r\n        if (this._hasMaskedPath) {\r\n          segmentInd = initSegmentInd;\r\n          pointInd = initPointInd;\r\n          points = segments[segmentInd].points;\r\n          prevPoint = points[pointInd - 1];\r\n          currentPoint = points[pointInd];\r\n          partialLength = currentPoint.partialLength;\r\n          segmentLength = 0;\r\n        }\r\n\r\n        letterM = '';\r\n        letterFc = '';\r\n        letterSw = '';\r\n        letterO = '';\r\n        letterP = this.defaultPropsArray;\r\n      } else {\r\n        if (this._hasMaskedPath) {\r\n          if (currentLine !== letters[i].line) {\r\n            switch (documentData.j) {\r\n              case 1:\r\n                currentLength += totalLength - documentData.lineWidths[letters[i].line];\r\n                break;\r\n\r\n              case 2:\r\n                currentLength += (totalLength - documentData.lineWidths[letters[i].line]) / 2;\r\n                break;\r\n\r\n              default:\r\n                break;\r\n            }\r\n\r\n            currentLine = letters[i].line;\r\n          }\r\n\r\n          if (ind !== letters[i].ind) {\r\n            if (letters[ind]) {\r\n              currentLength += letters[ind].extra;\r\n            }\r\n\r\n            currentLength += letters[i].an / 2;\r\n            ind = letters[i].ind;\r\n          }\r\n\r\n          currentLength += alignment[0] * letters[i].an * 0.005;\r\n          var animatorOffset = 0;\r\n\r\n          for (j = 0; j < jLen; j += 1) {\r\n            animatorProps = animators[j].a;\r\n\r\n            if (animatorProps.p.propType) {\r\n              animatorSelector = animators[j].s;\r\n              mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n\r\n              if (mult.length) {\r\n                animatorOffset += animatorProps.p.v[0] * mult[0];\r\n              } else {\r\n                animatorOffset += animatorProps.p.v[0] * mult;\r\n              }\r\n            }\r\n\r\n            if (animatorProps.a.propType) {\r\n              animatorSelector = animators[j].s;\r\n              mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n\r\n              if (mult.length) {\r\n                animatorOffset += animatorProps.a.v[0] * mult[0];\r\n              } else {\r\n                animatorOffset += animatorProps.a.v[0] * mult;\r\n              }\r\n            }\r\n          }\r\n\r\n          flag = true; // Force alignment only works with a single line for now\r\n\r\n          if (this._pathData.a.v) {\r\n            currentLength = letters[0].an * 0.5 + (totalLength - this._pathData.f.v - letters[0].an * 0.5 - letters[letters.length - 1].an * 0.5) * ind / (len - 1);\r\n            currentLength += this._pathData.f.v;\r\n          }\r\n\r\n          while (flag) {\r\n            if (segmentLength + partialLength >= currentLength + animatorOffset || !points) {\r\n              perc = (currentLength + animatorOffset - segmentLength) / currentPoint.partialLength;\r\n              xPathPos = prevPoint.point[0] + (currentPoint.point[0] - prevPoint.point[0]) * perc;\r\n              yPathPos = prevPoint.point[1] + (currentPoint.point[1] - prevPoint.point[1]) * perc;\r\n              matrixHelper.translate(-alignment[0] * letters[i].an * 0.005, -(alignment[1] * yOff) * 0.01);\r\n              flag = false;\r\n            } else if (points) {\r\n              segmentLength += currentPoint.partialLength;\r\n              pointInd += 1;\r\n\r\n              if (pointInd >= points.length) {\r\n                pointInd = 0;\r\n                segmentInd += 1;\r\n\r\n                if (!segments[segmentInd]) {\r\n                  if (mask.v.c) {\r\n                    pointInd = 0;\r\n                    segmentInd = 0;\r\n                    points = segments[segmentInd].points;\r\n                  } else {\r\n                    segmentLength -= currentPoint.partialLength;\r\n                    points = null;\r\n                  }\r\n                } else {\r\n                  points = segments[segmentInd].points;\r\n                }\r\n              }\r\n\r\n              if (points) {\r\n                prevPoint = currentPoint;\r\n                currentPoint = points[pointInd];\r\n                partialLength = currentPoint.partialLength;\r\n              }\r\n            }\r\n          }\r\n\r\n          offf = letters[i].an / 2 - letters[i].add;\r\n          matrixHelper.translate(-offf, 0, 0);\r\n        } else {\r\n          offf = letters[i].an / 2 - letters[i].add;\r\n          matrixHelper.translate(-offf, 0, 0); // Grouping alignment\r\n\r\n          matrixHelper.translate(-alignment[0] * letters[i].an * 0.005, -alignment[1] * yOff * 0.01, 0);\r\n        }\r\n\r\n        for (j = 0; j < jLen; j += 1) {\r\n          animatorProps = animators[j].a;\r\n\r\n          if (animatorProps.t.propType) {\r\n            animatorSelector = animators[j].s;\r\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars); // This condition is to prevent applying tracking to first character in each line. Might be better to use a boolean \"isNewLine\"\r\n\r\n            if (xPos !== 0 || documentData.j !== 0) {\r\n              if (this._hasMaskedPath) {\r\n                if (mult.length) {\r\n                  currentLength += animatorProps.t.v * mult[0];\r\n                } else {\r\n                  currentLength += animatorProps.t.v * mult;\r\n                }\r\n              } else if (mult.length) {\r\n                xPos += animatorProps.t.v * mult[0];\r\n              } else {\r\n                xPos += animatorProps.t.v * mult;\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        if (documentData.strokeWidthAnim) {\r\n          sw = documentData.sw || 0;\r\n        }\r\n\r\n        if (documentData.strokeColorAnim) {\r\n          if (documentData.sc) {\r\n            sc = [documentData.sc[0], documentData.sc[1], documentData.sc[2]];\r\n          } else {\r\n            sc = [0, 0, 0];\r\n          }\r\n        }\r\n\r\n        if (documentData.fillColorAnim && documentData.fc) {\r\n          fc = [documentData.fc[0], documentData.fc[1], documentData.fc[2]];\r\n        }\r\n\r\n        for (j = 0; j < jLen; j += 1) {\r\n          animatorProps = animators[j].a;\r\n\r\n          if (animatorProps.a.propType) {\r\n            animatorSelector = animators[j].s;\r\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n\r\n            if (mult.length) {\r\n              matrixHelper.translate(-animatorProps.a.v[0] * mult[0], -animatorProps.a.v[1] * mult[1], animatorProps.a.v[2] * mult[2]);\r\n            } else {\r\n              matrixHelper.translate(-animatorProps.a.v[0] * mult, -animatorProps.a.v[1] * mult, animatorProps.a.v[2] * mult);\r\n            }\r\n          }\r\n        }\r\n\r\n        for (j = 0; j < jLen; j += 1) {\r\n          animatorProps = animators[j].a;\r\n\r\n          if (animatorProps.s.propType) {\r\n            animatorSelector = animators[j].s;\r\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n\r\n            if (mult.length) {\r\n              matrixHelper.scale(1 + (animatorProps.s.v[0] - 1) * mult[0], 1 + (animatorProps.s.v[1] - 1) * mult[1], 1);\r\n            } else {\r\n              matrixHelper.scale(1 + (animatorProps.s.v[0] - 1) * mult, 1 + (animatorProps.s.v[1] - 1) * mult, 1);\r\n            }\r\n          }\r\n        }\r\n\r\n        for (j = 0; j < jLen; j += 1) {\r\n          animatorProps = animators[j].a;\r\n          animatorSelector = animators[j].s;\r\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n\r\n          if (animatorProps.sk.propType) {\r\n            if (mult.length) {\r\n              matrixHelper.skewFromAxis(-animatorProps.sk.v * mult[0], animatorProps.sa.v * mult[1]);\r\n            } else {\r\n              matrixHelper.skewFromAxis(-animatorProps.sk.v * mult, animatorProps.sa.v * mult);\r\n            }\r\n          }\r\n\r\n          if (animatorProps.r.propType) {\r\n            if (mult.length) {\r\n              matrixHelper.rotateZ(-animatorProps.r.v * mult[2]);\r\n            } else {\r\n              matrixHelper.rotateZ(-animatorProps.r.v * mult);\r\n            }\r\n          }\r\n\r\n          if (animatorProps.ry.propType) {\r\n            if (mult.length) {\r\n              matrixHelper.rotateY(animatorProps.ry.v * mult[1]);\r\n            } else {\r\n              matrixHelper.rotateY(animatorProps.ry.v * mult);\r\n            }\r\n          }\r\n\r\n          if (animatorProps.rx.propType) {\r\n            if (mult.length) {\r\n              matrixHelper.rotateX(animatorProps.rx.v * mult[0]);\r\n            } else {\r\n              matrixHelper.rotateX(animatorProps.rx.v * mult);\r\n            }\r\n          }\r\n\r\n          if (animatorProps.o.propType) {\r\n            if (mult.length) {\r\n              elemOpacity += (animatorProps.o.v * mult[0] - elemOpacity) * mult[0];\r\n            } else {\r\n              elemOpacity += (animatorProps.o.v * mult - elemOpacity) * mult;\r\n            }\r\n          }\r\n\r\n          if (documentData.strokeWidthAnim && animatorProps.sw.propType) {\r\n            if (mult.length) {\r\n              sw += animatorProps.sw.v * mult[0];\r\n            } else {\r\n              sw += animatorProps.sw.v * mult;\r\n            }\r\n          }\r\n\r\n          if (documentData.strokeColorAnim && animatorProps.sc.propType) {\r\n            for (k = 0; k < 3; k += 1) {\r\n              if (mult.length) {\r\n                sc[k] += (animatorProps.sc.v[k] - sc[k]) * mult[0];\r\n              } else {\r\n                sc[k] += (animatorProps.sc.v[k] - sc[k]) * mult;\r\n              }\r\n            }\r\n          }\r\n\r\n          if (documentData.fillColorAnim && documentData.fc) {\r\n            if (animatorProps.fc.propType) {\r\n              for (k = 0; k < 3; k += 1) {\r\n                if (mult.length) {\r\n                  fc[k] += (animatorProps.fc.v[k] - fc[k]) * mult[0];\r\n                } else {\r\n                  fc[k] += (animatorProps.fc.v[k] - fc[k]) * mult;\r\n                }\r\n              }\r\n            }\r\n\r\n            if (animatorProps.fh.propType) {\r\n              if (mult.length) {\r\n                fc = addHueToRGB(fc, animatorProps.fh.v * mult[0]);\r\n              } else {\r\n                fc = addHueToRGB(fc, animatorProps.fh.v * mult);\r\n              }\r\n            }\r\n\r\n            if (animatorProps.fs.propType) {\r\n              if (mult.length) {\r\n                fc = addSaturationToRGB(fc, animatorProps.fs.v * mult[0]);\r\n              } else {\r\n                fc = addSaturationToRGB(fc, animatorProps.fs.v * mult);\r\n              }\r\n            }\r\n\r\n            if (animatorProps.fb.propType) {\r\n              if (mult.length) {\r\n                fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult[0]);\r\n              } else {\r\n                fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult);\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        for (j = 0; j < jLen; j += 1) {\r\n          animatorProps = animators[j].a;\r\n\r\n          if (animatorProps.p.propType) {\r\n            animatorSelector = animators[j].s;\r\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n\r\n            if (this._hasMaskedPath) {\r\n              if (mult.length) {\r\n                matrixHelper.translate(0, animatorProps.p.v[1] * mult[0], -animatorProps.p.v[2] * mult[1]);\r\n              } else {\r\n                matrixHelper.translate(0, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\r\n              }\r\n            } else if (mult.length) {\r\n              matrixHelper.translate(animatorProps.p.v[0] * mult[0], animatorProps.p.v[1] * mult[1], -animatorProps.p.v[2] * mult[2]);\r\n            } else {\r\n              matrixHelper.translate(animatorProps.p.v[0] * mult, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\r\n            }\r\n          }\r\n        }\r\n\r\n        if (documentData.strokeWidthAnim) {\r\n          letterSw = sw < 0 ? 0 : sw;\r\n        }\r\n\r\n        if (documentData.strokeColorAnim) {\r\n          letterSc = 'rgb(' + Math.round(sc[0] * 255) + ',' + Math.round(sc[1] * 255) + ',' + Math.round(sc[2] * 255) + ')';\r\n        }\r\n\r\n        if (documentData.fillColorAnim && documentData.fc) {\r\n          letterFc = 'rgb(' + Math.round(fc[0] * 255) + ',' + Math.round(fc[1] * 255) + ',' + Math.round(fc[2] * 255) + ')';\r\n        }\r\n\r\n        if (this._hasMaskedPath) {\r\n          matrixHelper.translate(0, -documentData.ls);\r\n          matrixHelper.translate(0, alignment[1] * yOff * 0.01 + yPos, 0);\r\n\r\n          if (this._pathData.p.v) {\r\n            tanAngle = (currentPoint.point[1] - prevPoint.point[1]) / (currentPoint.point[0] - prevPoint.point[0]);\r\n            var rot = Math.atan(tanAngle) * 180 / Math.PI;\r\n\r\n            if (currentPoint.point[0] < prevPoint.point[0]) {\r\n              rot += 180;\r\n            }\r\n\r\n            matrixHelper.rotate(-rot * Math.PI / 180);\r\n          }\r\n\r\n          matrixHelper.translate(xPathPos, yPathPos, 0);\r\n          currentLength -= alignment[0] * letters[i].an * 0.005;\r\n\r\n          if (letters[i + 1] && ind !== letters[i + 1].ind) {\r\n            currentLength += letters[i].an / 2;\r\n            currentLength += documentData.tr * 0.001 * documentData.finalSize;\r\n          }\r\n        } else {\r\n          matrixHelper.translate(xPos, yPos, 0);\r\n\r\n          if (documentData.ps) {\r\n            // matrixHelper.translate(documentData.ps[0],documentData.ps[1],0);\r\n            matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\r\n          }\r\n\r\n          switch (documentData.j) {\r\n            case 1:\r\n              matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]), 0, 0);\r\n              break;\r\n\r\n            case 2:\r\n              matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]) / 2, 0, 0);\r\n              break;\r\n\r\n            default:\r\n              break;\r\n          }\r\n\r\n          matrixHelper.translate(0, -documentData.ls);\r\n          matrixHelper.translate(offf, 0, 0);\r\n          matrixHelper.translate(alignment[0] * letters[i].an * 0.005, alignment[1] * yOff * 0.01, 0);\r\n          xPos += letters[i].l + documentData.tr * 0.001 * documentData.finalSize;\r\n        }\r\n\r\n        if (renderType === 'html') {\r\n          letterM = matrixHelper.toCSS();\r\n        } else if (renderType === 'svg') {\r\n          letterM = matrixHelper.to2dCSS();\r\n        } else {\r\n          letterP = [matrixHelper.props[0], matrixHelper.props[1], matrixHelper.props[2], matrixHelper.props[3], matrixHelper.props[4], matrixHelper.props[5], matrixHelper.props[6], matrixHelper.props[7], matrixHelper.props[8], matrixHelper.props[9], matrixHelper.props[10], matrixHelper.props[11], matrixHelper.props[12], matrixHelper.props[13], matrixHelper.props[14], matrixHelper.props[15]];\r\n        }\r\n\r\n        letterO = elemOpacity;\r\n      }\r\n\r\n      if (renderedLettersCount <= i) {\r\n        letterValue = new LetterProps(letterO, letterSw, letterSc, letterFc, letterM, letterP);\r\n        this.renderedLetters.push(letterValue);\r\n        renderedLettersCount += 1;\r\n        this.lettersChangedFlag = true;\r\n      } else {\r\n        letterValue = this.renderedLetters[i];\r\n        this.lettersChangedFlag = letterValue.update(letterO, letterSw, letterSc, letterFc, letterM, letterP) || this.lettersChangedFlag;\r\n      }\r\n    }\r\n  };\r\n\r\n  TextAnimatorProperty.prototype.getValue = function () {\r\n    if (this._elem.globalData.frameId === this._frameId) {\r\n      return;\r\n    }\r\n\r\n    this._frameId = this._elem.globalData.frameId;\r\n    this.iterateDynamicProperties();\r\n  };\r\n\r\n  TextAnimatorProperty.prototype.mHelper = new Matrix();\r\n  TextAnimatorProperty.prototype.defaultPropsArray = [];\r\n  extendPrototype([DynamicPropertyContainer], TextAnimatorProperty);\r\n\r\n  function ITextElement() {}\r\n\r\n  ITextElement.prototype.initElement = function (data, globalData, comp) {\r\n    this.lettersChangedFlag = true;\r\n    this.initFrame();\r\n    this.initBaseData(data, globalData, comp);\r\n    this.textProperty = new TextProperty(this, data.t, this.dynamicProperties);\r\n    this.textAnimator = new TextAnimatorProperty(data.t, this.renderType, this);\r\n    this.initTransform(data, globalData, comp);\r\n    this.initHierarchy();\r\n    this.initRenderable();\r\n    this.initRendererElement();\r\n    this.createContainerElements();\r\n    this.createRenderableComponents();\r\n    this.createContent();\r\n    this.hide();\r\n    this.textAnimator.searchProperties(this.dynamicProperties);\r\n  };\r\n\r\n  ITextElement.prototype.prepareFrame = function (num) {\r\n    this._mdf = false;\r\n    this.prepareRenderableFrame(num);\r\n    this.prepareProperties(num, this.isInRange);\r\n  };\r\n\r\n  ITextElement.prototype.createPathShape = function (matrixHelper, shapes) {\r\n    var j;\r\n    var jLen = shapes.length;\r\n    var pathNodes;\r\n    var shapeStr = '';\r\n\r\n    for (j = 0; j < jLen; j += 1) {\r\n      if (shapes[j].ty === 'sh') {\r\n        pathNodes = shapes[j].ks.k;\r\n        shapeStr += buildShapeString(pathNodes, pathNodes.i.length, true, matrixHelper);\r\n      }\r\n    }\r\n\r\n    return shapeStr;\r\n  };\r\n\r\n  ITextElement.prototype.updateDocumentData = function (newData, index) {\r\n    this.textProperty.updateDocumentData(newData, index);\r\n  };\r\n\r\n  ITextElement.prototype.canResizeFont = function (_canResize) {\r\n    this.textProperty.canResizeFont(_canResize);\r\n  };\r\n\r\n  ITextElement.prototype.setMinimumFontSize = function (_fontSize) {\r\n    this.textProperty.setMinimumFontSize(_fontSize);\r\n  };\r\n\r\n  ITextElement.prototype.applyTextPropertiesToMatrix = function (documentData, matrixHelper, lineNumber, xPos, yPos) {\r\n    if (documentData.ps) {\r\n      matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\r\n    }\r\n\r\n    matrixHelper.translate(0, -documentData.ls, 0);\r\n\r\n    switch (documentData.j) {\r\n      case 1:\r\n        matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]), 0, 0);\r\n        break;\r\n\r\n      case 2:\r\n        matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]) / 2, 0, 0);\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n\r\n    matrixHelper.translate(xPos, yPos, 0);\r\n  };\r\n\r\n  ITextElement.prototype.buildColor = function (colorData) {\r\n    return 'rgb(' + Math.round(colorData[0] * 255) + ',' + Math.round(colorData[1] * 255) + ',' + Math.round(colorData[2] * 255) + ')';\r\n  };\r\n\r\n  ITextElement.prototype.emptyProp = new LetterProps();\r\n\r\n  ITextElement.prototype.destroy = function () {};\r\n\r\n  ITextElement.prototype.validateText = function () {\r\n    if (this.textProperty._mdf || this.textProperty._isFirstFrame) {\r\n      this.buildNewText();\r\n      this.textProperty._isFirstFrame = false;\r\n      this.textProperty._mdf = false;\r\n    }\r\n  };\r\n\r\n  var emptyShapeData = {\r\n    shapes: []\r\n  };\r\n\r\n  function SVGTextLottieElement(data, globalData, comp) {\r\n    this.textSpans = [];\r\n    this.renderType = 'svg';\r\n    this.initElement(data, globalData, comp);\r\n  }\r\n\r\n  extendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], SVGTextLottieElement);\r\n\r\n  SVGTextLottieElement.prototype.createContent = function () {\r\n    if (this.data.singleShape && !this.globalData.fontManager.chars) {\r\n      this.textContainer = createNS('text');\r\n    }\r\n  };\r\n\r\n  SVGTextLottieElement.prototype.buildTextContents = function (textArray) {\r\n    var i = 0;\r\n    var len = textArray.length;\r\n    var textContents = [];\r\n    var currentTextContent = '';\r\n\r\n    while (i < len) {\r\n      if (textArray[i] === String.fromCharCode(13) || textArray[i] === String.fromCharCode(3)) {\r\n        textContents.push(currentTextContent);\r\n        currentTextContent = '';\r\n      } else {\r\n        currentTextContent += textArray[i];\r\n      }\r\n\r\n      i += 1;\r\n    }\r\n\r\n    textContents.push(currentTextContent);\r\n    return textContents;\r\n  };\r\n\r\n  SVGTextLottieElement.prototype.buildShapeData = function (data, scale) {\r\n    // data should probably be cloned to apply scale separately to each instance of a text on different layers\r\n    // but since text internal content gets only rendered once and then it's never rerendered,\r\n    // it's probably safe not to clone data and reuse always the same instance even if the object is mutated.\r\n    // Avoiding cloning is preferred since cloning each character shape data is expensive\r\n    if (data.shapes && data.shapes.length) {\r\n      var shape = data.shapes[0];\r\n\r\n      if (shape.it) {\r\n        var shapeItem = shape.it[shape.it.length - 1];\r\n\r\n        if (shapeItem.s) {\r\n          shapeItem.s.k[0] = scale;\r\n          shapeItem.s.k[1] = scale;\r\n        }\r\n      }\r\n    }\r\n\r\n    return data;\r\n  };\r\n\r\n  SVGTextLottieElement.prototype.buildNewText = function () {\r\n    this.addDynamicProperty(this);\r\n    var i;\r\n    var len;\r\n    var documentData = this.textProperty.currentData;\r\n    this.renderedLetters = createSizedArray(documentData ? documentData.l.length : 0);\r\n\r\n    if (documentData.fc) {\r\n      this.layerElement.setAttribute('fill', this.buildColor(documentData.fc));\r\n    } else {\r\n      this.layerElement.setAttribute('fill', 'rgba(0,0,0,0)');\r\n    }\r\n\r\n    if (documentData.sc) {\r\n      this.layerElement.setAttribute('stroke', this.buildColor(documentData.sc));\r\n      this.layerElement.setAttribute('stroke-width', documentData.sw);\r\n    }\r\n\r\n    this.layerElement.setAttribute('font-size', documentData.finalSize);\r\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\r\n\r\n    if (fontData.fClass) {\r\n      this.layerElement.setAttribute('class', fontData.fClass);\r\n    } else {\r\n      this.layerElement.setAttribute('font-family', fontData.fFamily);\r\n      var fWeight = documentData.fWeight;\r\n      var fStyle = documentData.fStyle;\r\n      this.layerElement.setAttribute('font-style', fStyle);\r\n      this.layerElement.setAttribute('font-weight', fWeight);\r\n    }\r\n\r\n    this.layerElement.setAttribute('aria-label', documentData.t);\r\n    var letters = documentData.l || [];\r\n    var usesGlyphs = !!this.globalData.fontManager.chars;\r\n    len = letters.length;\r\n    var tSpan;\r\n    var matrixHelper = this.mHelper;\r\n    var shapeStr = '';\r\n    var singleShape = this.data.singleShape;\r\n    var xPos = 0;\r\n    var yPos = 0;\r\n    var firstLine = true;\r\n    var trackingOffset = documentData.tr * 0.001 * documentData.finalSize;\r\n\r\n    if (singleShape && !usesGlyphs && !documentData.sz) {\r\n      var tElement = this.textContainer;\r\n      var justify = 'start';\r\n\r\n      switch (documentData.j) {\r\n        case 1:\r\n          justify = 'end';\r\n          break;\r\n\r\n        case 2:\r\n          justify = 'middle';\r\n          break;\r\n\r\n        default:\r\n          justify = 'start';\r\n          break;\r\n      }\r\n\r\n      tElement.setAttribute('text-anchor', justify);\r\n      tElement.setAttribute('letter-spacing', trackingOffset);\r\n      var textContent = this.buildTextContents(documentData.finalText);\r\n      len = textContent.length;\r\n      yPos = documentData.ps ? documentData.ps[1] + documentData.ascent : 0;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        tSpan = this.textSpans[i].span || createNS('tspan');\r\n        tSpan.textContent = textContent[i];\r\n        tSpan.setAttribute('x', 0);\r\n        tSpan.setAttribute('y', yPos);\r\n        tSpan.style.display = 'inherit';\r\n        tElement.appendChild(tSpan);\r\n\r\n        if (!this.textSpans[i]) {\r\n          this.textSpans[i] = {\r\n            span: null,\r\n            glyph: null\r\n          };\r\n        }\r\n\r\n        this.textSpans[i].span = tSpan;\r\n        yPos += documentData.finalLineHeight;\r\n      }\r\n\r\n      this.layerElement.appendChild(tElement);\r\n    } else {\r\n      var cachedSpansLength = this.textSpans.length;\r\n      var charData;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        if (!this.textSpans[i]) {\r\n          this.textSpans[i] = {\r\n            span: null,\r\n            childSpan: null,\r\n            glyph: null\r\n          };\r\n        }\r\n\r\n        if (!usesGlyphs || !singleShape || i === 0) {\r\n          tSpan = cachedSpansLength > i ? this.textSpans[i].span : createNS(usesGlyphs ? 'g' : 'text');\r\n\r\n          if (cachedSpansLength <= i) {\r\n            tSpan.setAttribute('stroke-linecap', 'butt');\r\n            tSpan.setAttribute('stroke-linejoin', 'round');\r\n            tSpan.setAttribute('stroke-miterlimit', '4');\r\n            this.textSpans[i].span = tSpan;\r\n\r\n            if (usesGlyphs) {\r\n              var childSpan = createNS('g');\r\n              tSpan.appendChild(childSpan);\r\n              this.textSpans[i].childSpan = childSpan;\r\n            }\r\n\r\n            this.textSpans[i].span = tSpan;\r\n            this.layerElement.appendChild(tSpan);\r\n          }\r\n\r\n          tSpan.style.display = 'inherit';\r\n        }\r\n\r\n        matrixHelper.reset();\r\n\r\n        if (singleShape) {\r\n          if (letters[i].n) {\r\n            xPos = -trackingOffset;\r\n            yPos += documentData.yOffset;\r\n            yPos += firstLine ? 1 : 0;\r\n            firstLine = false;\r\n          }\r\n\r\n          this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\r\n          xPos += letters[i].l || 0; // xPos += letters[i].val === ' ' ? 0 : trackingOffset;\r\n\r\n          xPos += trackingOffset;\r\n        }\r\n\r\n        if (usesGlyphs) {\r\n          charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\r\n          var glyphElement; // t === 1 means the character has been replaced with an animated shaped\r\n\r\n          if (charData.t === 1) {\r\n            glyphElement = new SVGCompElement(charData.data, this.globalData, this);\r\n          } else {\r\n            var data = emptyShapeData;\r\n\r\n            if (charData.data && charData.data.shapes) {\r\n              data = this.buildShapeData(charData.data, documentData.finalSize);\r\n            }\r\n\r\n            glyphElement = new SVGShapeElement(data, this.globalData, this);\r\n          }\r\n\r\n          if (this.textSpans[i].glyph) {\r\n            var glyph = this.textSpans[i].glyph;\r\n            this.textSpans[i].childSpan.removeChild(glyph.layerElement);\r\n            glyph.destroy();\r\n          }\r\n\r\n          this.textSpans[i].glyph = glyphElement;\r\n          glyphElement._debug = true;\r\n          glyphElement.prepareFrame(0);\r\n          glyphElement.renderFrame();\r\n          this.textSpans[i].childSpan.appendChild(glyphElement.layerElement); // when using animated shapes, the layer will be scaled instead of replacing the internal scale\r\n          // this might have issues with strokes and might need a different solution\r\n\r\n          if (charData.t === 1) {\r\n            this.textSpans[i].childSpan.setAttribute('transform', 'scale(' + documentData.finalSize / 100 + ',' + documentData.finalSize / 100 + ')');\r\n          }\r\n        } else {\r\n          if (singleShape) {\r\n            tSpan.setAttribute('transform', 'translate(' + matrixHelper.props[12] + ',' + matrixHelper.props[13] + ')');\r\n          }\r\n\r\n          tSpan.textContent = letters[i].val;\r\n          tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\r\n        } //\r\n\r\n      }\r\n\r\n      if (singleShape && tSpan) {\r\n        tSpan.setAttribute('d', shapeStr);\r\n      }\r\n    }\r\n\r\n    while (i < this.textSpans.length) {\r\n      this.textSpans[i].span.style.display = 'none';\r\n      i += 1;\r\n    }\r\n\r\n    this._sizeChanged = true;\r\n  };\r\n\r\n  SVGTextLottieElement.prototype.sourceRectAtTime = function () {\r\n    this.prepareFrame(this.comp.renderedFrame - this.data.st);\r\n    this.renderInnerContent();\r\n\r\n    if (this._sizeChanged) {\r\n      this._sizeChanged = false;\r\n      var textBox = this.layerElement.getBBox();\r\n      this.bbox = {\r\n        top: textBox.y,\r\n        left: textBox.x,\r\n        width: textBox.width,\r\n        height: textBox.height\r\n      };\r\n    }\r\n\r\n    return this.bbox;\r\n  };\r\n\r\n  SVGTextLottieElement.prototype.getValue = function () {\r\n    var i;\r\n    var len = this.textSpans.length;\r\n    var glyphElement;\r\n    this.renderedFrame = this.comp.renderedFrame;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      glyphElement = this.textSpans[i].glyph;\r\n\r\n      if (glyphElement) {\r\n        glyphElement.prepareFrame(this.comp.renderedFrame - this.data.st);\r\n\r\n        if (glyphElement._mdf) {\r\n          this._mdf = true;\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  SVGTextLottieElement.prototype.renderInnerContent = function () {\r\n    this.validateText();\r\n\r\n    if (!this.data.singleShape || this._mdf) {\r\n      this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\r\n\r\n      if (this.lettersChangedFlag || this.textAnimator.lettersChangedFlag) {\r\n        this._sizeChanged = true;\r\n        var i;\r\n        var len;\r\n        var renderedLetters = this.textAnimator.renderedLetters;\r\n        var letters = this.textProperty.currentData.l;\r\n        len = letters.length;\r\n        var renderedLetter;\r\n        var textSpan;\r\n        var glyphElement;\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n          if (!letters[i].n) {\r\n            renderedLetter = renderedLetters[i];\r\n            textSpan = this.textSpans[i].span;\r\n            glyphElement = this.textSpans[i].glyph;\r\n\r\n            if (glyphElement) {\r\n              glyphElement.renderFrame();\r\n            }\r\n\r\n            if (renderedLetter._mdf.m) {\r\n              textSpan.setAttribute('transform', renderedLetter.m);\r\n            }\r\n\r\n            if (renderedLetter._mdf.o) {\r\n              textSpan.setAttribute('opacity', renderedLetter.o);\r\n            }\r\n\r\n            if (renderedLetter._mdf.sw) {\r\n              textSpan.setAttribute('stroke-width', renderedLetter.sw);\r\n            }\r\n\r\n            if (renderedLetter._mdf.sc) {\r\n              textSpan.setAttribute('stroke', renderedLetter.sc);\r\n            }\r\n\r\n            if (renderedLetter._mdf.fc) {\r\n              textSpan.setAttribute('fill', renderedLetter.fc);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  function ISolidElement(data, globalData, comp) {\r\n    this.initElement(data, globalData, comp);\r\n  }\r\n\r\n  extendPrototype([IImageElement], ISolidElement);\r\n\r\n  ISolidElement.prototype.createContent = function () {\r\n    var rect = createNS('rect'); /// /rect.style.width = this.data.sw;\r\n    /// /rect.style.height = this.data.sh;\r\n    /// /rect.style.fill = this.data.sc;\r\n\r\n    rect.setAttribute('width', this.data.sw);\r\n    rect.setAttribute('height', this.data.sh);\r\n    rect.setAttribute('fill', this.data.sc);\r\n    this.layerElement.appendChild(rect);\r\n  };\r\n\r\n  function NullElement(data, globalData, comp) {\r\n    this.initFrame();\r\n    this.initBaseData(data, globalData, comp);\r\n    this.initFrame();\r\n    this.initTransform(data, globalData, comp);\r\n    this.initHierarchy();\r\n  }\r\n\r\n  NullElement.prototype.prepareFrame = function (num) {\r\n    this.prepareProperties(num, true);\r\n  };\r\n\r\n  NullElement.prototype.renderFrame = function () {};\r\n\r\n  NullElement.prototype.getBaseElement = function () {\r\n    return null;\r\n  };\r\n\r\n  NullElement.prototype.destroy = function () {};\r\n\r\n  NullElement.prototype.sourceRectAtTime = function () {};\r\n\r\n  NullElement.prototype.hide = function () {};\r\n\r\n  extendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement], NullElement);\r\n\r\n  function SVGRendererBase() {}\r\n\r\n  extendPrototype([BaseRenderer], SVGRendererBase);\r\n\r\n  SVGRendererBase.prototype.createNull = function (data) {\r\n    return new NullElement(data, this.globalData, this);\r\n  };\r\n\r\n  SVGRendererBase.prototype.createShape = function (data) {\r\n    return new SVGShapeElement(data, this.globalData, this);\r\n  };\r\n\r\n  SVGRendererBase.prototype.createText = function (data) {\r\n    return new SVGTextLottieElement(data, this.globalData, this);\r\n  };\r\n\r\n  SVGRendererBase.prototype.createImage = function (data) {\r\n    return new IImageElement(data, this.globalData, this);\r\n  };\r\n\r\n  SVGRendererBase.prototype.createSolid = function (data) {\r\n    return new ISolidElement(data, this.globalData, this);\r\n  };\r\n\r\n  SVGRendererBase.prototype.configAnimation = function (animData) {\r\n    this.svgElement.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\r\n    this.svgElement.setAttribute('xmlns:xlink', 'http://www.w3.org/1999/xlink');\r\n\r\n    if (this.renderConfig.viewBoxSize) {\r\n      this.svgElement.setAttribute('viewBox', this.renderConfig.viewBoxSize);\r\n    } else {\r\n      this.svgElement.setAttribute('viewBox', '0 0 ' + animData.w + ' ' + animData.h);\r\n    }\r\n\r\n    if (!this.renderConfig.viewBoxOnly) {\r\n      this.svgElement.setAttribute('width', animData.w);\r\n      this.svgElement.setAttribute('height', animData.h);\r\n      this.svgElement.style.width = '100%';\r\n      this.svgElement.style.height = '100%';\r\n      this.svgElement.style.transform = 'translate3d(0,0,0)';\r\n      this.svgElement.style.contentVisibility = this.renderConfig.contentVisibility;\r\n    }\r\n\r\n    if (this.renderConfig.width) {\r\n      this.svgElement.setAttribute('width', this.renderConfig.width);\r\n    }\r\n\r\n    if (this.renderConfig.height) {\r\n      this.svgElement.setAttribute('height', this.renderConfig.height);\r\n    }\r\n\r\n    if (this.renderConfig.className) {\r\n      this.svgElement.setAttribute('class', this.renderConfig.className);\r\n    }\r\n\r\n    if (this.renderConfig.id) {\r\n      this.svgElement.setAttribute('id', this.renderConfig.id);\r\n    }\r\n\r\n    if (this.renderConfig.focusable !== undefined) {\r\n      this.svgElement.setAttribute('focusable', this.renderConfig.focusable);\r\n    }\r\n\r\n    this.svgElement.setAttribute('preserveAspectRatio', this.renderConfig.preserveAspectRatio); // this.layerElement.style.transform = 'translate3d(0,0,0)';\r\n    // this.layerElement.style.transformOrigin = this.layerElement.style.mozTransformOrigin = this.layerElement.style.webkitTransformOrigin = this.layerElement.style['-webkit-transform'] = \"0px 0px 0px\";\r\n\r\n    this.animationItem.wrapper.appendChild(this.svgElement); // Mask animation\r\n\r\n    var defs = this.globalData.defs;\r\n    this.setupGlobalData(animData, defs);\r\n    this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\r\n    this.data = animData;\r\n    var maskElement = createNS('clipPath');\r\n    var rect = createNS('rect');\r\n    rect.setAttribute('width', animData.w);\r\n    rect.setAttribute('height', animData.h);\r\n    rect.setAttribute('x', 0);\r\n    rect.setAttribute('y', 0);\r\n    var maskId = createElementID();\r\n    maskElement.setAttribute('id', maskId);\r\n    maskElement.appendChild(rect);\r\n    this.layerElement.setAttribute('clip-path', 'url(' + getLocationHref() + '#' + maskId + ')');\r\n    defs.appendChild(maskElement);\r\n    this.layers = animData.layers;\r\n    this.elements = createSizedArray(animData.layers.length);\r\n  };\r\n\r\n  SVGRendererBase.prototype.destroy = function () {\r\n    if (this.animationItem.wrapper) {\r\n      this.animationItem.wrapper.innerText = '';\r\n    }\r\n\r\n    this.layerElement = null;\r\n    this.globalData.defs = null;\r\n    var i;\r\n    var len = this.layers ? this.layers.length : 0;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.elements[i] && this.elements[i].destroy) {\r\n        this.elements[i].destroy();\r\n      }\r\n    }\r\n\r\n    this.elements.length = 0;\r\n    this.destroyed = true;\r\n    this.animationItem = null;\r\n  };\r\n\r\n  SVGRendererBase.prototype.updateContainerSize = function () {};\r\n\r\n  SVGRendererBase.prototype.findIndexByInd = function (ind) {\r\n    var i = 0;\r\n    var len = this.layers.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.layers[i].ind === ind) {\r\n        return i;\r\n      }\r\n    }\r\n\r\n    return -1;\r\n  };\r\n\r\n  SVGRendererBase.prototype.buildItem = function (pos) {\r\n    var elements = this.elements;\r\n\r\n    if (elements[pos] || this.layers[pos].ty === 99) {\r\n      return;\r\n    }\r\n\r\n    elements[pos] = true;\r\n    var element = this.createItem(this.layers[pos]);\r\n    elements[pos] = element;\r\n\r\n    if (getExpressionsPlugin()) {\r\n      if (this.layers[pos].ty === 0) {\r\n        this.globalData.projectInterface.registerComposition(element);\r\n      }\r\n\r\n      element.initExpressions();\r\n    }\r\n\r\n    this.appendElementInPos(element, pos);\r\n\r\n    if (this.layers[pos].tt) {\r\n      var elementIndex = 'tp' in this.layers[pos] ? this.findIndexByInd(this.layers[pos].tp) : pos - 1;\r\n\r\n      if (elementIndex === -1) {\r\n        return;\r\n      }\r\n\r\n      if (!this.elements[elementIndex] || this.elements[elementIndex] === true) {\r\n        this.buildItem(elementIndex);\r\n        this.addPendingElement(element);\r\n      } else {\r\n        var matteElement = elements[elementIndex];\r\n        var matteMask = matteElement.getMatte(this.layers[pos].tt);\r\n        element.setMatte(matteMask);\r\n      }\r\n    }\r\n  };\r\n\r\n  SVGRendererBase.prototype.checkPendingElements = function () {\r\n    while (this.pendingElements.length) {\r\n      var element = this.pendingElements.pop();\r\n      element.checkParenting();\r\n\r\n      if (element.data.tt) {\r\n        var i = 0;\r\n        var len = this.elements.length;\r\n\r\n        while (i < len) {\r\n          if (this.elements[i] === element) {\r\n            var elementIndex = 'tp' in element.data ? this.findIndexByInd(element.data.tp) : i - 1;\r\n            var matteElement = this.elements[elementIndex];\r\n            var matteMask = matteElement.getMatte(this.layers[i].tt);\r\n            element.setMatte(matteMask);\r\n            break;\r\n          }\r\n\r\n          i += 1;\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  SVGRendererBase.prototype.renderFrame = function (num) {\r\n    if (this.renderedFrame === num || this.destroyed) {\r\n      return;\r\n    }\r\n\r\n    if (num === null) {\r\n      num = this.renderedFrame;\r\n    } else {\r\n      this.renderedFrame = num;\r\n    } // console.log('-------');\r\n    // console.log('FRAME ',num);\r\n\r\n\r\n    this.globalData.frameNum = num;\r\n    this.globalData.frameId += 1;\r\n    this.globalData.projectInterface.currentFrame = num;\r\n    this.globalData._mdf = false;\r\n    var i;\r\n    var len = this.layers.length;\r\n\r\n    if (!this.completeLayers) {\r\n      this.checkLayers(num);\r\n    }\r\n\r\n    for (i = len - 1; i >= 0; i -= 1) {\r\n      if (this.completeLayers || this.elements[i]) {\r\n        this.elements[i].prepareFrame(num - this.layers[i].st);\r\n      }\r\n    }\r\n\r\n    if (this.globalData._mdf) {\r\n      for (i = 0; i < len; i += 1) {\r\n        if (this.completeLayers || this.elements[i]) {\r\n          this.elements[i].renderFrame();\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  SVGRendererBase.prototype.appendElementInPos = function (element, pos) {\r\n    var newElement = element.getBaseElement();\r\n\r\n    if (!newElement) {\r\n      return;\r\n    }\r\n\r\n    var i = 0;\r\n    var nextElement;\r\n\r\n    while (i < pos) {\r\n      if (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement()) {\r\n        nextElement = this.elements[i].getBaseElement();\r\n      }\r\n\r\n      i += 1;\r\n    }\r\n\r\n    if (nextElement) {\r\n      this.layerElement.insertBefore(newElement, nextElement);\r\n    } else {\r\n      this.layerElement.appendChild(newElement);\r\n    }\r\n  };\r\n\r\n  SVGRendererBase.prototype.hide = function () {\r\n    this.layerElement.style.display = 'none';\r\n  };\r\n\r\n  SVGRendererBase.prototype.show = function () {\r\n    this.layerElement.style.display = 'block';\r\n  };\r\n\r\n  function ICompElement() {}\r\n\r\n  extendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement, RenderableDOMElement], ICompElement);\r\n\r\n  ICompElement.prototype.initElement = function (data, globalData, comp) {\r\n    this.initFrame();\r\n    this.initBaseData(data, globalData, comp);\r\n    this.initTransform(data, globalData, comp);\r\n    this.initRenderable();\r\n    this.initHierarchy();\r\n    this.initRendererElement();\r\n    this.createContainerElements();\r\n    this.createRenderableComponents();\r\n\r\n    if (this.data.xt || !globalData.progressiveLoad) {\r\n      this.buildAllItems();\r\n    }\r\n\r\n    this.hide();\r\n  };\r\n  /* ICompElement.prototype.hide = function(){\r\n      if(!this.hidden){\r\n          this.hideElement();\r\n          var i,len = this.elements.length;\r\n          for( i = 0; i < len; i+=1 ){\r\n              if(this.elements[i]){\r\n                  this.elements[i].hide();\r\n              }\r\n          }\r\n      }\r\n  }; */\r\n\r\n\r\n  ICompElement.prototype.prepareFrame = function (num) {\r\n    this._mdf = false;\r\n    this.prepareRenderableFrame(num);\r\n    this.prepareProperties(num, this.isInRange);\r\n\r\n    if (!this.isInRange && !this.data.xt) {\r\n      return;\r\n    }\r\n\r\n    if (!this.tm._placeholder) {\r\n      var timeRemapped = this.tm.v;\r\n\r\n      if (timeRemapped === this.data.op) {\r\n        timeRemapped = this.data.op - 1;\r\n      }\r\n\r\n      this.renderedFrame = timeRemapped;\r\n    } else {\r\n      this.renderedFrame = num / this.data.sr;\r\n    }\r\n\r\n    var i;\r\n    var len = this.elements.length;\r\n\r\n    if (!this.completeLayers) {\r\n      this.checkLayers(this.renderedFrame);\r\n    } // This iteration needs to be backwards because of how expressions connect between each other\r\n\r\n\r\n    for (i = len - 1; i >= 0; i -= 1) {\r\n      if (this.completeLayers || this.elements[i]) {\r\n        this.elements[i].prepareFrame(this.renderedFrame - this.layers[i].st);\r\n\r\n        if (this.elements[i]._mdf) {\r\n          this._mdf = true;\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  ICompElement.prototype.renderInnerContent = function () {\r\n    var i;\r\n    var len = this.layers.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.completeLayers || this.elements[i]) {\r\n        this.elements[i].renderFrame();\r\n      }\r\n    }\r\n  };\r\n\r\n  ICompElement.prototype.setElements = function (elems) {\r\n    this.elements = elems;\r\n  };\r\n\r\n  ICompElement.prototype.getElements = function () {\r\n    return this.elements;\r\n  };\r\n\r\n  ICompElement.prototype.destroyElements = function () {\r\n    var i;\r\n    var len = this.layers.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.elements[i]) {\r\n        this.elements[i].destroy();\r\n      }\r\n    }\r\n  };\r\n\r\n  ICompElement.prototype.destroy = function () {\r\n    this.destroyElements();\r\n    this.destroyBaseElement();\r\n  };\r\n\r\n  function SVGCompElement(data, globalData, comp) {\r\n    this.layers = data.layers;\r\n    this.supports3d = true;\r\n    this.completeLayers = false;\r\n    this.pendingElements = [];\r\n    this.elements = this.layers ? createSizedArray(this.layers.length) : [];\r\n    this.initElement(data, globalData, comp);\r\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\r\n      _placeholder: true\r\n    };\r\n  }\r\n\r\n  extendPrototype([SVGRendererBase, ICompElement, SVGBaseElement], SVGCompElement);\r\n\r\n  SVGCompElement.prototype.createComp = function (data) {\r\n    return new SVGCompElement(data, this.globalData, this);\r\n  };\r\n\r\n  function SVGRenderer(animationItem, config) {\r\n    this.animationItem = animationItem;\r\n    this.layers = null;\r\n    this.renderedFrame = -1;\r\n    this.svgElement = createNS('svg');\r\n    var ariaLabel = '';\r\n\r\n    if (config && config.title) {\r\n      var titleElement = createNS('title');\r\n      var titleId = createElementID();\r\n      titleElement.setAttribute('id', titleId);\r\n      titleElement.textContent = config.title;\r\n      this.svgElement.appendChild(titleElement);\r\n      ariaLabel += titleId;\r\n    }\r\n\r\n    if (config && config.description) {\r\n      var descElement = createNS('desc');\r\n      var descId = createElementID();\r\n      descElement.setAttribute('id', descId);\r\n      descElement.textContent = config.description;\r\n      this.svgElement.appendChild(descElement);\r\n      ariaLabel += ' ' + descId;\r\n    }\r\n\r\n    if (ariaLabel) {\r\n      this.svgElement.setAttribute('aria-labelledby', ariaLabel);\r\n    }\r\n\r\n    var defs = createNS('defs');\r\n    this.svgElement.appendChild(defs);\r\n    var maskElement = createNS('g');\r\n    this.svgElement.appendChild(maskElement);\r\n    this.layerElement = maskElement;\r\n    this.renderConfig = {\r\n      preserveAspectRatio: config && config.preserveAspectRatio || 'xMidYMid meet',\r\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\r\n      contentVisibility: config && config.contentVisibility || 'visible',\r\n      progressiveLoad: config && config.progressiveLoad || false,\r\n      hideOnTransparent: !(config && config.hideOnTransparent === false),\r\n      viewBoxOnly: config && config.viewBoxOnly || false,\r\n      viewBoxSize: config && config.viewBoxSize || false,\r\n      className: config && config.className || '',\r\n      id: config && config.id || '',\r\n      focusable: config && config.focusable,\r\n      filterSize: {\r\n        width: config && config.filterSize && config.filterSize.width || '100%',\r\n        height: config && config.filterSize && config.filterSize.height || '100%',\r\n        x: config && config.filterSize && config.filterSize.x || '0%',\r\n        y: config && config.filterSize && config.filterSize.y || '0%'\r\n      },\r\n      width: config && config.width,\r\n      height: config && config.height,\r\n      runExpressions: !config || config.runExpressions === undefined || config.runExpressions\r\n    };\r\n    this.globalData = {\r\n      _mdf: false,\r\n      frameNum: -1,\r\n      defs: defs,\r\n      renderConfig: this.renderConfig\r\n    };\r\n    this.elements = [];\r\n    this.pendingElements = [];\r\n    this.destroyed = false;\r\n    this.rendererType = 'svg';\r\n  }\r\n\r\n  extendPrototype([SVGRendererBase], SVGRenderer);\r\n\r\n  SVGRenderer.prototype.createComp = function (data) {\r\n    return new SVGCompElement(data, this.globalData, this);\r\n  };\r\n\r\n  function ShapeTransformManager() {\r\n    this.sequences = {};\r\n    this.sequenceList = [];\r\n    this.transform_key_count = 0;\r\n  }\r\n\r\n  ShapeTransformManager.prototype = {\r\n    addTransformSequence: function addTransformSequence(transforms) {\r\n      var i;\r\n      var len = transforms.length;\r\n      var key = '_';\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        key += transforms[i].transform.key + '_';\r\n      }\r\n\r\n      var sequence = this.sequences[key];\r\n\r\n      if (!sequence) {\r\n        sequence = {\r\n          transforms: [].concat(transforms),\r\n          finalTransform: new Matrix(),\r\n          _mdf: false\r\n        };\r\n        this.sequences[key] = sequence;\r\n        this.sequenceList.push(sequence);\r\n      }\r\n\r\n      return sequence;\r\n    },\r\n    processSequence: function processSequence(sequence, isFirstFrame) {\r\n      var i = 0;\r\n      var len = sequence.transforms.length;\r\n      var _mdf = isFirstFrame;\r\n\r\n      while (i < len && !isFirstFrame) {\r\n        if (sequence.transforms[i].transform.mProps._mdf) {\r\n          _mdf = true;\r\n          break;\r\n        }\r\n\r\n        i += 1;\r\n      }\r\n\r\n      if (_mdf) {\r\n        sequence.finalTransform.reset();\r\n\r\n        for (i = len - 1; i >= 0; i -= 1) {\r\n          sequence.finalTransform.multiply(sequence.transforms[i].transform.mProps.v);\r\n        }\r\n      }\r\n\r\n      sequence._mdf = _mdf;\r\n    },\r\n    processSequences: function processSequences(isFirstFrame) {\r\n      var i;\r\n      var len = this.sequenceList.length;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        this.processSequence(this.sequenceList[i], isFirstFrame);\r\n      }\r\n    },\r\n    getNewKey: function getNewKey() {\r\n      this.transform_key_count += 1;\r\n      return '_' + this.transform_key_count;\r\n    }\r\n  };\r\n\r\n  var lumaLoader = function lumaLoader() {\r\n    var id = '__lottie_element_luma_buffer';\r\n    var lumaBuffer = null;\r\n    var lumaBufferCtx = null;\r\n    var svg = null; // This alternate solution has a slight delay before the filter is applied, resulting in a flicker on the first frame.\r\n    // Keeping this here for reference, and in the future, if offscreen canvas supports url filters, this can be used.\r\n    // For now, neither of them work for offscreen canvas, so canvas workers can't support the luma track matte mask.\r\n    // Naming it solution 2 to mark the extra comment lines.\r\n\r\n    /*\r\n    var svgString = [\r\n      '<svg xmlns=\"http://www.w3.org/2000/svg\">',\r\n      '<filter id=\"' + id + '\">',\r\n      '<feColorMatrix type=\"matrix\" color-interpolation-filters=\"sRGB\" values=\"',\r\n      '0.3, 0.3, 0.3, 0, 0, ',\r\n      '0.3, 0.3, 0.3, 0, 0, ',\r\n      '0.3, 0.3, 0.3, 0, 0, ',\r\n      '0.3, 0.3, 0.3, 0, 0',\r\n      '\"/>',\r\n      '</filter>',\r\n      '</svg>',\r\n    ].join('');\r\n    var blob = new Blob([svgString], { type: 'image/svg+xml' });\r\n    var url = URL.createObjectURL(blob);\r\n    */\r\n\r\n    function createLumaSvgFilter() {\r\n      var _svg = createNS('svg');\r\n\r\n      var fil = createNS('filter');\r\n      var matrix = createNS('feColorMatrix');\r\n      fil.setAttribute('id', id);\r\n      matrix.setAttribute('type', 'matrix');\r\n      matrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n      matrix.setAttribute('values', '0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0');\r\n      fil.appendChild(matrix);\r\n\r\n      _svg.appendChild(fil);\r\n\r\n      _svg.setAttribute('id', id + '_svg');\r\n\r\n      if (featureSupport.svgLumaHidden) {\r\n        _svg.style.display = 'none';\r\n      }\r\n\r\n      return _svg;\r\n    }\r\n\r\n    function loadLuma() {\r\n      if (!lumaBuffer) {\r\n        svg = createLumaSvgFilter();\r\n        document.body.appendChild(svg);\r\n        lumaBuffer = createTag('canvas');\r\n        lumaBufferCtx = lumaBuffer.getContext('2d'); // lumaBufferCtx.filter = `url('${url}#__lottie_element_luma_buffer')`; // part of solution 2\r\n\r\n        lumaBufferCtx.filter = 'url(#' + id + ')';\r\n        lumaBufferCtx.fillStyle = 'rgba(0,0,0,0)';\r\n        lumaBufferCtx.fillRect(0, 0, 1, 1);\r\n      }\r\n    }\r\n\r\n    function getLuma(canvas) {\r\n      if (!lumaBuffer) {\r\n        loadLuma();\r\n      }\r\n\r\n      lumaBuffer.width = canvas.width;\r\n      lumaBuffer.height = canvas.height; // lumaBufferCtx.filter = `url('${url}#__lottie_element_luma_buffer')`; // part of solution 2\r\n\r\n      lumaBufferCtx.filter = 'url(#' + id + ')';\r\n      return lumaBuffer;\r\n    }\r\n\r\n    return {\r\n      load: loadLuma,\r\n      get: getLuma\r\n    };\r\n  };\r\n\r\n  function createCanvas(width, height) {\r\n    if (featureSupport.offscreenCanvas) {\r\n      return new OffscreenCanvas(width, height);\r\n    }\r\n\r\n    var canvas = createTag('canvas');\r\n    canvas.width = width;\r\n    canvas.height = height;\r\n    return canvas;\r\n  }\r\n\r\n  var assetLoader = function () {\r\n    return {\r\n      loadLumaCanvas: lumaLoader.load,\r\n      getLumaCanvas: lumaLoader.get,\r\n      createCanvas: createCanvas\r\n    };\r\n  }();\r\n\r\n  var registeredEffects = {};\r\n\r\n  function CVEffects(elem) {\r\n    var i;\r\n    var len = elem.data.ef ? elem.data.ef.length : 0;\r\n    this.filters = [];\r\n    var filterManager;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      filterManager = null;\r\n      var type = elem.data.ef[i].ty;\r\n\r\n      if (registeredEffects[type]) {\r\n        var Effect = registeredEffects[type].effect;\r\n        filterManager = new Effect(elem.effectsManager.effectElements[i], elem);\r\n      }\r\n\r\n      if (filterManager) {\r\n        this.filters.push(filterManager);\r\n      }\r\n    }\r\n\r\n    if (this.filters.length) {\r\n      elem.addRenderableComponent(this);\r\n    }\r\n  }\r\n\r\n  CVEffects.prototype.renderFrame = function (_isFirstFrame) {\r\n    var i;\r\n    var len = this.filters.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      this.filters[i].renderFrame(_isFirstFrame);\r\n    }\r\n  };\r\n\r\n  CVEffects.prototype.getEffects = function (type) {\r\n    var i;\r\n    var len = this.filters.length;\r\n    var effects = [];\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.filters[i].type === type) {\r\n        effects.push(this.filters[i]);\r\n      }\r\n    }\r\n\r\n    return effects;\r\n  };\r\n\r\n  function registerEffect(id, effect) {\r\n    registeredEffects[id] = {\r\n      effect: effect\r\n    };\r\n  }\r\n\r\n  function CVMaskElement(data, element) {\r\n    this.data = data;\r\n    this.element = element;\r\n    this.masksProperties = this.data.masksProperties || [];\r\n    this.viewData = createSizedArray(this.masksProperties.length);\r\n    var i;\r\n    var len = this.masksProperties.length;\r\n    var hasMasks = false;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.masksProperties[i].mode !== 'n') {\r\n        hasMasks = true;\r\n      }\r\n\r\n      this.viewData[i] = ShapePropertyFactory.getShapeProp(this.element, this.masksProperties[i], 3);\r\n    }\r\n\r\n    this.hasMasks = hasMasks;\r\n\r\n    if (hasMasks) {\r\n      this.element.addRenderableComponent(this);\r\n    }\r\n  }\r\n\r\n  CVMaskElement.prototype.renderFrame = function () {\r\n    if (!this.hasMasks) {\r\n      return;\r\n    }\r\n\r\n    var transform = this.element.finalTransform.mat;\r\n    var ctx = this.element.canvasContext;\r\n    var i;\r\n    var len = this.masksProperties.length;\r\n    var pt;\r\n    var pts;\r\n    var data;\r\n    ctx.beginPath();\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.masksProperties[i].mode !== 'n') {\r\n        if (this.masksProperties[i].inv) {\r\n          ctx.moveTo(0, 0);\r\n          ctx.lineTo(this.element.globalData.compSize.w, 0);\r\n          ctx.lineTo(this.element.globalData.compSize.w, this.element.globalData.compSize.h);\r\n          ctx.lineTo(0, this.element.globalData.compSize.h);\r\n          ctx.lineTo(0, 0);\r\n        }\r\n\r\n        data = this.viewData[i].v;\r\n        pt = transform.applyToPointArray(data.v[0][0], data.v[0][1], 0);\r\n        ctx.moveTo(pt[0], pt[1]);\r\n        var j;\r\n        var jLen = data._length;\r\n\r\n        for (j = 1; j < jLen; j += 1) {\r\n          pts = transform.applyToTriplePoints(data.o[j - 1], data.i[j], data.v[j]);\r\n          ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\r\n        }\r\n\r\n        pts = transform.applyToTriplePoints(data.o[j - 1], data.i[0], data.v[0]);\r\n        ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\r\n      }\r\n    }\r\n\r\n    this.element.globalData.renderer.save(true);\r\n    ctx.clip();\r\n  };\r\n\r\n  CVMaskElement.prototype.getMaskProperty = MaskElement.prototype.getMaskProperty;\r\n\r\n  CVMaskElement.prototype.destroy = function () {\r\n    this.element = null;\r\n  };\r\n\r\n  function CVBaseElement() {}\r\n\r\n  var operationsMap = {\r\n    1: 'source-in',\r\n    2: 'source-out',\r\n    3: 'source-in',\r\n    4: 'source-out'\r\n  };\r\n  CVBaseElement.prototype = {\r\n    createElements: function createElements() {},\r\n    initRendererElement: function initRendererElement() {},\r\n    createContainerElements: function createContainerElements() {\r\n      // If the layer is masked we will use two buffers to store each different states of the drawing\r\n      // This solution is not ideal for several reason. But unfortunately, because of the recursive\r\n      // nature of the render tree, it's the only simple way to make sure one inner mask doesn't override an outer mask.\r\n      // TODO: try to reduce the size of these buffers to the size of the composition contaning the layer\r\n      // It might be challenging because the layer most likely is transformed in some way\r\n      if (this.data.tt >= 1) {\r\n        this.buffers = [];\r\n        var canvasContext = this.globalData.canvasContext;\r\n        var bufferCanvas = assetLoader.createCanvas(canvasContext.canvas.width, canvasContext.canvas.height);\r\n        this.buffers.push(bufferCanvas);\r\n        var bufferCanvas2 = assetLoader.createCanvas(canvasContext.canvas.width, canvasContext.canvas.height);\r\n        this.buffers.push(bufferCanvas2);\r\n\r\n        if (this.data.tt >= 3 && !document._isProxy) {\r\n          assetLoader.loadLumaCanvas();\r\n        }\r\n      }\r\n\r\n      this.canvasContext = this.globalData.canvasContext;\r\n      this.transformCanvas = this.globalData.transformCanvas;\r\n      this.renderableEffectsManager = new CVEffects(this);\r\n      this.searchEffectTransforms();\r\n    },\r\n    createContent: function createContent() {},\r\n    setBlendMode: function setBlendMode() {\r\n      var globalData = this.globalData;\r\n\r\n      if (globalData.blendMode !== this.data.bm) {\r\n        globalData.blendMode = this.data.bm;\r\n        var blendModeValue = getBlendMode(this.data.bm);\r\n        globalData.canvasContext.globalCompositeOperation = blendModeValue;\r\n      }\r\n    },\r\n    createRenderableComponents: function createRenderableComponents() {\r\n      this.maskManager = new CVMaskElement(this.data, this);\r\n      this.transformEffects = this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);\r\n    },\r\n    hideElement: function hideElement() {\r\n      if (!this.hidden && (!this.isInRange || this.isTransparent)) {\r\n        this.hidden = true;\r\n      }\r\n    },\r\n    showElement: function showElement() {\r\n      if (this.isInRange && !this.isTransparent) {\r\n        this.hidden = false;\r\n        this._isFirstFrame = true;\r\n        this.maskManager._isFirstFrame = true;\r\n      }\r\n    },\r\n    clearCanvas: function clearCanvas(canvasContext) {\r\n      canvasContext.clearRect(this.transformCanvas.tx, this.transformCanvas.ty, this.transformCanvas.w * this.transformCanvas.sx, this.transformCanvas.h * this.transformCanvas.sy);\r\n    },\r\n    prepareLayer: function prepareLayer() {\r\n      if (this.data.tt >= 1) {\r\n        var buffer = this.buffers[0];\r\n        var bufferCtx = buffer.getContext('2d');\r\n        this.clearCanvas(bufferCtx); // on the first buffer we store the current state of the global drawing\r\n\r\n        bufferCtx.drawImage(this.canvasContext.canvas, 0, 0); // The next four lines are to clear the canvas\r\n        // TODO: Check if there is a way to clear the canvas without resetting the transform\r\n\r\n        this.currentTransform = this.canvasContext.getTransform();\r\n        this.canvasContext.setTransform(1, 0, 0, 1, 0, 0);\r\n        this.clearCanvas(this.canvasContext);\r\n        this.canvasContext.setTransform(this.currentTransform);\r\n      }\r\n    },\r\n    exitLayer: function exitLayer() {\r\n      if (this.data.tt >= 1) {\r\n        var buffer = this.buffers[1]; // On the second buffer we store the current state of the global drawing\r\n        // that only contains the content of this layer\r\n        // (if it is a composition, it also includes the nested layers)\r\n\r\n        var bufferCtx = buffer.getContext('2d');\r\n        this.clearCanvas(bufferCtx);\r\n        bufferCtx.drawImage(this.canvasContext.canvas, 0, 0); // We clear the canvas again\r\n\r\n        this.canvasContext.setTransform(1, 0, 0, 1, 0, 0);\r\n        this.clearCanvas(this.canvasContext);\r\n        this.canvasContext.setTransform(this.currentTransform); // We draw the mask\r\n\r\n        var mask = this.comp.getElementById('tp' in this.data ? this.data.tp : this.data.ind - 1);\r\n        mask.renderFrame(true); // We draw the second buffer (that contains the content of this layer)\r\n\r\n        this.canvasContext.setTransform(1, 0, 0, 1, 0, 0); // If the mask is a Luma matte, we need to do two extra painting operations\r\n        // the _isProxy check is to avoid drawing a fake canvas in workers that will throw an error\r\n\r\n        if (this.data.tt >= 3 && !document._isProxy) {\r\n          // We copy the painted mask to a buffer that has a color matrix filter applied to it\r\n          // that applies the rgb values to the alpha channel\r\n          var lumaBuffer = assetLoader.getLumaCanvas(this.canvasContext.canvas);\r\n          var lumaBufferCtx = lumaBuffer.getContext('2d');\r\n          lumaBufferCtx.drawImage(this.canvasContext.canvas, 0, 0);\r\n          this.clearCanvas(this.canvasContext); // we repaint the context with the mask applied to it\r\n\r\n          this.canvasContext.drawImage(lumaBuffer, 0, 0);\r\n        }\r\n\r\n        this.canvasContext.globalCompositeOperation = operationsMap[this.data.tt];\r\n        this.canvasContext.drawImage(buffer, 0, 0); // We finally draw the first buffer (that contains the content of the global drawing)\r\n        // We use destination-over to draw the global drawing below the current layer\r\n\r\n        this.canvasContext.globalCompositeOperation = 'destination-over';\r\n        this.canvasContext.drawImage(this.buffers[0], 0, 0);\r\n        this.canvasContext.setTransform(this.currentTransform); // We reset the globalCompositeOperation to source-over, the standard type of operation\r\n\r\n        this.canvasContext.globalCompositeOperation = 'source-over';\r\n      }\r\n    },\r\n    renderFrame: function renderFrame(forceRender) {\r\n      if (this.hidden || this.data.hd) {\r\n        return;\r\n      }\r\n\r\n      if (this.data.td === 1 && !forceRender) {\r\n        return;\r\n      }\r\n\r\n      this.renderTransform();\r\n      this.renderRenderable();\r\n      this.renderLocalTransform();\r\n      this.setBlendMode();\r\n      var forceRealStack = this.data.ty === 0;\r\n      this.prepareLayer();\r\n      this.globalData.renderer.save(forceRealStack);\r\n      this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props);\r\n      this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity);\r\n      this.renderInnerContent();\r\n      this.globalData.renderer.restore(forceRealStack);\r\n      this.exitLayer();\r\n\r\n      if (this.maskManager.hasMasks) {\r\n        this.globalData.renderer.restore(true);\r\n      }\r\n\r\n      if (this._isFirstFrame) {\r\n        this._isFirstFrame = false;\r\n      }\r\n    },\r\n    destroy: function destroy() {\r\n      this.canvasContext = null;\r\n      this.data = null;\r\n      this.globalData = null;\r\n      this.maskManager.destroy();\r\n    },\r\n    mHelper: new Matrix()\r\n  };\r\n  CVBaseElement.prototype.hide = CVBaseElement.prototype.hideElement;\r\n  CVBaseElement.prototype.show = CVBaseElement.prototype.showElement;\r\n\r\n  function CVShapeData(element, data, styles, transformsManager) {\r\n    this.styledShapes = [];\r\n    this.tr = [0, 0, 0, 0, 0, 0];\r\n    var ty = 4;\r\n\r\n    if (data.ty === 'rc') {\r\n      ty = 5;\r\n    } else if (data.ty === 'el') {\r\n      ty = 6;\r\n    } else if (data.ty === 'sr') {\r\n      ty = 7;\r\n    }\r\n\r\n    this.sh = ShapePropertyFactory.getShapeProp(element, data, ty, element);\r\n    var i;\r\n    var len = styles.length;\r\n    var styledShape;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (!styles[i].closed) {\r\n        styledShape = {\r\n          transforms: transformsManager.addTransformSequence(styles[i].transforms),\r\n          trNodes: []\r\n        };\r\n        this.styledShapes.push(styledShape);\r\n        styles[i].elements.push(styledShape);\r\n      }\r\n    }\r\n  }\r\n\r\n  CVShapeData.prototype.setAsAnimated = SVGShapeData.prototype.setAsAnimated;\r\n\r\n  function CVShapeElement(data, globalData, comp) {\r\n    this.shapes = [];\r\n    this.shapesData = data.shapes;\r\n    this.stylesList = [];\r\n    this.itemsData = [];\r\n    this.prevViewData = [];\r\n    this.shapeModifiers = [];\r\n    this.processedElements = [];\r\n    this.transformsManager = new ShapeTransformManager();\r\n    this.initElement(data, globalData, comp);\r\n  }\r\n\r\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableElement], CVShapeElement);\r\n  CVShapeElement.prototype.initElement = RenderableDOMElement.prototype.initElement;\r\n  CVShapeElement.prototype.transformHelper = {\r\n    opacity: 1,\r\n    _opMdf: false\r\n  };\r\n  CVShapeElement.prototype.dashResetter = [];\r\n\r\n  CVShapeElement.prototype.createContent = function () {\r\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\r\n  };\r\n\r\n  CVShapeElement.prototype.createStyleElement = function (data, transforms) {\r\n    var styleElem = {\r\n      data: data,\r\n      type: data.ty,\r\n      preTransforms: this.transformsManager.addTransformSequence(transforms),\r\n      transforms: [],\r\n      elements: [],\r\n      closed: data.hd === true\r\n    };\r\n    var elementData = {};\r\n\r\n    if (data.ty === 'fl' || data.ty === 'st') {\r\n      elementData.c = PropertyFactory.getProp(this, data.c, 1, 255, this);\r\n\r\n      if (!elementData.c.k) {\r\n        styleElem.co = 'rgb(' + bmFloor(elementData.c.v[0]) + ',' + bmFloor(elementData.c.v[1]) + ',' + bmFloor(elementData.c.v[2]) + ')';\r\n      }\r\n    } else if (data.ty === 'gf' || data.ty === 'gs') {\r\n      elementData.s = PropertyFactory.getProp(this, data.s, 1, null, this);\r\n      elementData.e = PropertyFactory.getProp(this, data.e, 1, null, this);\r\n      elementData.h = PropertyFactory.getProp(this, data.h || {\r\n        k: 0\r\n      }, 0, 0.01, this);\r\n      elementData.a = PropertyFactory.getProp(this, data.a || {\r\n        k: 0\r\n      }, 0, degToRads, this);\r\n      elementData.g = new GradientProperty(this, data.g, this);\r\n    }\r\n\r\n    elementData.o = PropertyFactory.getProp(this, data.o, 0, 0.01, this);\r\n\r\n    if (data.ty === 'st' || data.ty === 'gs') {\r\n      styleElem.lc = lineCapEnum[data.lc || 2];\r\n      styleElem.lj = lineJoinEnum[data.lj || 2];\r\n\r\n      if (data.lj == 1) {\r\n        // eslint-disable-line eqeqeq\r\n        styleElem.ml = data.ml;\r\n      }\r\n\r\n      elementData.w = PropertyFactory.getProp(this, data.w, 0, null, this);\r\n\r\n      if (!elementData.w.k) {\r\n        styleElem.wi = elementData.w.v;\r\n      }\r\n\r\n      if (data.d) {\r\n        var d = new DashProperty(this, data.d, 'canvas', this);\r\n        elementData.d = d;\r\n\r\n        if (!elementData.d.k) {\r\n          styleElem.da = elementData.d.dashArray;\r\n          styleElem[\"do\"] = elementData.d.dashoffset[0];\r\n        }\r\n      }\r\n    } else {\r\n      styleElem.r = data.r === 2 ? 'evenodd' : 'nonzero';\r\n    }\r\n\r\n    this.stylesList.push(styleElem);\r\n    elementData.style = styleElem;\r\n    return elementData;\r\n  };\r\n\r\n  CVShapeElement.prototype.createGroupElement = function () {\r\n    var elementData = {\r\n      it: [],\r\n      prevViewData: []\r\n    };\r\n    return elementData;\r\n  };\r\n\r\n  CVShapeElement.prototype.createTransformElement = function (data) {\r\n    var elementData = {\r\n      transform: {\r\n        opacity: 1,\r\n        _opMdf: false,\r\n        key: this.transformsManager.getNewKey(),\r\n        op: PropertyFactory.getProp(this, data.o, 0, 0.01, this),\r\n        mProps: TransformPropertyFactory.getTransformProperty(this, data, this)\r\n      }\r\n    };\r\n    return elementData;\r\n  };\r\n\r\n  CVShapeElement.prototype.createShapeElement = function (data) {\r\n    var elementData = new CVShapeData(this, data, this.stylesList, this.transformsManager);\r\n    this.shapes.push(elementData);\r\n    this.addShapeToModifiers(elementData);\r\n    return elementData;\r\n  };\r\n\r\n  CVShapeElement.prototype.reloadShapes = function () {\r\n    this._isFirstFrame = true;\r\n    var i;\r\n    var len = this.itemsData.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      this.prevViewData[i] = this.itemsData[i];\r\n    }\r\n\r\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\r\n    len = this.dynamicProperties.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      this.dynamicProperties[i].getValue();\r\n    }\r\n\r\n    this.renderModifiers();\r\n    this.transformsManager.processSequences(this._isFirstFrame);\r\n  };\r\n\r\n  CVShapeElement.prototype.addTransformToStyleList = function (transform) {\r\n    var i;\r\n    var len = this.stylesList.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (!this.stylesList[i].closed) {\r\n        this.stylesList[i].transforms.push(transform);\r\n      }\r\n    }\r\n  };\r\n\r\n  CVShapeElement.prototype.removeTransformFromStyleList = function () {\r\n    var i;\r\n    var len = this.stylesList.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (!this.stylesList[i].closed) {\r\n        this.stylesList[i].transforms.pop();\r\n      }\r\n    }\r\n  };\r\n\r\n  CVShapeElement.prototype.closeStyles = function (styles) {\r\n    var i;\r\n    var len = styles.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      styles[i].closed = true;\r\n    }\r\n  };\r\n\r\n  CVShapeElement.prototype.searchShapes = function (arr, itemsData, prevViewData, shouldRender, transforms) {\r\n    var i;\r\n    var len = arr.length - 1;\r\n    var j;\r\n    var jLen;\r\n    var ownStyles = [];\r\n    var ownModifiers = [];\r\n    var processedPos;\r\n    var modifier;\r\n    var currentTransform;\r\n    var ownTransforms = [].concat(transforms);\r\n\r\n    for (i = len; i >= 0; i -= 1) {\r\n      processedPos = this.searchProcessedElement(arr[i]);\r\n\r\n      if (!processedPos) {\r\n        arr[i]._shouldRender = shouldRender;\r\n      } else {\r\n        itemsData[i] = prevViewData[processedPos - 1];\r\n      }\r\n\r\n      if (arr[i].ty === 'fl' || arr[i].ty === 'st' || arr[i].ty === 'gf' || arr[i].ty === 'gs') {\r\n        if (!processedPos) {\r\n          itemsData[i] = this.createStyleElement(arr[i], ownTransforms);\r\n        } else {\r\n          itemsData[i].style.closed = false;\r\n        }\r\n\r\n        ownStyles.push(itemsData[i].style);\r\n      } else if (arr[i].ty === 'gr') {\r\n        if (!processedPos) {\r\n          itemsData[i] = this.createGroupElement(arr[i]);\r\n        } else {\r\n          jLen = itemsData[i].it.length;\r\n\r\n          for (j = 0; j < jLen; j += 1) {\r\n            itemsData[i].prevViewData[j] = itemsData[i].it[j];\r\n          }\r\n        }\r\n\r\n        this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, shouldRender, ownTransforms);\r\n      } else if (arr[i].ty === 'tr') {\r\n        if (!processedPos) {\r\n          currentTransform = this.createTransformElement(arr[i]);\r\n          itemsData[i] = currentTransform;\r\n        }\r\n\r\n        ownTransforms.push(itemsData[i]);\r\n        this.addTransformToStyleList(itemsData[i]);\r\n      } else if (arr[i].ty === 'sh' || arr[i].ty === 'rc' || arr[i].ty === 'el' || arr[i].ty === 'sr') {\r\n        if (!processedPos) {\r\n          itemsData[i] = this.createShapeElement(arr[i]);\r\n        }\r\n      } else if (arr[i].ty === 'tm' || arr[i].ty === 'rd' || arr[i].ty === 'pb' || arr[i].ty === 'zz' || arr[i].ty === 'op') {\r\n        if (!processedPos) {\r\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n          modifier.init(this, arr[i]);\r\n          itemsData[i] = modifier;\r\n          this.shapeModifiers.push(modifier);\r\n        } else {\r\n          modifier = itemsData[i];\r\n          modifier.closed = false;\r\n        }\r\n\r\n        ownModifiers.push(modifier);\r\n      } else if (arr[i].ty === 'rp') {\r\n        if (!processedPos) {\r\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n          itemsData[i] = modifier;\r\n          modifier.init(this, arr, i, itemsData);\r\n          this.shapeModifiers.push(modifier);\r\n          shouldRender = false;\r\n        } else {\r\n          modifier = itemsData[i];\r\n          modifier.closed = true;\r\n        }\r\n\r\n        ownModifiers.push(modifier);\r\n      }\r\n\r\n      this.addProcessedElement(arr[i], i + 1);\r\n    }\r\n\r\n    this.removeTransformFromStyleList();\r\n    this.closeStyles(ownStyles);\r\n    len = ownModifiers.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      ownModifiers[i].closed = true;\r\n    }\r\n  };\r\n\r\n  CVShapeElement.prototype.renderInnerContent = function () {\r\n    this.transformHelper.opacity = 1;\r\n    this.transformHelper._opMdf = false;\r\n    this.renderModifiers();\r\n    this.transformsManager.processSequences(this._isFirstFrame);\r\n    this.renderShape(this.transformHelper, this.shapesData, this.itemsData, true);\r\n  };\r\n\r\n  CVShapeElement.prototype.renderShapeTransform = function (parentTransform, groupTransform) {\r\n    if (parentTransform._opMdf || groupTransform.op._mdf || this._isFirstFrame) {\r\n      groupTransform.opacity = parentTransform.opacity;\r\n      groupTransform.opacity *= groupTransform.op.v;\r\n      groupTransform._opMdf = true;\r\n    }\r\n  };\r\n\r\n  CVShapeElement.prototype.drawLayer = function () {\r\n    var i;\r\n    var len = this.stylesList.length;\r\n    var j;\r\n    var jLen;\r\n    var k;\r\n    var kLen;\r\n    var elems;\r\n    var nodes;\r\n    var renderer = this.globalData.renderer;\r\n    var ctx = this.globalData.canvasContext;\r\n    var type;\r\n    var currentStyle;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      currentStyle = this.stylesList[i];\r\n      type = currentStyle.type; // Skipping style when\r\n      // Stroke width equals 0\r\n      // style should not be rendered (extra unused repeaters)\r\n      // current opacity equals 0\r\n      // global opacity equals 0\r\n\r\n      if (!((type === 'st' || type === 'gs') && currentStyle.wi === 0 || !currentStyle.data._shouldRender || currentStyle.coOp === 0 || this.globalData.currentGlobalAlpha === 0)) {\r\n        renderer.save();\r\n        elems = currentStyle.elements;\r\n\r\n        if (type === 'st' || type === 'gs') {\r\n          renderer.ctxStrokeStyle(type === 'st' ? currentStyle.co : currentStyle.grd); // ctx.strokeStyle = type === 'st' ? currentStyle.co : currentStyle.grd;\r\n\r\n          renderer.ctxLineWidth(currentStyle.wi); // ctx.lineWidth = currentStyle.wi;\r\n\r\n          renderer.ctxLineCap(currentStyle.lc); // ctx.lineCap = currentStyle.lc;\r\n\r\n          renderer.ctxLineJoin(currentStyle.lj); // ctx.lineJoin = currentStyle.lj;\r\n\r\n          renderer.ctxMiterLimit(currentStyle.ml || 0); // ctx.miterLimit = currentStyle.ml || 0;\r\n        } else {\r\n          renderer.ctxFillStyle(type === 'fl' ? currentStyle.co : currentStyle.grd); // ctx.fillStyle = type === 'fl' ? currentStyle.co : currentStyle.grd;\r\n        }\r\n\r\n        renderer.ctxOpacity(currentStyle.coOp);\r\n\r\n        if (type !== 'st' && type !== 'gs') {\r\n          ctx.beginPath();\r\n        }\r\n\r\n        renderer.ctxTransform(currentStyle.preTransforms.finalTransform.props);\r\n        jLen = elems.length;\r\n\r\n        for (j = 0; j < jLen; j += 1) {\r\n          if (type === 'st' || type === 'gs') {\r\n            ctx.beginPath();\r\n\r\n            if (currentStyle.da) {\r\n              ctx.setLineDash(currentStyle.da);\r\n              ctx.lineDashOffset = currentStyle[\"do\"];\r\n            }\r\n          }\r\n\r\n          nodes = elems[j].trNodes;\r\n          kLen = nodes.length;\r\n\r\n          for (k = 0; k < kLen; k += 1) {\r\n            if (nodes[k].t === 'm') {\r\n              ctx.moveTo(nodes[k].p[0], nodes[k].p[1]);\r\n            } else if (nodes[k].t === 'c') {\r\n              ctx.bezierCurveTo(nodes[k].pts[0], nodes[k].pts[1], nodes[k].pts[2], nodes[k].pts[3], nodes[k].pts[4], nodes[k].pts[5]);\r\n            } else {\r\n              ctx.closePath();\r\n            }\r\n          }\r\n\r\n          if (type === 'st' || type === 'gs') {\r\n            // ctx.stroke();\r\n            renderer.ctxStroke();\r\n\r\n            if (currentStyle.da) {\r\n              ctx.setLineDash(this.dashResetter);\r\n            }\r\n          }\r\n        }\r\n\r\n        if (type !== 'st' && type !== 'gs') {\r\n          // ctx.fill(currentStyle.r);\r\n          this.globalData.renderer.ctxFill(currentStyle.r);\r\n        }\r\n\r\n        renderer.restore();\r\n      }\r\n    }\r\n  };\r\n\r\n  CVShapeElement.prototype.renderShape = function (parentTransform, items, data, isMain) {\r\n    var i;\r\n    var len = items.length - 1;\r\n    var groupTransform;\r\n    groupTransform = parentTransform;\r\n\r\n    for (i = len; i >= 0; i -= 1) {\r\n      if (items[i].ty === 'tr') {\r\n        groupTransform = data[i].transform;\r\n        this.renderShapeTransform(parentTransform, groupTransform);\r\n      } else if (items[i].ty === 'sh' || items[i].ty === 'el' || items[i].ty === 'rc' || items[i].ty === 'sr') {\r\n        this.renderPath(items[i], data[i]);\r\n      } else if (items[i].ty === 'fl') {\r\n        this.renderFill(items[i], data[i], groupTransform);\r\n      } else if (items[i].ty === 'st') {\r\n        this.renderStroke(items[i], data[i], groupTransform);\r\n      } else if (items[i].ty === 'gf' || items[i].ty === 'gs') {\r\n        this.renderGradientFill(items[i], data[i], groupTransform);\r\n      } else if (items[i].ty === 'gr') {\r\n        this.renderShape(groupTransform, items[i].it, data[i].it);\r\n      } else if (items[i].ty === 'tm') {//\r\n      }\r\n    }\r\n\r\n    if (isMain) {\r\n      this.drawLayer();\r\n    }\r\n  };\r\n\r\n  CVShapeElement.prototype.renderStyledShape = function (styledShape, shape) {\r\n    if (this._isFirstFrame || shape._mdf || styledShape.transforms._mdf) {\r\n      var shapeNodes = styledShape.trNodes;\r\n      var paths = shape.paths;\r\n      var i;\r\n      var len;\r\n      var j;\r\n      var jLen = paths._length;\r\n      shapeNodes.length = 0;\r\n      var groupTransformMat = styledShape.transforms.finalTransform;\r\n\r\n      for (j = 0; j < jLen; j += 1) {\r\n        var pathNodes = paths.shapes[j];\r\n\r\n        if (pathNodes && pathNodes.v) {\r\n          len = pathNodes._length;\r\n\r\n          for (i = 1; i < len; i += 1) {\r\n            if (i === 1) {\r\n              shapeNodes.push({\r\n                t: 'm',\r\n                p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0)\r\n              });\r\n            }\r\n\r\n            shapeNodes.push({\r\n              t: 'c',\r\n              pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[i], pathNodes.v[i])\r\n            });\r\n          }\r\n\r\n          if (len === 1) {\r\n            shapeNodes.push({\r\n              t: 'm',\r\n              p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0)\r\n            });\r\n          }\r\n\r\n          if (pathNodes.c && len) {\r\n            shapeNodes.push({\r\n              t: 'c',\r\n              pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[0], pathNodes.v[0])\r\n            });\r\n            shapeNodes.push({\r\n              t: 'z'\r\n            });\r\n          }\r\n        }\r\n      }\r\n\r\n      styledShape.trNodes = shapeNodes;\r\n    }\r\n  };\r\n\r\n  CVShapeElement.prototype.renderPath = function (pathData, itemData) {\r\n    if (pathData.hd !== true && pathData._shouldRender) {\r\n      var i;\r\n      var len = itemData.styledShapes.length;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        this.renderStyledShape(itemData.styledShapes[i], itemData.sh);\r\n      }\r\n    }\r\n  };\r\n\r\n  CVShapeElement.prototype.renderFill = function (styleData, itemData, groupTransform) {\r\n    var styleElem = itemData.style;\r\n\r\n    if (itemData.c._mdf || this._isFirstFrame) {\r\n      styleElem.co = 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')';\r\n    }\r\n\r\n    if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\r\n      styleElem.coOp = itemData.o.v * groupTransform.opacity;\r\n    }\r\n  };\r\n\r\n  CVShapeElement.prototype.renderGradientFill = function (styleData, itemData, groupTransform) {\r\n    var styleElem = itemData.style;\r\n    var grd;\r\n\r\n    if (!styleElem.grd || itemData.g._mdf || itemData.s._mdf || itemData.e._mdf || styleData.t !== 1 && (itemData.h._mdf || itemData.a._mdf)) {\r\n      var ctx = this.globalData.canvasContext;\r\n      var pt1 = itemData.s.v;\r\n      var pt2 = itemData.e.v;\r\n\r\n      if (styleData.t === 1) {\r\n        grd = ctx.createLinearGradient(pt1[0], pt1[1], pt2[0], pt2[1]);\r\n      } else {\r\n        var rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\r\n        var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\r\n        var percent = itemData.h.v;\r\n\r\n        if (percent >= 1) {\r\n          percent = 0.99;\r\n        } else if (percent <= -1) {\r\n          percent = -0.99;\r\n        }\r\n\r\n        var dist = rad * percent;\r\n        var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\r\n        var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\r\n        grd = ctx.createRadialGradient(x, y, 0, pt1[0], pt1[1], rad);\r\n      }\r\n\r\n      var i;\r\n      var len = styleData.g.p;\r\n      var cValues = itemData.g.c;\r\n      var opacity = 1;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        if (itemData.g._hasOpacity && itemData.g._collapsable) {\r\n          opacity = itemData.g.o[i * 2 + 1];\r\n        }\r\n\r\n        grd.addColorStop(cValues[i * 4] / 100, 'rgba(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ',' + opacity + ')');\r\n      }\r\n\r\n      styleElem.grd = grd;\r\n    }\r\n\r\n    styleElem.coOp = itemData.o.v * groupTransform.opacity;\r\n  };\r\n\r\n  CVShapeElement.prototype.renderStroke = function (styleData, itemData, groupTransform) {\r\n    var styleElem = itemData.style;\r\n    var d = itemData.d;\r\n\r\n    if (d && (d._mdf || this._isFirstFrame)) {\r\n      styleElem.da = d.dashArray;\r\n      styleElem[\"do\"] = d.dashoffset[0];\r\n    }\r\n\r\n    if (itemData.c._mdf || this._isFirstFrame) {\r\n      styleElem.co = 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')';\r\n    }\r\n\r\n    if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\r\n      styleElem.coOp = itemData.o.v * groupTransform.opacity;\r\n    }\r\n\r\n    if (itemData.w._mdf || this._isFirstFrame) {\r\n      styleElem.wi = itemData.w.v;\r\n    }\r\n  };\r\n\r\n  CVShapeElement.prototype.destroy = function () {\r\n    this.shapesData = null;\r\n    this.globalData = null;\r\n    this.canvasContext = null;\r\n    this.stylesList.length = 0;\r\n    this.itemsData.length = 0;\r\n  };\r\n\r\n  function CVTextElement(data, globalData, comp) {\r\n    this.textSpans = [];\r\n    this.yOffset = 0;\r\n    this.fillColorAnim = false;\r\n    this.strokeColorAnim = false;\r\n    this.strokeWidthAnim = false;\r\n    this.stroke = false;\r\n    this.fill = false;\r\n    this.justifyOffset = 0;\r\n    this.currentRender = null;\r\n    this.renderType = 'canvas';\r\n    this.values = {\r\n      fill: 'rgba(0,0,0,0)',\r\n      stroke: 'rgba(0,0,0,0)',\r\n      sWidth: 0,\r\n      fValue: ''\r\n    };\r\n    this.initElement(data, globalData, comp);\r\n  }\r\n\r\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement, ITextElement], CVTextElement);\r\n  CVTextElement.prototype.tHelper = createTag('canvas').getContext('2d');\r\n\r\n  CVTextElement.prototype.buildNewText = function () {\r\n    var documentData = this.textProperty.currentData;\r\n    this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\r\n    var hasFill = false;\r\n\r\n    if (documentData.fc) {\r\n      hasFill = true;\r\n      this.values.fill = this.buildColor(documentData.fc);\r\n    } else {\r\n      this.values.fill = 'rgba(0,0,0,0)';\r\n    }\r\n\r\n    this.fill = hasFill;\r\n    var hasStroke = false;\r\n\r\n    if (documentData.sc) {\r\n      hasStroke = true;\r\n      this.values.stroke = this.buildColor(documentData.sc);\r\n      this.values.sWidth = documentData.sw;\r\n    }\r\n\r\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\r\n    var i;\r\n    var len;\r\n    var letters = documentData.l;\r\n    var matrixHelper = this.mHelper;\r\n    this.stroke = hasStroke;\r\n    this.values.fValue = documentData.finalSize + 'px ' + this.globalData.fontManager.getFontByName(documentData.f).fFamily;\r\n    len = documentData.finalText.length; // this.tHelper.font = this.values.fValue;\r\n\r\n    var charData;\r\n    var shapeData;\r\n    var k;\r\n    var kLen;\r\n    var shapes;\r\n    var j;\r\n    var jLen;\r\n    var pathNodes;\r\n    var commands;\r\n    var pathArr;\r\n    var singleShape = this.data.singleShape;\r\n    var trackingOffset = documentData.tr * 0.001 * documentData.finalSize;\r\n    var xPos = 0;\r\n    var yPos = 0;\r\n    var firstLine = true;\r\n    var cnt = 0;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\r\n      shapeData = charData && charData.data || {};\r\n      matrixHelper.reset();\r\n\r\n      if (singleShape && letters[i].n) {\r\n        xPos = -trackingOffset;\r\n        yPos += documentData.yOffset;\r\n        yPos += firstLine ? 1 : 0;\r\n        firstLine = false;\r\n      }\r\n\r\n      shapes = shapeData.shapes ? shapeData.shapes[0].it : [];\r\n      jLen = shapes.length;\r\n      matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\r\n\r\n      if (singleShape) {\r\n        this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\r\n      }\r\n\r\n      commands = createSizedArray(jLen - 1);\r\n      var commandsCounter = 0;\r\n\r\n      for (j = 0; j < jLen; j += 1) {\r\n        if (shapes[j].ty === 'sh') {\r\n          kLen = shapes[j].ks.k.i.length;\r\n          pathNodes = shapes[j].ks.k;\r\n          pathArr = [];\r\n\r\n          for (k = 1; k < kLen; k += 1) {\r\n            if (k === 1) {\r\n              pathArr.push(matrixHelper.applyToX(pathNodes.v[0][0], pathNodes.v[0][1], 0), matrixHelper.applyToY(pathNodes.v[0][0], pathNodes.v[0][1], 0));\r\n            }\r\n\r\n            pathArr.push(matrixHelper.applyToX(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToY(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToX(pathNodes.i[k][0], pathNodes.i[k][1], 0), matrixHelper.applyToY(pathNodes.i[k][0], pathNodes.i[k][1], 0), matrixHelper.applyToX(pathNodes.v[k][0], pathNodes.v[k][1], 0), matrixHelper.applyToY(pathNodes.v[k][0], pathNodes.v[k][1], 0));\r\n          }\r\n\r\n          pathArr.push(matrixHelper.applyToX(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToY(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToX(pathNodes.i[0][0], pathNodes.i[0][1], 0), matrixHelper.applyToY(pathNodes.i[0][0], pathNodes.i[0][1], 0), matrixHelper.applyToX(pathNodes.v[0][0], pathNodes.v[0][1], 0), matrixHelper.applyToY(pathNodes.v[0][0], pathNodes.v[0][1], 0));\r\n          commands[commandsCounter] = pathArr;\r\n          commandsCounter += 1;\r\n        }\r\n      }\r\n\r\n      if (singleShape) {\r\n        xPos += letters[i].l;\r\n        xPos += trackingOffset;\r\n      }\r\n\r\n      if (this.textSpans[cnt]) {\r\n        this.textSpans[cnt].elem = commands;\r\n      } else {\r\n        this.textSpans[cnt] = {\r\n          elem: commands\r\n        };\r\n      }\r\n\r\n      cnt += 1;\r\n    }\r\n  };\r\n\r\n  CVTextElement.prototype.renderInnerContent = function () {\r\n    this.validateText();\r\n    var ctx = this.canvasContext;\r\n    ctx.font = this.values.fValue;\r\n    this.globalData.renderer.ctxLineCap('butt'); // ctx.lineCap = 'butt';\r\n\r\n    this.globalData.renderer.ctxLineJoin('miter'); // ctx.lineJoin = 'miter';\r\n\r\n    this.globalData.renderer.ctxMiterLimit(4); // ctx.miterLimit = 4;\r\n\r\n    if (!this.data.singleShape) {\r\n      this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\r\n    }\r\n\r\n    var i;\r\n    var len;\r\n    var j;\r\n    var jLen;\r\n    var k;\r\n    var kLen;\r\n    var renderedLetters = this.textAnimator.renderedLetters;\r\n    var letters = this.textProperty.currentData.l;\r\n    len = letters.length;\r\n    var renderedLetter;\r\n    var lastFill = null;\r\n    var lastStroke = null;\r\n    var lastStrokeW = null;\r\n    var commands;\r\n    var pathArr;\r\n    var renderer = this.globalData.renderer;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (!letters[i].n) {\r\n        renderedLetter = renderedLetters[i];\r\n\r\n        if (renderedLetter) {\r\n          renderer.save();\r\n          renderer.ctxTransform(renderedLetter.p);\r\n          renderer.ctxOpacity(renderedLetter.o);\r\n        }\r\n\r\n        if (this.fill) {\r\n          if (renderedLetter && renderedLetter.fc) {\r\n            if (lastFill !== renderedLetter.fc) {\r\n              renderer.ctxFillStyle(renderedLetter.fc);\r\n              lastFill = renderedLetter.fc; // ctx.fillStyle = renderedLetter.fc;\r\n            }\r\n          } else if (lastFill !== this.values.fill) {\r\n            lastFill = this.values.fill;\r\n            renderer.ctxFillStyle(this.values.fill); // ctx.fillStyle = this.values.fill;\r\n          }\r\n\r\n          commands = this.textSpans[i].elem;\r\n          jLen = commands.length;\r\n          this.globalData.canvasContext.beginPath();\r\n\r\n          for (j = 0; j < jLen; j += 1) {\r\n            pathArr = commands[j];\r\n            kLen = pathArr.length;\r\n            this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\r\n\r\n            for (k = 2; k < kLen; k += 6) {\r\n              this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\r\n            }\r\n          }\r\n\r\n          this.globalData.canvasContext.closePath();\r\n          renderer.ctxFill(); // this.globalData.canvasContext.fill();\r\n          /// ctx.fillText(this.textSpans[i].val,0,0);\r\n        }\r\n\r\n        if (this.stroke) {\r\n          if (renderedLetter && renderedLetter.sw) {\r\n            if (lastStrokeW !== renderedLetter.sw) {\r\n              lastStrokeW = renderedLetter.sw;\r\n              renderer.ctxLineWidth(renderedLetter.sw); // ctx.lineWidth = renderedLetter.sw;\r\n            }\r\n          } else if (lastStrokeW !== this.values.sWidth) {\r\n            lastStrokeW = this.values.sWidth;\r\n            renderer.ctxLineWidth(this.values.sWidth); // ctx.lineWidth = this.values.sWidth;\r\n          }\r\n\r\n          if (renderedLetter && renderedLetter.sc) {\r\n            if (lastStroke !== renderedLetter.sc) {\r\n              lastStroke = renderedLetter.sc;\r\n              renderer.ctxStrokeStyle(renderedLetter.sc); // ctx.strokeStyle = renderedLetter.sc;\r\n            }\r\n          } else if (lastStroke !== this.values.stroke) {\r\n            lastStroke = this.values.stroke;\r\n            renderer.ctxStrokeStyle(this.values.stroke); // ctx.strokeStyle = this.values.stroke;\r\n          }\r\n\r\n          commands = this.textSpans[i].elem;\r\n          jLen = commands.length;\r\n          this.globalData.canvasContext.beginPath();\r\n\r\n          for (j = 0; j < jLen; j += 1) {\r\n            pathArr = commands[j];\r\n            kLen = pathArr.length;\r\n            this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\r\n\r\n            for (k = 2; k < kLen; k += 6) {\r\n              this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\r\n            }\r\n          }\r\n\r\n          this.globalData.canvasContext.closePath();\r\n          renderer.ctxStroke(); // this.globalData.canvasContext.stroke();\r\n          /// ctx.strokeText(letters[i].val,0,0);\r\n        }\r\n\r\n        if (renderedLetter) {\r\n          this.globalData.renderer.restore();\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  function CVImageElement(data, globalData, comp) {\r\n    this.assetData = globalData.getAssetData(data.refId);\r\n    this.img = globalData.imageLoader.getAsset(this.assetData);\r\n    this.initElement(data, globalData, comp);\r\n  }\r\n\r\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVImageElement);\r\n  CVImageElement.prototype.initElement = SVGShapeElement.prototype.initElement;\r\n  CVImageElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\r\n\r\n  CVImageElement.prototype.createContent = function () {\r\n    if (this.img.width && (this.assetData.w !== this.img.width || this.assetData.h !== this.img.height)) {\r\n      var canvas = createTag('canvas');\r\n      canvas.width = this.assetData.w;\r\n      canvas.height = this.assetData.h;\r\n      var ctx = canvas.getContext('2d');\r\n      var imgW = this.img.width;\r\n      var imgH = this.img.height;\r\n      var imgRel = imgW / imgH;\r\n      var canvasRel = this.assetData.w / this.assetData.h;\r\n      var widthCrop;\r\n      var heightCrop;\r\n      var par = this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio;\r\n\r\n      if (imgRel > canvasRel && par === 'xMidYMid slice' || imgRel < canvasRel && par !== 'xMidYMid slice') {\r\n        heightCrop = imgH;\r\n        widthCrop = heightCrop * canvasRel;\r\n      } else {\r\n        widthCrop = imgW;\r\n        heightCrop = widthCrop / canvasRel;\r\n      }\r\n\r\n      ctx.drawImage(this.img, (imgW - widthCrop) / 2, (imgH - heightCrop) / 2, widthCrop, heightCrop, 0, 0, this.assetData.w, this.assetData.h);\r\n      this.img = canvas;\r\n    }\r\n  };\r\n\r\n  CVImageElement.prototype.renderInnerContent = function () {\r\n    this.canvasContext.drawImage(this.img, 0, 0);\r\n  };\r\n\r\n  CVImageElement.prototype.destroy = function () {\r\n    this.img = null;\r\n  };\r\n\r\n  function CVSolidElement(data, globalData, comp) {\r\n    this.initElement(data, globalData, comp);\r\n  }\r\n\r\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVSolidElement);\r\n  CVSolidElement.prototype.initElement = SVGShapeElement.prototype.initElement;\r\n  CVSolidElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\r\n\r\n  CVSolidElement.prototype.renderInnerContent = function () {\r\n    // var ctx = this.canvasContext;\r\n    this.globalData.renderer.ctxFillStyle(this.data.sc); // ctx.fillStyle = this.data.sc;\r\n\r\n    this.globalData.renderer.ctxFillRect(0, 0, this.data.sw, this.data.sh); // ctx.fillRect(0, 0, this.data.sw, this.data.sh);\r\n    //\r\n  };\r\n\r\n  function CanvasRendererBase() {}\r\n\r\n  extendPrototype([BaseRenderer], CanvasRendererBase);\r\n\r\n  CanvasRendererBase.prototype.createShape = function (data) {\r\n    return new CVShapeElement(data, this.globalData, this);\r\n  };\r\n\r\n  CanvasRendererBase.prototype.createText = function (data) {\r\n    return new CVTextElement(data, this.globalData, this);\r\n  };\r\n\r\n  CanvasRendererBase.prototype.createImage = function (data) {\r\n    return new CVImageElement(data, this.globalData, this);\r\n  };\r\n\r\n  CanvasRendererBase.prototype.createSolid = function (data) {\r\n    return new CVSolidElement(data, this.globalData, this);\r\n  };\r\n\r\n  CanvasRendererBase.prototype.createNull = SVGRenderer.prototype.createNull;\r\n\r\n  CanvasRendererBase.prototype.ctxTransform = function (props) {\r\n    if (props[0] === 1 && props[1] === 0 && props[4] === 0 && props[5] === 1 && props[12] === 0 && props[13] === 0) {\r\n      return;\r\n    }\r\n\r\n    this.canvasContext.transform(props[0], props[1], props[4], props[5], props[12], props[13]);\r\n  };\r\n\r\n  CanvasRendererBase.prototype.ctxOpacity = function (op) {\r\n    this.canvasContext.globalAlpha *= op < 0 ? 0 : op;\r\n  };\r\n\r\n  CanvasRendererBase.prototype.ctxFillStyle = function (value) {\r\n    this.canvasContext.fillStyle = value;\r\n  };\r\n\r\n  CanvasRendererBase.prototype.ctxStrokeStyle = function (value) {\r\n    this.canvasContext.strokeStyle = value;\r\n  };\r\n\r\n  CanvasRendererBase.prototype.ctxLineWidth = function (value) {\r\n    this.canvasContext.lineWidth = value;\r\n  };\r\n\r\n  CanvasRendererBase.prototype.ctxLineCap = function (value) {\r\n    this.canvasContext.lineCap = value;\r\n  };\r\n\r\n  CanvasRendererBase.prototype.ctxLineJoin = function (value) {\r\n    this.canvasContext.lineJoin = value;\r\n  };\r\n\r\n  CanvasRendererBase.prototype.ctxMiterLimit = function (value) {\r\n    this.canvasContext.miterLimit = value;\r\n  };\r\n\r\n  CanvasRendererBase.prototype.ctxFill = function (rule) {\r\n    this.canvasContext.fill(rule);\r\n  };\r\n\r\n  CanvasRendererBase.prototype.ctxFillRect = function (x, y, w, h) {\r\n    this.canvasContext.fillRect(x, y, w, h);\r\n  };\r\n\r\n  CanvasRendererBase.prototype.ctxStroke = function () {\r\n    this.canvasContext.stroke();\r\n  };\r\n\r\n  CanvasRendererBase.prototype.reset = function () {\r\n    if (!this.renderConfig.clearCanvas) {\r\n      this.canvasContext.restore();\r\n      return;\r\n    }\r\n\r\n    this.contextData.reset();\r\n  };\r\n\r\n  CanvasRendererBase.prototype.save = function () {\r\n    this.canvasContext.save();\r\n  };\r\n\r\n  CanvasRendererBase.prototype.restore = function (actionFlag) {\r\n    if (!this.renderConfig.clearCanvas) {\r\n      this.canvasContext.restore();\r\n      return;\r\n    }\r\n\r\n    if (actionFlag) {\r\n      this.globalData.blendMode = 'source-over';\r\n    }\r\n\r\n    this.contextData.restore(actionFlag);\r\n  };\r\n\r\n  CanvasRendererBase.prototype.configAnimation = function (animData) {\r\n    if (this.animationItem.wrapper) {\r\n      this.animationItem.container = createTag('canvas');\r\n      var containerStyle = this.animationItem.container.style;\r\n      containerStyle.width = '100%';\r\n      containerStyle.height = '100%';\r\n      var origin = '0px 0px 0px';\r\n      containerStyle.transformOrigin = origin;\r\n      containerStyle.mozTransformOrigin = origin;\r\n      containerStyle.webkitTransformOrigin = origin;\r\n      containerStyle['-webkit-transform'] = origin;\r\n      containerStyle.contentVisibility = this.renderConfig.contentVisibility;\r\n      this.animationItem.wrapper.appendChild(this.animationItem.container);\r\n      this.canvasContext = this.animationItem.container.getContext('2d');\r\n\r\n      if (this.renderConfig.className) {\r\n        this.animationItem.container.setAttribute('class', this.renderConfig.className);\r\n      }\r\n\r\n      if (this.renderConfig.id) {\r\n        this.animationItem.container.setAttribute('id', this.renderConfig.id);\r\n      }\r\n    } else {\r\n      this.canvasContext = this.renderConfig.context;\r\n    }\r\n\r\n    this.contextData.setContext(this.canvasContext);\r\n    this.data = animData;\r\n    this.layers = animData.layers;\r\n    this.transformCanvas = {\r\n      w: animData.w,\r\n      h: animData.h,\r\n      sx: 0,\r\n      sy: 0,\r\n      tx: 0,\r\n      ty: 0\r\n    };\r\n    this.setupGlobalData(animData, document.body);\r\n    this.globalData.canvasContext = this.canvasContext;\r\n    this.globalData.renderer = this;\r\n    this.globalData.isDashed = false;\r\n    this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\r\n    this.globalData.transformCanvas = this.transformCanvas;\r\n    this.elements = createSizedArray(animData.layers.length);\r\n    this.updateContainerSize();\r\n  };\r\n\r\n  CanvasRendererBase.prototype.updateContainerSize = function (width, height) {\r\n    this.reset();\r\n    var elementWidth;\r\n    var elementHeight;\r\n\r\n    if (width) {\r\n      elementWidth = width;\r\n      elementHeight = height;\r\n      this.canvasContext.canvas.width = elementWidth;\r\n      this.canvasContext.canvas.height = elementHeight;\r\n    } else {\r\n      if (this.animationItem.wrapper && this.animationItem.container) {\r\n        elementWidth = this.animationItem.wrapper.offsetWidth;\r\n        elementHeight = this.animationItem.wrapper.offsetHeight;\r\n      } else {\r\n        elementWidth = this.canvasContext.canvas.width;\r\n        elementHeight = this.canvasContext.canvas.height;\r\n      }\r\n\r\n      this.canvasContext.canvas.width = elementWidth * this.renderConfig.dpr;\r\n      this.canvasContext.canvas.height = elementHeight * this.renderConfig.dpr;\r\n    }\r\n\r\n    var elementRel;\r\n    var animationRel;\r\n\r\n    if (this.renderConfig.preserveAspectRatio.indexOf('meet') !== -1 || this.renderConfig.preserveAspectRatio.indexOf('slice') !== -1) {\r\n      var par = this.renderConfig.preserveAspectRatio.split(' ');\r\n      var fillType = par[1] || 'meet';\r\n      var pos = par[0] || 'xMidYMid';\r\n      var xPos = pos.substr(0, 4);\r\n      var yPos = pos.substr(4);\r\n      elementRel = elementWidth / elementHeight;\r\n      animationRel = this.transformCanvas.w / this.transformCanvas.h;\r\n\r\n      if (animationRel > elementRel && fillType === 'meet' || animationRel < elementRel && fillType === 'slice') {\r\n        this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\r\n        this.transformCanvas.sy = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\r\n      } else {\r\n        this.transformCanvas.sx = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\r\n        this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\r\n      }\r\n\r\n      if (xPos === 'xMid' && (animationRel < elementRel && fillType === 'meet' || animationRel > elementRel && fillType === 'slice')) {\r\n        this.transformCanvas.tx = (elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) / 2 * this.renderConfig.dpr;\r\n      } else if (xPos === 'xMax' && (animationRel < elementRel && fillType === 'meet' || animationRel > elementRel && fillType === 'slice')) {\r\n        this.transformCanvas.tx = (elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) * this.renderConfig.dpr;\r\n      } else {\r\n        this.transformCanvas.tx = 0;\r\n      }\r\n\r\n      if (yPos === 'YMid' && (animationRel > elementRel && fillType === 'meet' || animationRel < elementRel && fillType === 'slice')) {\r\n        this.transformCanvas.ty = (elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w)) / 2 * this.renderConfig.dpr;\r\n      } else if (yPos === 'YMax' && (animationRel > elementRel && fillType === 'meet' || animationRel < elementRel && fillType === 'slice')) {\r\n        this.transformCanvas.ty = (elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w)) * this.renderConfig.dpr;\r\n      } else {\r\n        this.transformCanvas.ty = 0;\r\n      }\r\n    } else if (this.renderConfig.preserveAspectRatio === 'none') {\r\n      this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\r\n      this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\r\n      this.transformCanvas.tx = 0;\r\n      this.transformCanvas.ty = 0;\r\n    } else {\r\n      this.transformCanvas.sx = this.renderConfig.dpr;\r\n      this.transformCanvas.sy = this.renderConfig.dpr;\r\n      this.transformCanvas.tx = 0;\r\n      this.transformCanvas.ty = 0;\r\n    }\r\n\r\n    this.transformCanvas.props = [this.transformCanvas.sx, 0, 0, 0, 0, this.transformCanvas.sy, 0, 0, 0, 0, 1, 0, this.transformCanvas.tx, this.transformCanvas.ty, 0, 1];\r\n    /* var i, len = this.elements.length;\r\n      for(i=0;i<len;i+=1){\r\n          if(this.elements[i] && this.elements[i].data.ty === 0){\r\n              this.elements[i].resize(this.globalData.transformCanvas);\r\n          }\r\n      } */\r\n\r\n    this.ctxTransform(this.transformCanvas.props);\r\n    this.canvasContext.beginPath();\r\n    this.canvasContext.rect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\r\n    this.canvasContext.closePath();\r\n    this.canvasContext.clip();\r\n    this.renderFrame(this.renderedFrame, true);\r\n  };\r\n\r\n  CanvasRendererBase.prototype.destroy = function () {\r\n    if (this.renderConfig.clearCanvas && this.animationItem.wrapper) {\r\n      this.animationItem.wrapper.innerText = '';\r\n    }\r\n\r\n    var i;\r\n    var len = this.layers ? this.layers.length : 0;\r\n\r\n    for (i = len - 1; i >= 0; i -= 1) {\r\n      if (this.elements[i] && this.elements[i].destroy) {\r\n        this.elements[i].destroy();\r\n      }\r\n    }\r\n\r\n    this.elements.length = 0;\r\n    this.globalData.canvasContext = null;\r\n    this.animationItem.container = null;\r\n    this.destroyed = true;\r\n  };\r\n\r\n  CanvasRendererBase.prototype.renderFrame = function (num, forceRender) {\r\n    if (this.renderedFrame === num && this.renderConfig.clearCanvas === true && !forceRender || this.destroyed || num === -1) {\r\n      return;\r\n    }\r\n\r\n    this.renderedFrame = num;\r\n    this.globalData.frameNum = num - this.animationItem._isFirstFrame;\r\n    this.globalData.frameId += 1;\r\n    this.globalData._mdf = !this.renderConfig.clearCanvas || forceRender;\r\n    this.globalData.projectInterface.currentFrame = num; // console.log('--------');\r\n    // console.log('NEW: ',num);\r\n\r\n    var i;\r\n    var len = this.layers.length;\r\n\r\n    if (!this.completeLayers) {\r\n      this.checkLayers(num);\r\n    }\r\n\r\n    for (i = len - 1; i >= 0; i -= 1) {\r\n      if (this.completeLayers || this.elements[i]) {\r\n        this.elements[i].prepareFrame(num - this.layers[i].st);\r\n      }\r\n    }\r\n\r\n    if (this.globalData._mdf) {\r\n      if (this.renderConfig.clearCanvas === true) {\r\n        this.canvasContext.clearRect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\r\n      } else {\r\n        this.save();\r\n      }\r\n\r\n      for (i = len - 1; i >= 0; i -= 1) {\r\n        if (this.completeLayers || this.elements[i]) {\r\n          this.elements[i].renderFrame();\r\n        }\r\n      }\r\n\r\n      if (this.renderConfig.clearCanvas !== true) {\r\n        this.restore();\r\n      }\r\n    }\r\n  };\r\n\r\n  CanvasRendererBase.prototype.buildItem = function (pos) {\r\n    var elements = this.elements;\r\n\r\n    if (elements[pos] || this.layers[pos].ty === 99) {\r\n      return;\r\n    }\r\n\r\n    var element = this.createItem(this.layers[pos], this, this.globalData);\r\n    elements[pos] = element;\r\n    element.initExpressions();\r\n    /* if(this.layers[pos].ty === 0){\r\n          element.resize(this.globalData.transformCanvas);\r\n      } */\r\n  };\r\n\r\n  CanvasRendererBase.prototype.checkPendingElements = function () {\r\n    while (this.pendingElements.length) {\r\n      var element = this.pendingElements.pop();\r\n      element.checkParenting();\r\n    }\r\n  };\r\n\r\n  CanvasRendererBase.prototype.hide = function () {\r\n    this.animationItem.container.style.display = 'none';\r\n  };\r\n\r\n  CanvasRendererBase.prototype.show = function () {\r\n    this.animationItem.container.style.display = 'block';\r\n  };\r\n\r\n  function CanvasContext() {\r\n    this.opacity = -1;\r\n    this.transform = createTypedArray('float32', 16);\r\n    this.fillStyle = '';\r\n    this.strokeStyle = '';\r\n    this.lineWidth = '';\r\n    this.lineCap = '';\r\n    this.lineJoin = '';\r\n    this.miterLimit = '';\r\n    this.id = Math.random();\r\n  }\r\n\r\n  function CVContextData() {\r\n    this.stack = [];\r\n    this.cArrPos = 0;\r\n    this.cTr = new Matrix();\r\n    var i;\r\n    var len = 15;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      var canvasContext = new CanvasContext();\r\n      this.stack[i] = canvasContext;\r\n    }\r\n\r\n    this._length = len;\r\n    this.nativeContext = null;\r\n    this.transformMat = new Matrix();\r\n    this.currentOpacity = 1; //\r\n\r\n    this.currentFillStyle = '';\r\n    this.appliedFillStyle = ''; //\r\n\r\n    this.currentStrokeStyle = '';\r\n    this.appliedStrokeStyle = ''; //\r\n\r\n    this.currentLineWidth = '';\r\n    this.appliedLineWidth = ''; //\r\n\r\n    this.currentLineCap = '';\r\n    this.appliedLineCap = ''; //\r\n\r\n    this.currentLineJoin = '';\r\n    this.appliedLineJoin = ''; //\r\n\r\n    this.appliedMiterLimit = '';\r\n    this.currentMiterLimit = '';\r\n  }\r\n\r\n  CVContextData.prototype.duplicate = function () {\r\n    var newLength = this._length * 2;\r\n    var i = 0;\r\n\r\n    for (i = this._length; i < newLength; i += 1) {\r\n      this.stack[i] = new CanvasContext();\r\n    }\r\n\r\n    this._length = newLength;\r\n  };\r\n\r\n  CVContextData.prototype.reset = function () {\r\n    this.cArrPos = 0;\r\n    this.cTr.reset();\r\n    this.stack[this.cArrPos].opacity = 1;\r\n  };\r\n\r\n  CVContextData.prototype.restore = function (forceRestore) {\r\n    this.cArrPos -= 1;\r\n    var currentContext = this.stack[this.cArrPos];\r\n    var transform = currentContext.transform;\r\n    var i;\r\n    var arr = this.cTr.props;\r\n\r\n    for (i = 0; i < 16; i += 1) {\r\n      arr[i] = transform[i];\r\n    }\r\n\r\n    if (forceRestore) {\r\n      this.nativeContext.restore();\r\n      var prevStack = this.stack[this.cArrPos + 1];\r\n      this.appliedFillStyle = prevStack.fillStyle;\r\n      this.appliedStrokeStyle = prevStack.strokeStyle;\r\n      this.appliedLineWidth = prevStack.lineWidth;\r\n      this.appliedLineCap = prevStack.lineCap;\r\n      this.appliedLineJoin = prevStack.lineJoin;\r\n      this.appliedMiterLimit = prevStack.miterLimit;\r\n    }\r\n\r\n    this.nativeContext.setTransform(transform[0], transform[1], transform[4], transform[5], transform[12], transform[13]);\r\n\r\n    if (forceRestore || currentContext.opacity !== -1 && this.currentOpacity !== currentContext.opacity) {\r\n      this.nativeContext.globalAlpha = currentContext.opacity;\r\n      this.currentOpacity = currentContext.opacity;\r\n    }\r\n\r\n    this.currentFillStyle = currentContext.fillStyle;\r\n    this.currentStrokeStyle = currentContext.strokeStyle;\r\n    this.currentLineWidth = currentContext.lineWidth;\r\n    this.currentLineCap = currentContext.lineCap;\r\n    this.currentLineJoin = currentContext.lineJoin;\r\n    this.currentMiterLimit = currentContext.miterLimit;\r\n  };\r\n\r\n  CVContextData.prototype.save = function (saveOnNativeFlag) {\r\n    if (saveOnNativeFlag) {\r\n      this.nativeContext.save();\r\n    }\r\n\r\n    var props = this.cTr.props;\r\n\r\n    if (this._length <= this.cArrPos) {\r\n      this.duplicate();\r\n    }\r\n\r\n    var currentStack = this.stack[this.cArrPos];\r\n    var i;\r\n\r\n    for (i = 0; i < 16; i += 1) {\r\n      currentStack.transform[i] = props[i];\r\n    }\r\n\r\n    this.cArrPos += 1;\r\n    var newStack = this.stack[this.cArrPos];\r\n    newStack.opacity = currentStack.opacity;\r\n    newStack.fillStyle = currentStack.fillStyle;\r\n    newStack.strokeStyle = currentStack.strokeStyle;\r\n    newStack.lineWidth = currentStack.lineWidth;\r\n    newStack.lineCap = currentStack.lineCap;\r\n    newStack.lineJoin = currentStack.lineJoin;\r\n    newStack.miterLimit = currentStack.miterLimit;\r\n  };\r\n\r\n  CVContextData.prototype.setOpacity = function (value) {\r\n    this.stack[this.cArrPos].opacity = value;\r\n  };\r\n\r\n  CVContextData.prototype.setContext = function (value) {\r\n    this.nativeContext = value;\r\n  };\r\n\r\n  CVContextData.prototype.fillStyle = function (value) {\r\n    if (this.stack[this.cArrPos].fillStyle !== value) {\r\n      this.currentFillStyle = value;\r\n      this.stack[this.cArrPos].fillStyle = value;\r\n    }\r\n  };\r\n\r\n  CVContextData.prototype.strokeStyle = function (value) {\r\n    if (this.stack[this.cArrPos].strokeStyle !== value) {\r\n      this.currentStrokeStyle = value;\r\n      this.stack[this.cArrPos].strokeStyle = value;\r\n    }\r\n  };\r\n\r\n  CVContextData.prototype.lineWidth = function (value) {\r\n    if (this.stack[this.cArrPos].lineWidth !== value) {\r\n      this.currentLineWidth = value;\r\n      this.stack[this.cArrPos].lineWidth = value;\r\n    }\r\n  };\r\n\r\n  CVContextData.prototype.lineCap = function (value) {\r\n    if (this.stack[this.cArrPos].lineCap !== value) {\r\n      this.currentLineCap = value;\r\n      this.stack[this.cArrPos].lineCap = value;\r\n    }\r\n  };\r\n\r\n  CVContextData.prototype.lineJoin = function (value) {\r\n    if (this.stack[this.cArrPos].lineJoin !== value) {\r\n      this.currentLineJoin = value;\r\n      this.stack[this.cArrPos].lineJoin = value;\r\n    }\r\n  };\r\n\r\n  CVContextData.prototype.miterLimit = function (value) {\r\n    if (this.stack[this.cArrPos].miterLimit !== value) {\r\n      this.currentMiterLimit = value;\r\n      this.stack[this.cArrPos].miterLimit = value;\r\n    }\r\n  };\r\n\r\n  CVContextData.prototype.transform = function (props) {\r\n    this.transformMat.cloneFromProps(props); // Taking the last transform value from the stored stack of transforms\r\n\r\n    var currentTransform = this.cTr; // Applying the last transform value after the new transform to respect the order of transformations\r\n\r\n    this.transformMat.multiply(currentTransform); // Storing the new transformed value in the stored transform\r\n\r\n    currentTransform.cloneFromProps(this.transformMat.props);\r\n    var trProps = currentTransform.props; // Applying the new transform to the canvas\r\n\r\n    this.nativeContext.setTransform(trProps[0], trProps[1], trProps[4], trProps[5], trProps[12], trProps[13]);\r\n  };\r\n\r\n  CVContextData.prototype.opacity = function (op) {\r\n    var currentOpacity = this.stack[this.cArrPos].opacity;\r\n    currentOpacity *= op < 0 ? 0 : op;\r\n\r\n    if (this.stack[this.cArrPos].opacity !== currentOpacity) {\r\n      if (this.currentOpacity !== op) {\r\n        this.nativeContext.globalAlpha = op;\r\n        this.currentOpacity = op;\r\n      }\r\n\r\n      this.stack[this.cArrPos].opacity = currentOpacity;\r\n    }\r\n  };\r\n\r\n  CVContextData.prototype.fill = function (rule) {\r\n    if (this.appliedFillStyle !== this.currentFillStyle) {\r\n      this.appliedFillStyle = this.currentFillStyle;\r\n      this.nativeContext.fillStyle = this.appliedFillStyle;\r\n    }\r\n\r\n    this.nativeContext.fill(rule);\r\n  };\r\n\r\n  CVContextData.prototype.fillRect = function (x, y, w, h) {\r\n    if (this.appliedFillStyle !== this.currentFillStyle) {\r\n      this.appliedFillStyle = this.currentFillStyle;\r\n      this.nativeContext.fillStyle = this.appliedFillStyle;\r\n    }\r\n\r\n    this.nativeContext.fillRect(x, y, w, h);\r\n  };\r\n\r\n  CVContextData.prototype.stroke = function () {\r\n    if (this.appliedStrokeStyle !== this.currentStrokeStyle) {\r\n      this.appliedStrokeStyle = this.currentStrokeStyle;\r\n      this.nativeContext.strokeStyle = this.appliedStrokeStyle;\r\n    }\r\n\r\n    if (this.appliedLineWidth !== this.currentLineWidth) {\r\n      this.appliedLineWidth = this.currentLineWidth;\r\n      this.nativeContext.lineWidth = this.appliedLineWidth;\r\n    }\r\n\r\n    if (this.appliedLineCap !== this.currentLineCap) {\r\n      this.appliedLineCap = this.currentLineCap;\r\n      this.nativeContext.lineCap = this.appliedLineCap;\r\n    }\r\n\r\n    if (this.appliedLineJoin !== this.currentLineJoin) {\r\n      this.appliedLineJoin = this.currentLineJoin;\r\n      this.nativeContext.lineJoin = this.appliedLineJoin;\r\n    }\r\n\r\n    if (this.appliedMiterLimit !== this.currentMiterLimit) {\r\n      this.appliedMiterLimit = this.currentMiterLimit;\r\n      this.nativeContext.miterLimit = this.appliedMiterLimit;\r\n    }\r\n\r\n    this.nativeContext.stroke();\r\n  };\r\n\r\n  function CVCompElement(data, globalData, comp) {\r\n    this.completeLayers = false;\r\n    this.layers = data.layers;\r\n    this.pendingElements = [];\r\n    this.elements = createSizedArray(this.layers.length);\r\n    this.initElement(data, globalData, comp);\r\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\r\n      _placeholder: true\r\n    };\r\n  }\r\n\r\n  extendPrototype([CanvasRendererBase, ICompElement, CVBaseElement], CVCompElement);\r\n\r\n  CVCompElement.prototype.renderInnerContent = function () {\r\n    var ctx = this.canvasContext;\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, 0);\r\n    ctx.lineTo(this.data.w, 0);\r\n    ctx.lineTo(this.data.w, this.data.h);\r\n    ctx.lineTo(0, this.data.h);\r\n    ctx.lineTo(0, 0);\r\n    ctx.clip();\r\n    var i;\r\n    var len = this.layers.length;\r\n\r\n    for (i = len - 1; i >= 0; i -= 1) {\r\n      if (this.completeLayers || this.elements[i]) {\r\n        this.elements[i].renderFrame();\r\n      }\r\n    }\r\n  };\r\n\r\n  CVCompElement.prototype.destroy = function () {\r\n    var i;\r\n    var len = this.layers.length;\r\n\r\n    for (i = len - 1; i >= 0; i -= 1) {\r\n      if (this.elements[i]) {\r\n        this.elements[i].destroy();\r\n      }\r\n    }\r\n\r\n    this.layers = null;\r\n    this.elements = null;\r\n  };\r\n\r\n  CVCompElement.prototype.createComp = function (data) {\r\n    return new CVCompElement(data, this.globalData, this);\r\n  };\r\n\r\n  function CanvasRenderer(animationItem, config) {\r\n    this.animationItem = animationItem;\r\n    this.renderConfig = {\r\n      clearCanvas: config && config.clearCanvas !== undefined ? config.clearCanvas : true,\r\n      context: config && config.context || null,\r\n      progressiveLoad: config && config.progressiveLoad || false,\r\n      preserveAspectRatio: config && config.preserveAspectRatio || 'xMidYMid meet',\r\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\r\n      contentVisibility: config && config.contentVisibility || 'visible',\r\n      className: config && config.className || '',\r\n      id: config && config.id || '',\r\n      runExpressions: !config || config.runExpressions === undefined || config.runExpressions\r\n    };\r\n    this.renderConfig.dpr = config && config.dpr || 1;\r\n\r\n    if (this.animationItem.wrapper) {\r\n      this.renderConfig.dpr = config && config.dpr || window.devicePixelRatio || 1;\r\n    }\r\n\r\n    this.renderedFrame = -1;\r\n    this.globalData = {\r\n      frameNum: -1,\r\n      _mdf: false,\r\n      renderConfig: this.renderConfig,\r\n      currentGlobalAlpha: -1\r\n    };\r\n    this.contextData = new CVContextData();\r\n    this.elements = [];\r\n    this.pendingElements = [];\r\n    this.transformMat = new Matrix();\r\n    this.completeLayers = false;\r\n    this.rendererType = 'canvas';\r\n\r\n    if (this.renderConfig.clearCanvas) {\r\n      this.ctxTransform = this.contextData.transform.bind(this.contextData);\r\n      this.ctxOpacity = this.contextData.opacity.bind(this.contextData);\r\n      this.ctxFillStyle = this.contextData.fillStyle.bind(this.contextData);\r\n      this.ctxStrokeStyle = this.contextData.strokeStyle.bind(this.contextData);\r\n      this.ctxLineWidth = this.contextData.lineWidth.bind(this.contextData);\r\n      this.ctxLineCap = this.contextData.lineCap.bind(this.contextData);\r\n      this.ctxLineJoin = this.contextData.lineJoin.bind(this.contextData);\r\n      this.ctxMiterLimit = this.contextData.miterLimit.bind(this.contextData);\r\n      this.ctxFill = this.contextData.fill.bind(this.contextData);\r\n      this.ctxFillRect = this.contextData.fillRect.bind(this.contextData);\r\n      this.ctxStroke = this.contextData.stroke.bind(this.contextData);\r\n      this.save = this.contextData.save.bind(this.contextData);\r\n    }\r\n  }\r\n\r\n  extendPrototype([CanvasRendererBase], CanvasRenderer);\r\n\r\n  CanvasRenderer.prototype.createComp = function (data) {\r\n    return new CVCompElement(data, this.globalData, this);\r\n  };\r\n\r\n  function HBaseElement() {}\r\n\r\n  HBaseElement.prototype = {\r\n    checkBlendMode: function checkBlendMode() {},\r\n    initRendererElement: function initRendererElement() {\r\n      this.baseElement = createTag(this.data.tg || 'div');\r\n\r\n      if (this.data.hasMask) {\r\n        this.svgElement = createNS('svg');\r\n        this.layerElement = createNS('g');\r\n        this.maskedElement = this.layerElement;\r\n        this.svgElement.appendChild(this.layerElement);\r\n        this.baseElement.appendChild(this.svgElement);\r\n      } else {\r\n        this.layerElement = this.baseElement;\r\n      }\r\n\r\n      styleDiv(this.baseElement);\r\n    },\r\n    createContainerElements: function createContainerElements() {\r\n      this.renderableEffectsManager = new CVEffects(this);\r\n      this.transformedElement = this.baseElement;\r\n      this.maskedElement = this.layerElement;\r\n\r\n      if (this.data.ln) {\r\n        this.layerElement.setAttribute('id', this.data.ln);\r\n      }\r\n\r\n      if (this.data.cl) {\r\n        this.layerElement.setAttribute('class', this.data.cl);\r\n      }\r\n\r\n      if (this.data.bm !== 0) {\r\n        this.setBlendMode();\r\n      }\r\n    },\r\n    renderElement: function renderElement() {\r\n      var transformedElementStyle = this.transformedElement ? this.transformedElement.style : {};\r\n\r\n      if (this.finalTransform._matMdf) {\r\n        var matrixValue = this.finalTransform.mat.toCSS();\r\n        transformedElementStyle.transform = matrixValue;\r\n        transformedElementStyle.webkitTransform = matrixValue;\r\n      }\r\n\r\n      if (this.finalTransform._opMdf) {\r\n        transformedElementStyle.opacity = this.finalTransform.mProp.o.v;\r\n      }\r\n    },\r\n    renderFrame: function renderFrame() {\r\n      // If it is exported as hidden (data.hd === true) no need to render\r\n      // If it is not visible no need to render\r\n      if (this.data.hd || this.hidden) {\r\n        return;\r\n      }\r\n\r\n      this.renderTransform();\r\n      this.renderRenderable();\r\n      this.renderElement();\r\n      this.renderInnerContent();\r\n\r\n      if (this._isFirstFrame) {\r\n        this._isFirstFrame = false;\r\n      }\r\n    },\r\n    destroy: function destroy() {\r\n      this.layerElement = null;\r\n      this.transformedElement = null;\r\n\r\n      if (this.matteElement) {\r\n        this.matteElement = null;\r\n      }\r\n\r\n      if (this.maskManager) {\r\n        this.maskManager.destroy();\r\n        this.maskManager = null;\r\n      }\r\n    },\r\n    createRenderableComponents: function createRenderableComponents() {\r\n      this.maskManager = new MaskElement(this.data, this, this.globalData);\r\n    },\r\n    addEffects: function addEffects() {},\r\n    setMatte: function setMatte() {}\r\n  };\r\n  HBaseElement.prototype.getBaseElement = SVGBaseElement.prototype.getBaseElement;\r\n  HBaseElement.prototype.destroyBaseElement = HBaseElement.prototype.destroy;\r\n  HBaseElement.prototype.buildElementParenting = BaseRenderer.prototype.buildElementParenting;\r\n\r\n  function HSolidElement(data, globalData, comp) {\r\n    this.initElement(data, globalData, comp);\r\n  }\r\n\r\n  extendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], HSolidElement);\r\n\r\n  HSolidElement.prototype.createContent = function () {\r\n    var rect;\r\n\r\n    if (this.data.hasMask) {\r\n      rect = createNS('rect');\r\n      rect.setAttribute('width', this.data.sw);\r\n      rect.setAttribute('height', this.data.sh);\r\n      rect.setAttribute('fill', this.data.sc);\r\n      this.svgElement.setAttribute('width', this.data.sw);\r\n      this.svgElement.setAttribute('height', this.data.sh);\r\n    } else {\r\n      rect = createTag('div');\r\n      rect.style.width = this.data.sw + 'px';\r\n      rect.style.height = this.data.sh + 'px';\r\n      rect.style.backgroundColor = this.data.sc;\r\n    }\r\n\r\n    this.layerElement.appendChild(rect);\r\n  };\r\n\r\n  function HShapeElement(data, globalData, comp) {\r\n    // List of drawable elements\r\n    this.shapes = []; // Full shape data\r\n\r\n    this.shapesData = data.shapes; // List of styles that will be applied to shapes\r\n\r\n    this.stylesList = []; // List of modifiers that will be applied to shapes\r\n\r\n    this.shapeModifiers = []; // List of items in shape tree\r\n\r\n    this.itemsData = []; // List of items in previous shape tree\r\n\r\n    this.processedElements = []; // List of animated components\r\n\r\n    this.animatedContents = [];\r\n    this.shapesContainer = createNS('g');\r\n    this.initElement(data, globalData, comp); // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n    // List of elements that have been created\r\n\r\n    this.prevViewData = [];\r\n    this.currentBBox = {\r\n      x: 999999,\r\n      y: -999999,\r\n      h: 0,\r\n      w: 0\r\n    };\r\n  }\r\n\r\n  extendPrototype([BaseElement, TransformElement, HSolidElement, SVGShapeElement, HBaseElement, HierarchyElement, FrameElement, RenderableElement], HShapeElement);\r\n  HShapeElement.prototype._renderShapeFrame = HShapeElement.prototype.renderInnerContent;\r\n\r\n  HShapeElement.prototype.createContent = function () {\r\n    var cont;\r\n    this.baseElement.style.fontSize = 0;\r\n\r\n    if (this.data.hasMask) {\r\n      this.layerElement.appendChild(this.shapesContainer);\r\n      cont = this.svgElement;\r\n    } else {\r\n      cont = createNS('svg');\r\n      var size = this.comp.data ? this.comp.data : this.globalData.compSize;\r\n      cont.setAttribute('width', size.w);\r\n      cont.setAttribute('height', size.h);\r\n      cont.appendChild(this.shapesContainer);\r\n      this.layerElement.appendChild(cont);\r\n    }\r\n\r\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.shapesContainer, 0, [], true);\r\n    this.filterUniqueShapes();\r\n    this.shapeCont = cont;\r\n  };\r\n\r\n  HShapeElement.prototype.getTransformedPoint = function (transformers, point) {\r\n    var i;\r\n    var len = transformers.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      point = transformers[i].mProps.v.applyToPointArray(point[0], point[1], 0);\r\n    }\r\n\r\n    return point;\r\n  };\r\n\r\n  HShapeElement.prototype.calculateShapeBoundingBox = function (item, boundingBox) {\r\n    var shape = item.sh.v;\r\n    var transformers = item.transformers;\r\n    var i;\r\n    var len = shape._length;\r\n    var vPoint;\r\n    var oPoint;\r\n    var nextIPoint;\r\n    var nextVPoint;\r\n\r\n    if (len <= 1) {\r\n      return;\r\n    }\r\n\r\n    for (i = 0; i < len - 1; i += 1) {\r\n      vPoint = this.getTransformedPoint(transformers, shape.v[i]);\r\n      oPoint = this.getTransformedPoint(transformers, shape.o[i]);\r\n      nextIPoint = this.getTransformedPoint(transformers, shape.i[i + 1]);\r\n      nextVPoint = this.getTransformedPoint(transformers, shape.v[i + 1]);\r\n      this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\r\n    }\r\n\r\n    if (shape.c) {\r\n      vPoint = this.getTransformedPoint(transformers, shape.v[i]);\r\n      oPoint = this.getTransformedPoint(transformers, shape.o[i]);\r\n      nextIPoint = this.getTransformedPoint(transformers, shape.i[0]);\r\n      nextVPoint = this.getTransformedPoint(transformers, shape.v[0]);\r\n      this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\r\n    }\r\n  };\r\n\r\n  HShapeElement.prototype.checkBounds = function (vPoint, oPoint, nextIPoint, nextVPoint, boundingBox) {\r\n    this.getBoundsOfCurve(vPoint, oPoint, nextIPoint, nextVPoint);\r\n    var bounds = this.shapeBoundingBox;\r\n    boundingBox.x = bmMin(bounds.left, boundingBox.x);\r\n    boundingBox.xMax = bmMax(bounds.right, boundingBox.xMax);\r\n    boundingBox.y = bmMin(bounds.top, boundingBox.y);\r\n    boundingBox.yMax = bmMax(bounds.bottom, boundingBox.yMax);\r\n  };\r\n\r\n  HShapeElement.prototype.shapeBoundingBox = {\r\n    left: 0,\r\n    right: 0,\r\n    top: 0,\r\n    bottom: 0\r\n  };\r\n  HShapeElement.prototype.tempBoundingBox = {\r\n    x: 0,\r\n    xMax: 0,\r\n    y: 0,\r\n    yMax: 0,\r\n    width: 0,\r\n    height: 0\r\n  };\r\n\r\n  HShapeElement.prototype.getBoundsOfCurve = function (p0, p1, p2, p3) {\r\n    var bounds = [[p0[0], p3[0]], [p0[1], p3[1]]];\r\n\r\n    for (var a, b, c, t, b2ac, t1, t2, i = 0; i < 2; ++i) {\r\n      // eslint-disable-line no-plusplus\r\n      b = 6 * p0[i] - 12 * p1[i] + 6 * p2[i];\r\n      a = -3 * p0[i] + 9 * p1[i] - 9 * p2[i] + 3 * p3[i];\r\n      c = 3 * p1[i] - 3 * p0[i];\r\n      b |= 0; // eslint-disable-line no-bitwise\r\n\r\n      a |= 0; // eslint-disable-line no-bitwise\r\n\r\n      c |= 0; // eslint-disable-line no-bitwise\r\n\r\n      if (a === 0 && b === 0) {//\r\n      } else if (a === 0) {\r\n        t = -c / b;\r\n\r\n        if (t > 0 && t < 1) {\r\n          bounds[i].push(this.calculateF(t, p0, p1, p2, p3, i));\r\n        }\r\n      } else {\r\n        b2ac = b * b - 4 * c * a;\r\n\r\n        if (b2ac >= 0) {\r\n          t1 = (-b + bmSqrt(b2ac)) / (2 * a);\r\n          if (t1 > 0 && t1 < 1) bounds[i].push(this.calculateF(t1, p0, p1, p2, p3, i));\r\n          t2 = (-b - bmSqrt(b2ac)) / (2 * a);\r\n          if (t2 > 0 && t2 < 1) bounds[i].push(this.calculateF(t2, p0, p1, p2, p3, i));\r\n        }\r\n      }\r\n    }\r\n\r\n    this.shapeBoundingBox.left = bmMin.apply(null, bounds[0]);\r\n    this.shapeBoundingBox.top = bmMin.apply(null, bounds[1]);\r\n    this.shapeBoundingBox.right = bmMax.apply(null, bounds[0]);\r\n    this.shapeBoundingBox.bottom = bmMax.apply(null, bounds[1]);\r\n  };\r\n\r\n  HShapeElement.prototype.calculateF = function (t, p0, p1, p2, p3, i) {\r\n    return bmPow(1 - t, 3) * p0[i] + 3 * bmPow(1 - t, 2) * t * p1[i] + 3 * (1 - t) * bmPow(t, 2) * p2[i] + bmPow(t, 3) * p3[i];\r\n  };\r\n\r\n  HShapeElement.prototype.calculateBoundingBox = function (itemsData, boundingBox) {\r\n    var i;\r\n    var len = itemsData.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (itemsData[i] && itemsData[i].sh) {\r\n        this.calculateShapeBoundingBox(itemsData[i], boundingBox);\r\n      } else if (itemsData[i] && itemsData[i].it) {\r\n        this.calculateBoundingBox(itemsData[i].it, boundingBox);\r\n      } else if (itemsData[i] && itemsData[i].style && itemsData[i].w) {\r\n        this.expandStrokeBoundingBox(itemsData[i].w, boundingBox);\r\n      }\r\n    }\r\n  };\r\n\r\n  HShapeElement.prototype.expandStrokeBoundingBox = function (widthProperty, boundingBox) {\r\n    var width = 0;\r\n\r\n    if (widthProperty.keyframes) {\r\n      for (var i = 0; i < widthProperty.keyframes.length; i += 1) {\r\n        var kfw = widthProperty.keyframes[i].s;\r\n\r\n        if (kfw > width) {\r\n          width = kfw;\r\n        }\r\n      }\r\n\r\n      width *= widthProperty.mult;\r\n    } else {\r\n      width = widthProperty.v * widthProperty.mult;\r\n    }\r\n\r\n    boundingBox.x -= width;\r\n    boundingBox.xMax += width;\r\n    boundingBox.y -= width;\r\n    boundingBox.yMax += width;\r\n  };\r\n\r\n  HShapeElement.prototype.currentBoxContains = function (box) {\r\n    return this.currentBBox.x <= box.x && this.currentBBox.y <= box.y && this.currentBBox.width + this.currentBBox.x >= box.x + box.width && this.currentBBox.height + this.currentBBox.y >= box.y + box.height;\r\n  };\r\n\r\n  HShapeElement.prototype.renderInnerContent = function () {\r\n    this._renderShapeFrame();\r\n\r\n    if (!this.hidden && (this._isFirstFrame || this._mdf)) {\r\n      var tempBoundingBox = this.tempBoundingBox;\r\n      var max = 999999;\r\n      tempBoundingBox.x = max;\r\n      tempBoundingBox.xMax = -max;\r\n      tempBoundingBox.y = max;\r\n      tempBoundingBox.yMax = -max;\r\n      this.calculateBoundingBox(this.itemsData, tempBoundingBox);\r\n      tempBoundingBox.width = tempBoundingBox.xMax < tempBoundingBox.x ? 0 : tempBoundingBox.xMax - tempBoundingBox.x;\r\n      tempBoundingBox.height = tempBoundingBox.yMax < tempBoundingBox.y ? 0 : tempBoundingBox.yMax - tempBoundingBox.y; // var tempBoundingBox = this.shapeCont.getBBox();\r\n\r\n      if (this.currentBoxContains(tempBoundingBox)) {\r\n        return;\r\n      }\r\n\r\n      var changed = false;\r\n\r\n      if (this.currentBBox.w !== tempBoundingBox.width) {\r\n        this.currentBBox.w = tempBoundingBox.width;\r\n        this.shapeCont.setAttribute('width', tempBoundingBox.width);\r\n        changed = true;\r\n      }\r\n\r\n      if (this.currentBBox.h !== tempBoundingBox.height) {\r\n        this.currentBBox.h = tempBoundingBox.height;\r\n        this.shapeCont.setAttribute('height', tempBoundingBox.height);\r\n        changed = true;\r\n      }\r\n\r\n      if (changed || this.currentBBox.x !== tempBoundingBox.x || this.currentBBox.y !== tempBoundingBox.y) {\r\n        this.currentBBox.w = tempBoundingBox.width;\r\n        this.currentBBox.h = tempBoundingBox.height;\r\n        this.currentBBox.x = tempBoundingBox.x;\r\n        this.currentBBox.y = tempBoundingBox.y;\r\n        this.shapeCont.setAttribute('viewBox', this.currentBBox.x + ' ' + this.currentBBox.y + ' ' + this.currentBBox.w + ' ' + this.currentBBox.h);\r\n        var shapeStyle = this.shapeCont.style;\r\n        var shapeTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\r\n        shapeStyle.transform = shapeTransform;\r\n        shapeStyle.webkitTransform = shapeTransform;\r\n      }\r\n    }\r\n  };\r\n\r\n  function HTextElement(data, globalData, comp) {\r\n    this.textSpans = [];\r\n    this.textPaths = [];\r\n    this.currentBBox = {\r\n      x: 999999,\r\n      y: -999999,\r\n      h: 0,\r\n      w: 0\r\n    };\r\n    this.renderType = 'svg';\r\n    this.isMasked = false;\r\n    this.initElement(data, globalData, comp);\r\n  }\r\n\r\n  extendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], HTextElement);\r\n\r\n  HTextElement.prototype.createContent = function () {\r\n    this.isMasked = this.checkMasks();\r\n\r\n    if (this.isMasked) {\r\n      this.renderType = 'svg';\r\n      this.compW = this.comp.data.w;\r\n      this.compH = this.comp.data.h;\r\n      this.svgElement.setAttribute('width', this.compW);\r\n      this.svgElement.setAttribute('height', this.compH);\r\n      var g = createNS('g');\r\n      this.maskedElement.appendChild(g);\r\n      this.innerElem = g;\r\n    } else {\r\n      this.renderType = 'html';\r\n      this.innerElem = this.layerElement;\r\n    }\r\n\r\n    this.checkParenting();\r\n  };\r\n\r\n  HTextElement.prototype.buildNewText = function () {\r\n    var documentData = this.textProperty.currentData;\r\n    this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\r\n    var innerElemStyle = this.innerElem.style;\r\n    var textColor = documentData.fc ? this.buildColor(documentData.fc) : 'rgba(0,0,0,0)';\r\n    innerElemStyle.fill = textColor;\r\n    innerElemStyle.color = textColor;\r\n\r\n    if (documentData.sc) {\r\n      innerElemStyle.stroke = this.buildColor(documentData.sc);\r\n      innerElemStyle.strokeWidth = documentData.sw + 'px';\r\n    }\r\n\r\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\r\n\r\n    if (!this.globalData.fontManager.chars) {\r\n      innerElemStyle.fontSize = documentData.finalSize + 'px';\r\n      innerElemStyle.lineHeight = documentData.finalSize + 'px';\r\n\r\n      if (fontData.fClass) {\r\n        this.innerElem.className = fontData.fClass;\r\n      } else {\r\n        innerElemStyle.fontFamily = fontData.fFamily;\r\n        var fWeight = documentData.fWeight;\r\n        var fStyle = documentData.fStyle;\r\n        innerElemStyle.fontStyle = fStyle;\r\n        innerElemStyle.fontWeight = fWeight;\r\n      }\r\n    }\r\n\r\n    var i;\r\n    var len;\r\n    var letters = documentData.l;\r\n    len = letters.length;\r\n    var tSpan;\r\n    var tParent;\r\n    var tCont;\r\n    var matrixHelper = this.mHelper;\r\n    var shapes;\r\n    var shapeStr = '';\r\n    var cnt = 0;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.globalData.fontManager.chars) {\r\n        if (!this.textPaths[cnt]) {\r\n          tSpan = createNS('path');\r\n          tSpan.setAttribute('stroke-linecap', lineCapEnum[1]);\r\n          tSpan.setAttribute('stroke-linejoin', lineJoinEnum[2]);\r\n          tSpan.setAttribute('stroke-miterlimit', '4');\r\n        } else {\r\n          tSpan = this.textPaths[cnt];\r\n        }\r\n\r\n        if (!this.isMasked) {\r\n          if (this.textSpans[cnt]) {\r\n            tParent = this.textSpans[cnt];\r\n            tCont = tParent.children[0];\r\n          } else {\r\n            tParent = createTag('div');\r\n            tParent.style.lineHeight = 0;\r\n            tCont = createNS('svg');\r\n            tCont.appendChild(tSpan);\r\n            styleDiv(tParent);\r\n          }\r\n        }\r\n      } else if (!this.isMasked) {\r\n        if (this.textSpans[cnt]) {\r\n          tParent = this.textSpans[cnt];\r\n          tSpan = this.textPaths[cnt];\r\n        } else {\r\n          tParent = createTag('span');\r\n          styleDiv(tParent);\r\n          tSpan = createTag('span');\r\n          styleDiv(tSpan);\r\n          tParent.appendChild(tSpan);\r\n        }\r\n      } else {\r\n        tSpan = this.textPaths[cnt] ? this.textPaths[cnt] : createNS('text');\r\n      } // tSpan.setAttribute('visibility', 'hidden');\r\n\r\n\r\n      if (this.globalData.fontManager.chars) {\r\n        var charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\r\n        var shapeData;\r\n\r\n        if (charData) {\r\n          shapeData = charData.data;\r\n        } else {\r\n          shapeData = null;\r\n        }\r\n\r\n        matrixHelper.reset();\r\n\r\n        if (shapeData && shapeData.shapes && shapeData.shapes.length) {\r\n          shapes = shapeData.shapes[0].it;\r\n          matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\r\n          shapeStr = this.createPathShape(matrixHelper, shapes);\r\n          tSpan.setAttribute('d', shapeStr);\r\n        }\r\n\r\n        if (!this.isMasked) {\r\n          this.innerElem.appendChild(tParent);\r\n\r\n          if (shapeData && shapeData.shapes) {\r\n            // document.body.appendChild is needed to get exact measure of shape\r\n            document.body.appendChild(tCont);\r\n            var boundingBox = tCont.getBBox();\r\n            tCont.setAttribute('width', boundingBox.width + 2);\r\n            tCont.setAttribute('height', boundingBox.height + 2);\r\n            tCont.setAttribute('viewBox', boundingBox.x - 1 + ' ' + (boundingBox.y - 1) + ' ' + (boundingBox.width + 2) + ' ' + (boundingBox.height + 2));\r\n            var tContStyle = tCont.style;\r\n            var tContTranslation = 'translate(' + (boundingBox.x - 1) + 'px,' + (boundingBox.y - 1) + 'px)';\r\n            tContStyle.transform = tContTranslation;\r\n            tContStyle.webkitTransform = tContTranslation;\r\n            letters[i].yOffset = boundingBox.y - 1;\r\n          } else {\r\n            tCont.setAttribute('width', 1);\r\n            tCont.setAttribute('height', 1);\r\n          }\r\n\r\n          tParent.appendChild(tCont);\r\n        } else {\r\n          this.innerElem.appendChild(tSpan);\r\n        }\r\n      } else {\r\n        tSpan.textContent = letters[i].val;\r\n        tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\r\n\r\n        if (!this.isMasked) {\r\n          this.innerElem.appendChild(tParent); //\r\n\r\n          var tStyle = tSpan.style;\r\n          var tSpanTranslation = 'translate3d(0,' + -documentData.finalSize / 1.2 + 'px,0)';\r\n          tStyle.transform = tSpanTranslation;\r\n          tStyle.webkitTransform = tSpanTranslation;\r\n        } else {\r\n          this.innerElem.appendChild(tSpan);\r\n        }\r\n      } //\r\n\r\n\r\n      if (!this.isMasked) {\r\n        this.textSpans[cnt] = tParent;\r\n      } else {\r\n        this.textSpans[cnt] = tSpan;\r\n      }\r\n\r\n      this.textSpans[cnt].style.display = 'block';\r\n      this.textPaths[cnt] = tSpan;\r\n      cnt += 1;\r\n    }\r\n\r\n    while (cnt < this.textSpans.length) {\r\n      this.textSpans[cnt].style.display = 'none';\r\n      cnt += 1;\r\n    }\r\n  };\r\n\r\n  HTextElement.prototype.renderInnerContent = function () {\r\n    this.validateText();\r\n    var svgStyle;\r\n\r\n    if (this.data.singleShape) {\r\n      if (!this._isFirstFrame && !this.lettersChangedFlag) {\r\n        return;\r\n      }\r\n\r\n      if (this.isMasked && this.finalTransform._matMdf) {\r\n        // Todo Benchmark if using this is better than getBBox\r\n        this.svgElement.setAttribute('viewBox', -this.finalTransform.mProp.p.v[0] + ' ' + -this.finalTransform.mProp.p.v[1] + ' ' + this.compW + ' ' + this.compH);\r\n        svgStyle = this.svgElement.style;\r\n        var translation = 'translate(' + -this.finalTransform.mProp.p.v[0] + 'px,' + -this.finalTransform.mProp.p.v[1] + 'px)';\r\n        svgStyle.transform = translation;\r\n        svgStyle.webkitTransform = translation;\r\n      }\r\n    }\r\n\r\n    this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\r\n\r\n    if (!this.lettersChangedFlag && !this.textAnimator.lettersChangedFlag) {\r\n      return;\r\n    }\r\n\r\n    var i;\r\n    var len;\r\n    var count = 0;\r\n    var renderedLetters = this.textAnimator.renderedLetters;\r\n    var letters = this.textProperty.currentData.l;\r\n    len = letters.length;\r\n    var renderedLetter;\r\n    var textSpan;\r\n    var textPath;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (letters[i].n) {\r\n        count += 1;\r\n      } else {\r\n        textSpan = this.textSpans[i];\r\n        textPath = this.textPaths[i];\r\n        renderedLetter = renderedLetters[count];\r\n        count += 1;\r\n\r\n        if (renderedLetter._mdf.m) {\r\n          if (!this.isMasked) {\r\n            textSpan.style.webkitTransform = renderedLetter.m;\r\n            textSpan.style.transform = renderedLetter.m;\r\n          } else {\r\n            textSpan.setAttribute('transform', renderedLetter.m);\r\n          }\r\n        } /// /textSpan.setAttribute('opacity',renderedLetter.o);\r\n\r\n\r\n        textSpan.style.opacity = renderedLetter.o;\r\n\r\n        if (renderedLetter.sw && renderedLetter._mdf.sw) {\r\n          textPath.setAttribute('stroke-width', renderedLetter.sw);\r\n        }\r\n\r\n        if (renderedLetter.sc && renderedLetter._mdf.sc) {\r\n          textPath.setAttribute('stroke', renderedLetter.sc);\r\n        }\r\n\r\n        if (renderedLetter.fc && renderedLetter._mdf.fc) {\r\n          textPath.setAttribute('fill', renderedLetter.fc);\r\n          textPath.style.color = renderedLetter.fc;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.innerElem.getBBox && !this.hidden && (this._isFirstFrame || this._mdf)) {\r\n      var boundingBox = this.innerElem.getBBox();\r\n\r\n      if (this.currentBBox.w !== boundingBox.width) {\r\n        this.currentBBox.w = boundingBox.width;\r\n        this.svgElement.setAttribute('width', boundingBox.width);\r\n      }\r\n\r\n      if (this.currentBBox.h !== boundingBox.height) {\r\n        this.currentBBox.h = boundingBox.height;\r\n        this.svgElement.setAttribute('height', boundingBox.height);\r\n      }\r\n\r\n      var margin = 1;\r\n\r\n      if (this.currentBBox.w !== boundingBox.width + margin * 2 || this.currentBBox.h !== boundingBox.height + margin * 2 || this.currentBBox.x !== boundingBox.x - margin || this.currentBBox.y !== boundingBox.y - margin) {\r\n        this.currentBBox.w = boundingBox.width + margin * 2;\r\n        this.currentBBox.h = boundingBox.height + margin * 2;\r\n        this.currentBBox.x = boundingBox.x - margin;\r\n        this.currentBBox.y = boundingBox.y - margin;\r\n        this.svgElement.setAttribute('viewBox', this.currentBBox.x + ' ' + this.currentBBox.y + ' ' + this.currentBBox.w + ' ' + this.currentBBox.h);\r\n        svgStyle = this.svgElement.style;\r\n        var svgTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\r\n        svgStyle.transform = svgTransform;\r\n        svgStyle.webkitTransform = svgTransform;\r\n      }\r\n    }\r\n  };\r\n\r\n  function HCameraElement(data, globalData, comp) {\r\n    this.initFrame();\r\n    this.initBaseData(data, globalData, comp);\r\n    this.initHierarchy();\r\n    var getProp = PropertyFactory.getProp;\r\n    this.pe = getProp(this, data.pe, 0, 0, this);\r\n\r\n    if (data.ks.p.s) {\r\n      this.px = getProp(this, data.ks.p.x, 1, 0, this);\r\n      this.py = getProp(this, data.ks.p.y, 1, 0, this);\r\n      this.pz = getProp(this, data.ks.p.z, 1, 0, this);\r\n    } else {\r\n      this.p = getProp(this, data.ks.p, 1, 0, this);\r\n    }\r\n\r\n    if (data.ks.a) {\r\n      this.a = getProp(this, data.ks.a, 1, 0, this);\r\n    }\r\n\r\n    if (data.ks.or.k.length && data.ks.or.k[0].to) {\r\n      var i;\r\n      var len = data.ks.or.k.length;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        data.ks.or.k[i].to = null;\r\n        data.ks.or.k[i].ti = null;\r\n      }\r\n    }\r\n\r\n    this.or = getProp(this, data.ks.or, 1, degToRads, this);\r\n    this.or.sh = true;\r\n    this.rx = getProp(this, data.ks.rx, 0, degToRads, this);\r\n    this.ry = getProp(this, data.ks.ry, 0, degToRads, this);\r\n    this.rz = getProp(this, data.ks.rz, 0, degToRads, this);\r\n    this.mat = new Matrix();\r\n    this._prevMat = new Matrix();\r\n    this._isFirstFrame = true; // TODO: find a better way to make the HCamera element to be compatible with the LayerInterface and TransformInterface.\r\n\r\n    this.finalTransform = {\r\n      mProp: this\r\n    };\r\n  }\r\n\r\n  extendPrototype([BaseElement, FrameElement, HierarchyElement], HCameraElement);\r\n\r\n  HCameraElement.prototype.setup = function () {\r\n    var i;\r\n    var len = this.comp.threeDElements.length;\r\n    var comp;\r\n    var perspectiveStyle;\r\n    var containerStyle;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      // [perspectiveElem,container]\r\n      comp = this.comp.threeDElements[i];\r\n\r\n      if (comp.type === '3d') {\r\n        perspectiveStyle = comp.perspectiveElem.style;\r\n        containerStyle = comp.container.style;\r\n        var perspective = this.pe.v + 'px';\r\n        var origin = '0px 0px 0px';\r\n        var matrix = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\r\n        perspectiveStyle.perspective = perspective;\r\n        perspectiveStyle.webkitPerspective = perspective;\r\n        containerStyle.transformOrigin = origin;\r\n        containerStyle.mozTransformOrigin = origin;\r\n        containerStyle.webkitTransformOrigin = origin;\r\n        perspectiveStyle.transform = matrix;\r\n        perspectiveStyle.webkitTransform = matrix;\r\n      }\r\n    }\r\n  };\r\n\r\n  HCameraElement.prototype.createElements = function () {};\r\n\r\n  HCameraElement.prototype.hide = function () {};\r\n\r\n  HCameraElement.prototype.renderFrame = function () {\r\n    var _mdf = this._isFirstFrame;\r\n    var i;\r\n    var len;\r\n\r\n    if (this.hierarchy) {\r\n      len = this.hierarchy.length;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        _mdf = this.hierarchy[i].finalTransform.mProp._mdf || _mdf;\r\n      }\r\n    }\r\n\r\n    if (_mdf || this.pe._mdf || this.p && this.p._mdf || this.px && (this.px._mdf || this.py._mdf || this.pz._mdf) || this.rx._mdf || this.ry._mdf || this.rz._mdf || this.or._mdf || this.a && this.a._mdf) {\r\n      this.mat.reset();\r\n\r\n      if (this.hierarchy) {\r\n        len = this.hierarchy.length - 1;\r\n\r\n        for (i = len; i >= 0; i -= 1) {\r\n          var mTransf = this.hierarchy[i].finalTransform.mProp;\r\n          this.mat.translate(-mTransf.p.v[0], -mTransf.p.v[1], mTransf.p.v[2]);\r\n          this.mat.rotateX(-mTransf.or.v[0]).rotateY(-mTransf.or.v[1]).rotateZ(mTransf.or.v[2]);\r\n          this.mat.rotateX(-mTransf.rx.v).rotateY(-mTransf.ry.v).rotateZ(mTransf.rz.v);\r\n          this.mat.scale(1 / mTransf.s.v[0], 1 / mTransf.s.v[1], 1 / mTransf.s.v[2]);\r\n          this.mat.translate(mTransf.a.v[0], mTransf.a.v[1], mTransf.a.v[2]);\r\n        }\r\n      }\r\n\r\n      if (this.p) {\r\n        this.mat.translate(-this.p.v[0], -this.p.v[1], this.p.v[2]);\r\n      } else {\r\n        this.mat.translate(-this.px.v, -this.py.v, this.pz.v);\r\n      }\r\n\r\n      if (this.a) {\r\n        var diffVector;\r\n\r\n        if (this.p) {\r\n          diffVector = [this.p.v[0] - this.a.v[0], this.p.v[1] - this.a.v[1], this.p.v[2] - this.a.v[2]];\r\n        } else {\r\n          diffVector = [this.px.v - this.a.v[0], this.py.v - this.a.v[1], this.pz.v - this.a.v[2]];\r\n        }\r\n\r\n        var mag = Math.sqrt(Math.pow(diffVector[0], 2) + Math.pow(diffVector[1], 2) + Math.pow(diffVector[2], 2)); // var lookDir = getNormalizedPoint(getDiffVector(this.a.v,this.p.v));\r\n\r\n        var lookDir = [diffVector[0] / mag, diffVector[1] / mag, diffVector[2] / mag];\r\n        var lookLengthOnXZ = Math.sqrt(lookDir[2] * lookDir[2] + lookDir[0] * lookDir[0]);\r\n        var mRotationX = Math.atan2(lookDir[1], lookLengthOnXZ);\r\n        var mRotationY = Math.atan2(lookDir[0], -lookDir[2]);\r\n        this.mat.rotateY(mRotationY).rotateX(-mRotationX);\r\n      }\r\n\r\n      this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v);\r\n      this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]);\r\n      this.mat.translate(this.globalData.compSize.w / 2, this.globalData.compSize.h / 2, 0);\r\n      this.mat.translate(0, 0, this.pe.v);\r\n      var hasMatrixChanged = !this._prevMat.equals(this.mat);\r\n\r\n      if ((hasMatrixChanged || this.pe._mdf) && this.comp.threeDElements) {\r\n        len = this.comp.threeDElements.length;\r\n        var comp;\r\n        var perspectiveStyle;\r\n        var containerStyle;\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n          comp = this.comp.threeDElements[i];\r\n\r\n          if (comp.type === '3d') {\r\n            if (hasMatrixChanged) {\r\n              var matValue = this.mat.toCSS();\r\n              containerStyle = comp.container.style;\r\n              containerStyle.transform = matValue;\r\n              containerStyle.webkitTransform = matValue;\r\n            }\r\n\r\n            if (this.pe._mdf) {\r\n              perspectiveStyle = comp.perspectiveElem.style;\r\n              perspectiveStyle.perspective = this.pe.v + 'px';\r\n              perspectiveStyle.webkitPerspective = this.pe.v + 'px';\r\n            }\r\n          }\r\n        }\r\n\r\n        this.mat.clone(this._prevMat);\r\n      }\r\n    }\r\n\r\n    this._isFirstFrame = false;\r\n  };\r\n\r\n  HCameraElement.prototype.prepareFrame = function (num) {\r\n    this.prepareProperties(num, true);\r\n  };\r\n\r\n  HCameraElement.prototype.destroy = function () {};\r\n\r\n  HCameraElement.prototype.getBaseElement = function () {\r\n    return null;\r\n  };\r\n\r\n  function HImageElement(data, globalData, comp) {\r\n    this.assetData = globalData.getAssetData(data.refId);\r\n    this.initElement(data, globalData, comp);\r\n  }\r\n\r\n  extendPrototype([BaseElement, TransformElement, HBaseElement, HSolidElement, HierarchyElement, FrameElement, RenderableElement], HImageElement);\r\n\r\n  HImageElement.prototype.createContent = function () {\r\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\r\n    var img = new Image();\r\n\r\n    if (this.data.hasMask) {\r\n      this.imageElem = createNS('image');\r\n      this.imageElem.setAttribute('width', this.assetData.w + 'px');\r\n      this.imageElem.setAttribute('height', this.assetData.h + 'px');\r\n      this.imageElem.setAttributeNS('http://www.w3.org/1999/xlink', 'href', assetPath);\r\n      this.layerElement.appendChild(this.imageElem);\r\n      this.baseElement.setAttribute('width', this.assetData.w);\r\n      this.baseElement.setAttribute('height', this.assetData.h);\r\n    } else {\r\n      this.layerElement.appendChild(img);\r\n    }\r\n\r\n    img.crossOrigin = 'anonymous';\r\n    img.src = assetPath;\r\n\r\n    if (this.data.ln) {\r\n      this.baseElement.setAttribute('id', this.data.ln);\r\n    }\r\n  };\r\n\r\n  function HybridRendererBase(animationItem, config) {\r\n    this.animationItem = animationItem;\r\n    this.layers = null;\r\n    this.renderedFrame = -1;\r\n    this.renderConfig = {\r\n      className: config && config.className || '',\r\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\r\n      hideOnTransparent: !(config && config.hideOnTransparent === false),\r\n      filterSize: {\r\n        width: config && config.filterSize && config.filterSize.width || '400%',\r\n        height: config && config.filterSize && config.filterSize.height || '400%',\r\n        x: config && config.filterSize && config.filterSize.x || '-100%',\r\n        y: config && config.filterSize && config.filterSize.y || '-100%'\r\n      }\r\n    };\r\n    this.globalData = {\r\n      _mdf: false,\r\n      frameNum: -1,\r\n      renderConfig: this.renderConfig\r\n    };\r\n    this.pendingElements = [];\r\n    this.elements = [];\r\n    this.threeDElements = [];\r\n    this.destroyed = false;\r\n    this.camera = null;\r\n    this.supports3d = true;\r\n    this.rendererType = 'html';\r\n  }\r\n\r\n  extendPrototype([BaseRenderer], HybridRendererBase);\r\n  HybridRendererBase.prototype.buildItem = SVGRenderer.prototype.buildItem;\r\n\r\n  HybridRendererBase.prototype.checkPendingElements = function () {\r\n    while (this.pendingElements.length) {\r\n      var element = this.pendingElements.pop();\r\n      element.checkParenting();\r\n    }\r\n  };\r\n\r\n  HybridRendererBase.prototype.appendElementInPos = function (element, pos) {\r\n    var newDOMElement = element.getBaseElement();\r\n\r\n    if (!newDOMElement) {\r\n      return;\r\n    }\r\n\r\n    var layer = this.layers[pos];\r\n\r\n    if (!layer.ddd || !this.supports3d) {\r\n      if (this.threeDElements) {\r\n        this.addTo3dContainer(newDOMElement, pos);\r\n      } else {\r\n        var i = 0;\r\n        var nextDOMElement;\r\n        var nextLayer;\r\n        var tmpDOMElement;\r\n\r\n        while (i < pos) {\r\n          if (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement) {\r\n            nextLayer = this.elements[i];\r\n            tmpDOMElement = this.layers[i].ddd ? this.getThreeDContainerByPos(i) : nextLayer.getBaseElement();\r\n            nextDOMElement = tmpDOMElement || nextDOMElement;\r\n          }\r\n\r\n          i += 1;\r\n        }\r\n\r\n        if (nextDOMElement) {\r\n          if (!layer.ddd || !this.supports3d) {\r\n            this.layerElement.insertBefore(newDOMElement, nextDOMElement);\r\n          }\r\n        } else if (!layer.ddd || !this.supports3d) {\r\n          this.layerElement.appendChild(newDOMElement);\r\n        }\r\n      }\r\n    } else {\r\n      this.addTo3dContainer(newDOMElement, pos);\r\n    }\r\n  };\r\n\r\n  HybridRendererBase.prototype.createShape = function (data) {\r\n    if (!this.supports3d) {\r\n      return new SVGShapeElement(data, this.globalData, this);\r\n    }\r\n\r\n    return new HShapeElement(data, this.globalData, this);\r\n  };\r\n\r\n  HybridRendererBase.prototype.createText = function (data) {\r\n    if (!this.supports3d) {\r\n      return new SVGTextLottieElement(data, this.globalData, this);\r\n    }\r\n\r\n    return new HTextElement(data, this.globalData, this);\r\n  };\r\n\r\n  HybridRendererBase.prototype.createCamera = function (data) {\r\n    this.camera = new HCameraElement(data, this.globalData, this);\r\n    return this.camera;\r\n  };\r\n\r\n  HybridRendererBase.prototype.createImage = function (data) {\r\n    if (!this.supports3d) {\r\n      return new IImageElement(data, this.globalData, this);\r\n    }\r\n\r\n    return new HImageElement(data, this.globalData, this);\r\n  };\r\n\r\n  HybridRendererBase.prototype.createSolid = function (data) {\r\n    if (!this.supports3d) {\r\n      return new ISolidElement(data, this.globalData, this);\r\n    }\r\n\r\n    return new HSolidElement(data, this.globalData, this);\r\n  };\r\n\r\n  HybridRendererBase.prototype.createNull = SVGRenderer.prototype.createNull;\r\n\r\n  HybridRendererBase.prototype.getThreeDContainerByPos = function (pos) {\r\n    var i = 0;\r\n    var len = this.threeDElements.length;\r\n\r\n    while (i < len) {\r\n      if (this.threeDElements[i].startPos <= pos && this.threeDElements[i].endPos >= pos) {\r\n        return this.threeDElements[i].perspectiveElem;\r\n      }\r\n\r\n      i += 1;\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  HybridRendererBase.prototype.createThreeDContainer = function (pos, type) {\r\n    var perspectiveElem = createTag('div');\r\n    var style;\r\n    var containerStyle;\r\n    styleDiv(perspectiveElem);\r\n    var container = createTag('div');\r\n    styleDiv(container);\r\n\r\n    if (type === '3d') {\r\n      style = perspectiveElem.style;\r\n      style.width = this.globalData.compSize.w + 'px';\r\n      style.height = this.globalData.compSize.h + 'px';\r\n      var center = '50% 50%';\r\n      style.webkitTransformOrigin = center;\r\n      style.mozTransformOrigin = center;\r\n      style.transformOrigin = center;\r\n      containerStyle = container.style;\r\n      var matrix = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\r\n      containerStyle.transform = matrix;\r\n      containerStyle.webkitTransform = matrix;\r\n    }\r\n\r\n    perspectiveElem.appendChild(container); // this.resizerElem.appendChild(perspectiveElem);\r\n\r\n    var threeDContainerData = {\r\n      container: container,\r\n      perspectiveElem: perspectiveElem,\r\n      startPos: pos,\r\n      endPos: pos,\r\n      type: type\r\n    };\r\n    this.threeDElements.push(threeDContainerData);\r\n    return threeDContainerData;\r\n  };\r\n\r\n  HybridRendererBase.prototype.build3dContainers = function () {\r\n    var i;\r\n    var len = this.layers.length;\r\n    var lastThreeDContainerData;\r\n    var currentContainer = '';\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.layers[i].ddd && this.layers[i].ty !== 3) {\r\n        if (currentContainer !== '3d') {\r\n          currentContainer = '3d';\r\n          lastThreeDContainerData = this.createThreeDContainer(i, '3d');\r\n        }\r\n\r\n        lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos, i);\r\n      } else {\r\n        if (currentContainer !== '2d') {\r\n          currentContainer = '2d';\r\n          lastThreeDContainerData = this.createThreeDContainer(i, '2d');\r\n        }\r\n\r\n        lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos, i);\r\n      }\r\n    }\r\n\r\n    len = this.threeDElements.length;\r\n\r\n    for (i = len - 1; i >= 0; i -= 1) {\r\n      this.resizerElem.appendChild(this.threeDElements[i].perspectiveElem);\r\n    }\r\n  };\r\n\r\n  HybridRendererBase.prototype.addTo3dContainer = function (elem, pos) {\r\n    var i = 0;\r\n    var len = this.threeDElements.length;\r\n\r\n    while (i < len) {\r\n      if (pos <= this.threeDElements[i].endPos) {\r\n        var j = this.threeDElements[i].startPos;\r\n        var nextElement;\r\n\r\n        while (j < pos) {\r\n          if (this.elements[j] && this.elements[j].getBaseElement) {\r\n            nextElement = this.elements[j].getBaseElement();\r\n          }\r\n\r\n          j += 1;\r\n        }\r\n\r\n        if (nextElement) {\r\n          this.threeDElements[i].container.insertBefore(elem, nextElement);\r\n        } else {\r\n          this.threeDElements[i].container.appendChild(elem);\r\n        }\r\n\r\n        break;\r\n      }\r\n\r\n      i += 1;\r\n    }\r\n  };\r\n\r\n  HybridRendererBase.prototype.configAnimation = function (animData) {\r\n    var resizerElem = createTag('div');\r\n    var wrapper = this.animationItem.wrapper;\r\n    var style = resizerElem.style;\r\n    style.width = animData.w + 'px';\r\n    style.height = animData.h + 'px';\r\n    this.resizerElem = resizerElem;\r\n    styleDiv(resizerElem);\r\n    style.transformStyle = 'flat';\r\n    style.mozTransformStyle = 'flat';\r\n    style.webkitTransformStyle = 'flat';\r\n\r\n    if (this.renderConfig.className) {\r\n      resizerElem.setAttribute('class', this.renderConfig.className);\r\n    }\r\n\r\n    wrapper.appendChild(resizerElem);\r\n    style.overflow = 'hidden';\r\n    var svg = createNS('svg');\r\n    svg.setAttribute('width', '1');\r\n    svg.setAttribute('height', '1');\r\n    styleDiv(svg);\r\n    this.resizerElem.appendChild(svg);\r\n    var defs = createNS('defs');\r\n    svg.appendChild(defs);\r\n    this.data = animData; // Mask animation\r\n\r\n    this.setupGlobalData(animData, svg);\r\n    this.globalData.defs = defs;\r\n    this.layers = animData.layers;\r\n    this.layerElement = this.resizerElem;\r\n    this.build3dContainers();\r\n    this.updateContainerSize();\r\n  };\r\n\r\n  HybridRendererBase.prototype.destroy = function () {\r\n    if (this.animationItem.wrapper) {\r\n      this.animationItem.wrapper.innerText = '';\r\n    }\r\n\r\n    this.animationItem.container = null;\r\n    this.globalData.defs = null;\r\n    var i;\r\n    var len = this.layers ? this.layers.length : 0;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.elements[i] && this.elements[i].destroy) {\r\n        this.elements[i].destroy();\r\n      }\r\n    }\r\n\r\n    this.elements.length = 0;\r\n    this.destroyed = true;\r\n    this.animationItem = null;\r\n  };\r\n\r\n  HybridRendererBase.prototype.updateContainerSize = function () {\r\n    var elementWidth = this.animationItem.wrapper.offsetWidth;\r\n    var elementHeight = this.animationItem.wrapper.offsetHeight;\r\n    var elementRel = elementWidth / elementHeight;\r\n    var animationRel = this.globalData.compSize.w / this.globalData.compSize.h;\r\n    var sx;\r\n    var sy;\r\n    var tx;\r\n    var ty;\r\n\r\n    if (animationRel > elementRel) {\r\n      sx = elementWidth / this.globalData.compSize.w;\r\n      sy = elementWidth / this.globalData.compSize.w;\r\n      tx = 0;\r\n      ty = (elementHeight - this.globalData.compSize.h * (elementWidth / this.globalData.compSize.w)) / 2;\r\n    } else {\r\n      sx = elementHeight / this.globalData.compSize.h;\r\n      sy = elementHeight / this.globalData.compSize.h;\r\n      tx = (elementWidth - this.globalData.compSize.w * (elementHeight / this.globalData.compSize.h)) / 2;\r\n      ty = 0;\r\n    }\r\n\r\n    var style = this.resizerElem.style;\r\n    style.webkitTransform = 'matrix3d(' + sx + ',0,0,0,0,' + sy + ',0,0,0,0,1,0,' + tx + ',' + ty + ',0,1)';\r\n    style.transform = style.webkitTransform;\r\n  };\r\n\r\n  HybridRendererBase.prototype.renderFrame = SVGRenderer.prototype.renderFrame;\r\n\r\n  HybridRendererBase.prototype.hide = function () {\r\n    this.resizerElem.style.display = 'none';\r\n  };\r\n\r\n  HybridRendererBase.prototype.show = function () {\r\n    this.resizerElem.style.display = 'block';\r\n  };\r\n\r\n  HybridRendererBase.prototype.initItems = function () {\r\n    this.buildAllItems();\r\n\r\n    if (this.camera) {\r\n      this.camera.setup();\r\n    } else {\r\n      var cWidth = this.globalData.compSize.w;\r\n      var cHeight = this.globalData.compSize.h;\r\n      var i;\r\n      var len = this.threeDElements.length;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        var style = this.threeDElements[i].perspectiveElem.style;\r\n        style.webkitPerspective = Math.sqrt(Math.pow(cWidth, 2) + Math.pow(cHeight, 2)) + 'px';\r\n        style.perspective = style.webkitPerspective;\r\n      }\r\n    }\r\n  };\r\n\r\n  HybridRendererBase.prototype.searchExtraCompositions = function (assets) {\r\n    var i;\r\n    var len = assets.length;\r\n    var floatingContainer = createTag('div');\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (assets[i].xt) {\r\n        var comp = this.createComp(assets[i], floatingContainer, this.globalData.comp, null);\r\n        comp.initExpressions();\r\n        this.globalData.projectInterface.registerComposition(comp);\r\n      }\r\n    }\r\n  };\r\n\r\n  function HCompElement(data, globalData, comp) {\r\n    this.layers = data.layers;\r\n    this.supports3d = !data.hasMask;\r\n    this.completeLayers = false;\r\n    this.pendingElements = [];\r\n    this.elements = this.layers ? createSizedArray(this.layers.length) : [];\r\n    this.initElement(data, globalData, comp);\r\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\r\n      _placeholder: true\r\n    };\r\n  }\r\n\r\n  extendPrototype([HybridRendererBase, ICompElement, HBaseElement], HCompElement);\r\n  HCompElement.prototype._createBaseContainerElements = HCompElement.prototype.createContainerElements;\r\n\r\n  HCompElement.prototype.createContainerElements = function () {\r\n    this._createBaseContainerElements(); // divElement.style.clip = 'rect(0px, '+this.data.w+'px, '+this.data.h+'px, 0px)';\r\n\r\n\r\n    if (this.data.hasMask) {\r\n      this.svgElement.setAttribute('width', this.data.w);\r\n      this.svgElement.setAttribute('height', this.data.h);\r\n      this.transformedElement = this.baseElement;\r\n    } else {\r\n      this.transformedElement = this.layerElement;\r\n    }\r\n  };\r\n\r\n  HCompElement.prototype.addTo3dContainer = function (elem, pos) {\r\n    var j = 0;\r\n    var nextElement;\r\n\r\n    while (j < pos) {\r\n      if (this.elements[j] && this.elements[j].getBaseElement) {\r\n        nextElement = this.elements[j].getBaseElement();\r\n      }\r\n\r\n      j += 1;\r\n    }\r\n\r\n    if (nextElement) {\r\n      this.layerElement.insertBefore(elem, nextElement);\r\n    } else {\r\n      this.layerElement.appendChild(elem);\r\n    }\r\n  };\r\n\r\n  HCompElement.prototype.createComp = function (data) {\r\n    if (!this.supports3d) {\r\n      return new SVGCompElement(data, this.globalData, this);\r\n    }\r\n\r\n    return new HCompElement(data, this.globalData, this);\r\n  };\r\n\r\n  function HybridRenderer(animationItem, config) {\r\n    this.animationItem = animationItem;\r\n    this.layers = null;\r\n    this.renderedFrame = -1;\r\n    this.renderConfig = {\r\n      className: config && config.className || '',\r\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\r\n      hideOnTransparent: !(config && config.hideOnTransparent === false),\r\n      filterSize: {\r\n        width: config && config.filterSize && config.filterSize.width || '400%',\r\n        height: config && config.filterSize && config.filterSize.height || '400%',\r\n        x: config && config.filterSize && config.filterSize.x || '-100%',\r\n        y: config && config.filterSize && config.filterSize.y || '-100%'\r\n      },\r\n      runExpressions: !config || config.runExpressions === undefined || config.runExpressions\r\n    };\r\n    this.globalData = {\r\n      _mdf: false,\r\n      frameNum: -1,\r\n      renderConfig: this.renderConfig\r\n    };\r\n    this.pendingElements = [];\r\n    this.elements = [];\r\n    this.threeDElements = [];\r\n    this.destroyed = false;\r\n    this.camera = null;\r\n    this.supports3d = true;\r\n    this.rendererType = 'html';\r\n  }\r\n\r\n  extendPrototype([HybridRendererBase], HybridRenderer);\r\n\r\n  HybridRenderer.prototype.createComp = function (data) {\r\n    if (!this.supports3d) {\r\n      return new SVGCompElement(data, this.globalData, this);\r\n    }\r\n\r\n    return new HCompElement(data, this.globalData, this);\r\n  };\r\n\r\n  var CompExpressionInterface = function () {\r\n    return function (comp) {\r\n      function _thisLayerFunction(name) {\r\n        var i = 0;\r\n        var len = comp.layers.length;\r\n\r\n        while (i < len) {\r\n          if (comp.layers[i].nm === name || comp.layers[i].ind === name) {\r\n            return comp.elements[i].layerInterface;\r\n          }\r\n\r\n          i += 1;\r\n        }\r\n\r\n        return null; // return {active:false};\r\n      }\r\n\r\n      Object.defineProperty(_thisLayerFunction, '_name', {\r\n        value: comp.data.nm\r\n      });\r\n      _thisLayerFunction.layer = _thisLayerFunction;\r\n      _thisLayerFunction.pixelAspect = 1;\r\n      _thisLayerFunction.height = comp.data.h || comp.globalData.compSize.h;\r\n      _thisLayerFunction.width = comp.data.w || comp.globalData.compSize.w;\r\n      _thisLayerFunction.pixelAspect = 1;\r\n      _thisLayerFunction.frameDuration = 1 / comp.globalData.frameRate;\r\n      _thisLayerFunction.displayStartTime = 0;\r\n      _thisLayerFunction.numLayers = comp.layers.length;\r\n      return _thisLayerFunction;\r\n    };\r\n  }();\r\n\r\n  function _typeof$2(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$2 = function _typeof(obj) { return typeof obj; }; } else { _typeof$2 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$2(obj); }\r\n\r\n  /* eslint-disable */\r\n\r\n  /*\r\n   Copyright 2014 David Bau.\r\n\r\n   Permission is hereby granted, free of charge, to any person obtaining\r\n   a copy of this software and associated documentation files (the\r\n   \"Software\"), to deal in the Software without restriction, including\r\n   without limitation the rights to use, copy, modify, merge, publish,\r\n   distribute, sublicense, and/or sell copies of the Software, and to\r\n   permit persons to whom the Software is furnished to do so, subject to\r\n   the following conditions:\r\n\r\n   The above copyright notice and this permission notice shall be\r\n   included in all copies or substantial portions of the Software.\r\n\r\n   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n   EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n   MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\r\n   IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\r\n   CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\r\n   TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n   SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\n   */\r\n  function seedRandom(pool, math) {\r\n    //\r\n    // The following constants are related to IEEE 754 limits.\r\n    //\r\n    var global = this,\r\n        width = 256,\r\n        // each RC4 output is 0 <= x < 256\r\n    chunks = 6,\r\n        // at least six RC4 outputs for each double\r\n    digits = 52,\r\n        // there are 52 significant digits in a double\r\n    rngname = 'random',\r\n        // rngname: name for Math.random and Math.seedrandom\r\n    startdenom = math.pow(width, chunks),\r\n        significance = math.pow(2, digits),\r\n        overflow = significance * 2,\r\n        mask = width - 1,\r\n        nodecrypto; // node.js crypto module, initialized at the bottom.\r\n    //\r\n    // seedrandom()\r\n    // This is the seedrandom function described above.\r\n    //\r\n\r\n    function seedrandom(seed, options, callback) {\r\n      var key = [];\r\n      options = options === true ? {\r\n        entropy: true\r\n      } : options || {}; // Flatten the seed string or build one from local entropy if needed.\r\n\r\n      var shortseed = mixkey(flatten(options.entropy ? [seed, tostring(pool)] : seed === null ? autoseed() : seed, 3), key); // Use the seed to initialize an ARC4 generator.\r\n\r\n      var arc4 = new ARC4(key); // This function returns a random double in [0, 1) that contains\r\n      // randomness in every bit of the mantissa of the IEEE 754 value.\r\n\r\n      var prng = function prng() {\r\n        var n = arc4.g(chunks),\r\n            // Start with a numerator n < 2 ^ 48\r\n        d = startdenom,\r\n            //   and denominator d = 2 ^ 48.\r\n        x = 0; //   and no 'extra last byte'.\r\n\r\n        while (n < significance) {\r\n          // Fill up all significant digits by\r\n          n = (n + x) * width; //   shifting numerator and\r\n\r\n          d *= width; //   denominator and generating a\r\n\r\n          x = arc4.g(1); //   new least-significant-byte.\r\n        }\r\n\r\n        while (n >= overflow) {\r\n          // To avoid rounding up, before adding\r\n          n /= 2; //   last byte, shift everything\r\n\r\n          d /= 2; //   right using integer math until\r\n\r\n          x >>>= 1; //   we have exactly the desired bits.\r\n        }\r\n\r\n        return (n + x) / d; // Form the number within [0, 1).\r\n      };\r\n\r\n      prng.int32 = function () {\r\n        return arc4.g(4) | 0;\r\n      };\r\n\r\n      prng.quick = function () {\r\n        return arc4.g(4) / 0x100000000;\r\n      };\r\n\r\n      prng[\"double\"] = prng; // Mix the randomness into accumulated entropy.\r\n\r\n      mixkey(tostring(arc4.S), pool); // Calling convention: what to return as a function of prng, seed, is_math.\r\n\r\n      return (options.pass || callback || function (prng, seed, is_math_call, state) {\r\n        if (state) {\r\n          // Load the arc4 state from the given state if it has an S array.\r\n          if (state.S) {\r\n            copy(state, arc4);\r\n          } // Only provide the .state method if requested via options.state.\r\n\r\n\r\n          prng.state = function () {\r\n            return copy(arc4, {});\r\n          };\r\n        } // If called as a method of Math (Math.seedrandom()), mutate\r\n        // Math.random because that is how seedrandom.js has worked since v1.0.\r\n\r\n\r\n        if (is_math_call) {\r\n          math[rngname] = prng;\r\n          return seed;\r\n        } // Otherwise, it is a newer calling convention, so return the\r\n        // prng directly.\r\n        else return prng;\r\n      })(prng, shortseed, 'global' in options ? options.global : this == math, options.state);\r\n    }\r\n\r\n    math['seed' + rngname] = seedrandom; //\r\n    // ARC4\r\n    //\r\n    // An ARC4 implementation.  The constructor takes a key in the form of\r\n    // an array of at most (width) integers that should be 0 <= x < (width).\r\n    //\r\n    // The g(count) method returns a pseudorandom integer that concatenates\r\n    // the next (count) outputs from ARC4.  Its return value is a number x\r\n    // that is in the range 0 <= x < (width ^ count).\r\n    //\r\n\r\n    function ARC4(key) {\r\n      var t,\r\n          keylen = key.length,\r\n          me = this,\r\n          i = 0,\r\n          j = me.i = me.j = 0,\r\n          s = me.S = []; // The empty key [] is treated as [0].\r\n\r\n      if (!keylen) {\r\n        key = [keylen++];\r\n      } // Set up S using the standard key scheduling algorithm.\r\n\r\n\r\n      while (i < width) {\r\n        s[i] = i++;\r\n      }\r\n\r\n      for (i = 0; i < width; i++) {\r\n        s[i] = s[j = mask & j + key[i % keylen] + (t = s[i])];\r\n        s[j] = t;\r\n      } // The \"g\" method returns the next (count) outputs as one number.\r\n\r\n\r\n      me.g = function (count) {\r\n        // Using instance members instead of closure state nearly doubles speed.\r\n        var t,\r\n            r = 0,\r\n            i = me.i,\r\n            j = me.j,\r\n            s = me.S;\r\n\r\n        while (count--) {\r\n          t = s[i = mask & i + 1];\r\n          r = r * width + s[mask & (s[i] = s[j = mask & j + t]) + (s[j] = t)];\r\n        }\r\n\r\n        me.i = i;\r\n        me.j = j;\r\n        return r; // For robust unpredictability, the function call below automatically\r\n        // discards an initial batch of values.  This is called RC4-drop[256].\r\n        // See http://google.com/search?q=rsa+fluhrer+response&btnI\r\n      };\r\n    } //\r\n    // copy()\r\n    // Copies internal state of ARC4 to or from a plain object.\r\n    //\r\n\r\n\r\n    function copy(f, t) {\r\n      t.i = f.i;\r\n      t.j = f.j;\r\n      t.S = f.S.slice();\r\n      return t;\r\n    } //\r\n    // flatten()\r\n    // Converts an object tree to nested arrays of strings.\r\n    //\r\n\r\n\r\n    function flatten(obj, depth) {\r\n      var result = [],\r\n          typ = _typeof$2(obj),\r\n          prop;\r\n\r\n      if (depth && typ == 'object') {\r\n        for (prop in obj) {\r\n          try {\r\n            result.push(flatten(obj[prop], depth - 1));\r\n          } catch (e) {}\r\n        }\r\n      }\r\n\r\n      return result.length ? result : typ == 'string' ? obj : obj + '\\0';\r\n    } //\r\n    // mixkey()\r\n    // Mixes a string seed into a key that is an array of integers, and\r\n    // returns a shortened string seed that is equivalent to the result key.\r\n    //\r\n\r\n\r\n    function mixkey(seed, key) {\r\n      var stringseed = seed + '',\r\n          smear,\r\n          j = 0;\r\n\r\n      while (j < stringseed.length) {\r\n        key[mask & j] = mask & (smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++);\r\n      }\r\n\r\n      return tostring(key);\r\n    } //\r\n    // autoseed()\r\n    // Returns an object for autoseeding, using window.crypto and Node crypto\r\n    // module if available.\r\n    //\r\n\r\n\r\n    function autoseed() {\r\n      try {\r\n        if (nodecrypto) {\r\n          return tostring(nodecrypto.randomBytes(width));\r\n        }\r\n\r\n        var out = new Uint8Array(width);\r\n        (global.crypto || global.msCrypto).getRandomValues(out);\r\n        return tostring(out);\r\n      } catch (e) {\r\n        var browser = global.navigator,\r\n            plugins = browser && browser.plugins;\r\n        return [+new Date(), global, plugins, global.screen, tostring(pool)];\r\n      }\r\n    } //\r\n    // tostring()\r\n    // Converts an array of charcodes to a string\r\n    //\r\n\r\n\r\n    function tostring(a) {\r\n      return String.fromCharCode.apply(0, a);\r\n    } //\r\n    // When seedrandom.js is loaded, we immediately mix a few bits\r\n    // from the built-in RNG into the entropy pool.  Because we do\r\n    // not want to interfere with deterministic PRNG state later,\r\n    // seedrandom will not call math.random on its own again after\r\n    // initialization.\r\n    //\r\n\r\n\r\n    mixkey(math.random(), pool); //\r\n    // Nodejs and AMD support: export the implementation as a module using\r\n    // either convention.\r\n    //\r\n    // End anonymous scope, and pass initial values.\r\n  }\r\n\r\n  ;\r\n\r\n  function initialize$2(BMMath) {\r\n    seedRandom([], BMMath);\r\n  }\r\n\r\n  var propTypes = {\r\n    SHAPE: 'shape'\r\n  };\r\n\r\n  function _typeof$1(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$1 = function _typeof(obj) { return typeof obj; }; } else { _typeof$1 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$1(obj); }\r\n\r\n  var ExpressionManager = function () {\r\n    'use strict';\r\n\r\n    var ob = {};\r\n    var Math = BMMath;\r\n    var window = null;\r\n    var document = null;\r\n    var XMLHttpRequest = null;\r\n    var fetch = null;\r\n    var frames = null;\r\n    var _lottieGlobal = {};\r\n    initialize$2(BMMath);\r\n\r\n    function resetFrame() {\r\n      _lottieGlobal = {};\r\n    }\r\n\r\n    function $bm_isInstanceOfArray(arr) {\r\n      return arr.constructor === Array || arr.constructor === Float32Array;\r\n    }\r\n\r\n    function isNumerable(tOfV, v) {\r\n      return tOfV === 'number' || v instanceof Number || tOfV === 'boolean' || tOfV === 'string';\r\n    }\r\n\r\n    function $bm_neg(a) {\r\n      var tOfA = _typeof$1(a);\r\n\r\n      if (tOfA === 'number' || a instanceof Number || tOfA === 'boolean') {\r\n        return -a;\r\n      }\r\n\r\n      if ($bm_isInstanceOfArray(a)) {\r\n        var i;\r\n        var lenA = a.length;\r\n        var retArr = [];\r\n\r\n        for (i = 0; i < lenA; i += 1) {\r\n          retArr[i] = -a[i];\r\n        }\r\n\r\n        return retArr;\r\n      }\r\n\r\n      if (a.propType) {\r\n        return a.v;\r\n      }\r\n\r\n      return -a;\r\n    }\r\n\r\n    var easeInBez = BezierFactory.getBezierEasing(0.333, 0, 0.833, 0.833, 'easeIn').get;\r\n    var easeOutBez = BezierFactory.getBezierEasing(0.167, 0.167, 0.667, 1, 'easeOut').get;\r\n    var easeInOutBez = BezierFactory.getBezierEasing(0.33, 0, 0.667, 1, 'easeInOut').get;\r\n\r\n    function sum(a, b) {\r\n      var tOfA = _typeof$1(a);\r\n\r\n      var tOfB = _typeof$1(b);\r\n\r\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b) || tOfA === 'string' || tOfB === 'string') {\r\n        return a + b;\r\n      }\r\n\r\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\r\n        a = a.slice(0);\r\n        a[0] += b;\r\n        return a;\r\n      }\r\n\r\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\r\n        b = b.slice(0);\r\n        b[0] = a + b[0];\r\n        return b;\r\n      }\r\n\r\n      if ($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)) {\r\n        var i = 0;\r\n        var lenA = a.length;\r\n        var lenB = b.length;\r\n        var retArr = [];\r\n\r\n        while (i < lenA || i < lenB) {\r\n          if ((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)) {\r\n            retArr[i] = a[i] + b[i];\r\n          } else {\r\n            retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\r\n          }\r\n\r\n          i += 1;\r\n        }\r\n\r\n        return retArr;\r\n      }\r\n\r\n      return 0;\r\n    }\r\n\r\n    var add = sum;\r\n\r\n    function sub(a, b) {\r\n      var tOfA = _typeof$1(a);\r\n\r\n      var tOfB = _typeof$1(b);\r\n\r\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n        if (tOfA === 'string') {\r\n          a = parseInt(a, 10);\r\n        }\r\n\r\n        if (tOfB === 'string') {\r\n          b = parseInt(b, 10);\r\n        }\r\n\r\n        return a - b;\r\n      }\r\n\r\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\r\n        a = a.slice(0);\r\n        a[0] -= b;\r\n        return a;\r\n      }\r\n\r\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\r\n        b = b.slice(0);\r\n        b[0] = a - b[0];\r\n        return b;\r\n      }\r\n\r\n      if ($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)) {\r\n        var i = 0;\r\n        var lenA = a.length;\r\n        var lenB = b.length;\r\n        var retArr = [];\r\n\r\n        while (i < lenA || i < lenB) {\r\n          if ((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)) {\r\n            retArr[i] = a[i] - b[i];\r\n          } else {\r\n            retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\r\n          }\r\n\r\n          i += 1;\r\n        }\r\n\r\n        return retArr;\r\n      }\r\n\r\n      return 0;\r\n    }\r\n\r\n    function mul(a, b) {\r\n      var tOfA = _typeof$1(a);\r\n\r\n      var tOfB = _typeof$1(b);\r\n\r\n      var arr;\r\n\r\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n        return a * b;\r\n      }\r\n\r\n      var i;\r\n      var len;\r\n\r\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\r\n        len = a.length;\r\n        arr = createTypedArray('float32', len);\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n          arr[i] = a[i] * b;\r\n        }\r\n\r\n        return arr;\r\n      }\r\n\r\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\r\n        len = b.length;\r\n        arr = createTypedArray('float32', len);\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n          arr[i] = a * b[i];\r\n        }\r\n\r\n        return arr;\r\n      }\r\n\r\n      return 0;\r\n    }\r\n\r\n    function div(a, b) {\r\n      var tOfA = _typeof$1(a);\r\n\r\n      var tOfB = _typeof$1(b);\r\n\r\n      var arr;\r\n\r\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n        return a / b;\r\n      }\r\n\r\n      var i;\r\n      var len;\r\n\r\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\r\n        len = a.length;\r\n        arr = createTypedArray('float32', len);\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n          arr[i] = a[i] / b;\r\n        }\r\n\r\n        return arr;\r\n      }\r\n\r\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\r\n        len = b.length;\r\n        arr = createTypedArray('float32', len);\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n          arr[i] = a / b[i];\r\n        }\r\n\r\n        return arr;\r\n      }\r\n\r\n      return 0;\r\n    }\r\n\r\n    function mod(a, b) {\r\n      if (typeof a === 'string') {\r\n        a = parseInt(a, 10);\r\n      }\r\n\r\n      if (typeof b === 'string') {\r\n        b = parseInt(b, 10);\r\n      }\r\n\r\n      return a % b;\r\n    }\r\n\r\n    var $bm_sum = sum;\r\n    var $bm_sub = sub;\r\n    var $bm_mul = mul;\r\n    var $bm_div = div;\r\n    var $bm_mod = mod;\r\n\r\n    function clamp(num, min, max) {\r\n      if (min > max) {\r\n        var mm = max;\r\n        max = min;\r\n        min = mm;\r\n      }\r\n\r\n      return Math.min(Math.max(num, min), max);\r\n    }\r\n\r\n    function radiansToDegrees(val) {\r\n      return val / degToRads;\r\n    }\r\n\r\n    var radians_to_degrees = radiansToDegrees;\r\n\r\n    function degreesToRadians(val) {\r\n      return val * degToRads;\r\n    }\r\n\r\n    var degrees_to_radians = radiansToDegrees;\r\n    var helperLengthArray = [0, 0, 0, 0, 0, 0];\r\n\r\n    function length(arr1, arr2) {\r\n      if (typeof arr1 === 'number' || arr1 instanceof Number) {\r\n        arr2 = arr2 || 0;\r\n        return Math.abs(arr1 - arr2);\r\n      }\r\n\r\n      if (!arr2) {\r\n        arr2 = helperLengthArray;\r\n      }\r\n\r\n      var i;\r\n      var len = Math.min(arr1.length, arr2.length);\r\n      var addedLength = 0;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        addedLength += Math.pow(arr2[i] - arr1[i], 2);\r\n      }\r\n\r\n      return Math.sqrt(addedLength);\r\n    }\r\n\r\n    function normalize(vec) {\r\n      return div(vec, length(vec));\r\n    }\r\n\r\n    function rgbToHsl(val) {\r\n      var r = val[0];\r\n      var g = val[1];\r\n      var b = val[2];\r\n      var max = Math.max(r, g, b);\r\n      var min = Math.min(r, g, b);\r\n      var h;\r\n      var s;\r\n      var l = (max + min) / 2;\r\n\r\n      if (max === min) {\r\n        h = 0; // achromatic\r\n\r\n        s = 0; // achromatic\r\n      } else {\r\n        var d = max - min;\r\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n\r\n        switch (max) {\r\n          case r:\r\n            h = (g - b) / d + (g < b ? 6 : 0);\r\n            break;\r\n\r\n          case g:\r\n            h = (b - r) / d + 2;\r\n            break;\r\n\r\n          case b:\r\n            h = (r - g) / d + 4;\r\n            break;\r\n\r\n          default:\r\n            break;\r\n        }\r\n\r\n        h /= 6;\r\n      }\r\n\r\n      return [h, s, l, val[3]];\r\n    }\r\n\r\n    function hue2rgb(p, q, t) {\r\n      if (t < 0) t += 1;\r\n      if (t > 1) t -= 1;\r\n      if (t < 1 / 6) return p + (q - p) * 6 * t;\r\n      if (t < 1 / 2) return q;\r\n      if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\r\n      return p;\r\n    }\r\n\r\n    function hslToRgb(val) {\r\n      var h = val[0];\r\n      var s = val[1];\r\n      var l = val[2];\r\n      var r;\r\n      var g;\r\n      var b;\r\n\r\n      if (s === 0) {\r\n        r = l; // achromatic\r\n\r\n        b = l; // achromatic\r\n\r\n        g = l; // achromatic\r\n      } else {\r\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n        var p = 2 * l - q;\r\n        r = hue2rgb(p, q, h + 1 / 3);\r\n        g = hue2rgb(p, q, h);\r\n        b = hue2rgb(p, q, h - 1 / 3);\r\n      }\r\n\r\n      return [r, g, b, val[3]];\r\n    }\r\n\r\n    function linear(t, tMin, tMax, value1, value2) {\r\n      if (value1 === undefined || value2 === undefined) {\r\n        value1 = tMin;\r\n        value2 = tMax;\r\n        tMin = 0;\r\n        tMax = 1;\r\n      }\r\n\r\n      if (tMax < tMin) {\r\n        var _tMin = tMax;\r\n        tMax = tMin;\r\n        tMin = _tMin;\r\n      }\r\n\r\n      if (t <= tMin) {\r\n        return value1;\r\n      }\r\n\r\n      if (t >= tMax) {\r\n        return value2;\r\n      }\r\n\r\n      var perc = tMax === tMin ? 0 : (t - tMin) / (tMax - tMin);\r\n\r\n      if (!value1.length) {\r\n        return value1 + (value2 - value1) * perc;\r\n      }\r\n\r\n      var i;\r\n      var len = value1.length;\r\n      var arr = createTypedArray('float32', len);\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        arr[i] = value1[i] + (value2[i] - value1[i]) * perc;\r\n      }\r\n\r\n      return arr;\r\n    }\r\n\r\n    function random(min, max) {\r\n      if (max === undefined) {\r\n        if (min === undefined) {\r\n          min = 0;\r\n          max = 1;\r\n        } else {\r\n          max = min;\r\n          min = undefined;\r\n        }\r\n      }\r\n\r\n      if (max.length) {\r\n        var i;\r\n        var len = max.length;\r\n\r\n        if (!min) {\r\n          min = createTypedArray('float32', len);\r\n        }\r\n\r\n        var arr = createTypedArray('float32', len);\r\n        var rnd = BMMath.random();\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n          arr[i] = min[i] + rnd * (max[i] - min[i]);\r\n        }\r\n\r\n        return arr;\r\n      }\r\n\r\n      if (min === undefined) {\r\n        min = 0;\r\n      }\r\n\r\n      var rndm = BMMath.random();\r\n      return min + rndm * (max - min);\r\n    }\r\n\r\n    function createPath(points, inTangents, outTangents, closed) {\r\n      var i;\r\n      var len = points.length;\r\n      var path = shapePool.newElement();\r\n      path.setPathData(!!closed, len);\r\n      var arrPlaceholder = [0, 0];\r\n      var inVertexPoint;\r\n      var outVertexPoint;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        inVertexPoint = inTangents && inTangents[i] ? inTangents[i] : arrPlaceholder;\r\n        outVertexPoint = outTangents && outTangents[i] ? outTangents[i] : arrPlaceholder;\r\n        path.setTripleAt(points[i][0], points[i][1], outVertexPoint[0] + points[i][0], outVertexPoint[1] + points[i][1], inVertexPoint[0] + points[i][0], inVertexPoint[1] + points[i][1], i, true);\r\n      }\r\n\r\n      return path;\r\n    }\r\n\r\n    function initiateExpression(elem, data, property) {\r\n      // Bail out if we don't want expressions\r\n      function noOp(_value) {\r\n        return _value;\r\n      }\r\n\r\n      if (!elem.globalData.renderConfig.runExpressions) {\r\n        return noOp;\r\n      }\r\n\r\n      var val = data.x;\r\n      var needsVelocity = /velocity(?![\\w\\d])/.test(val);\r\n\r\n      var _needsRandom = val.indexOf('random') !== -1;\r\n\r\n      var elemType = elem.data.ty;\r\n      var transform;\r\n      var $bm_transform;\r\n      var content;\r\n      var effect;\r\n      var thisProperty = property;\r\n      thisProperty.valueAtTime = thisProperty.getValueAtTime;\r\n      Object.defineProperty(thisProperty, 'value', {\r\n        get: function get() {\r\n          return thisProperty.v;\r\n        }\r\n      });\r\n      elem.comp.frameDuration = 1 / elem.comp.globalData.frameRate;\r\n      elem.comp.displayStartTime = 0;\r\n      var inPoint = elem.data.ip / elem.comp.globalData.frameRate;\r\n      var outPoint = elem.data.op / elem.comp.globalData.frameRate;\r\n      var width = elem.data.sw ? elem.data.sw : 0;\r\n      var height = elem.data.sh ? elem.data.sh : 0;\r\n      var name = elem.data.nm;\r\n      var loopIn;\r\n      var loop_in;\r\n      var loopOut;\r\n      var loop_out;\r\n      var smooth;\r\n      var toWorld;\r\n      var fromWorld;\r\n      var fromComp;\r\n      var toComp;\r\n      var fromCompToSurface;\r\n      var position;\r\n      var rotation;\r\n      var anchorPoint;\r\n      var scale;\r\n      var thisLayer;\r\n      var thisComp;\r\n      var mask;\r\n      var valueAtTime;\r\n      var velocityAtTime;\r\n      var scoped_bm_rt; // val = val.replace(/(\\\\?\"|')((http)(s)?(:\\/))?\\/.*?(\\\\?\"|')/g, \"\\\"\\\"\"); // deter potential network calls\r\n\r\n      var expression_function = eval('[function _expression_function(){' + val + ';scoped_bm_rt=$bm_rt}]')[0]; // eslint-disable-line no-eval\r\n\r\n      var numKeys = property.kf ? data.k.length : 0;\r\n      var active = !this.data || this.data.hd !== true;\r\n\r\n      var wiggle = function wiggle(freq, amp) {\r\n        var iWiggle;\r\n        var j;\r\n        var lenWiggle = this.pv.length ? this.pv.length : 1;\r\n        var addedAmps = createTypedArray('float32', lenWiggle);\r\n        freq = 5;\r\n        var iterations = Math.floor(time * freq);\r\n        iWiggle = 0;\r\n        j = 0;\r\n\r\n        while (iWiggle < iterations) {\r\n          // var rnd = BMMath.random();\r\n          for (j = 0; j < lenWiggle; j += 1) {\r\n            addedAmps[j] += -amp + amp * 2 * BMMath.random(); // addedAmps[j] += -amp + amp*2*rnd;\r\n          }\r\n\r\n          iWiggle += 1;\r\n        } // var rnd2 = BMMath.random();\r\n\r\n\r\n        var periods = time * freq;\r\n        var perc = periods - Math.floor(periods);\r\n        var arr = createTypedArray('float32', lenWiggle);\r\n\r\n        if (lenWiggle > 1) {\r\n          for (j = 0; j < lenWiggle; j += 1) {\r\n            arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp * 2 * BMMath.random()) * perc; // arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp*2*rnd)*perc;\r\n            // arr[i] = this.pv[i] + addedAmp + amp1*perc + amp2*(1-perc);\r\n          }\r\n\r\n          return arr;\r\n        }\r\n\r\n        return this.pv + addedAmps[0] + (-amp + amp * 2 * BMMath.random()) * perc;\r\n      }.bind(this);\r\n\r\n      if (thisProperty.loopIn) {\r\n        loopIn = thisProperty.loopIn.bind(thisProperty);\r\n        loop_in = loopIn;\r\n      }\r\n\r\n      if (thisProperty.loopOut) {\r\n        loopOut = thisProperty.loopOut.bind(thisProperty);\r\n        loop_out = loopOut;\r\n      }\r\n\r\n      if (thisProperty.smooth) {\r\n        smooth = thisProperty.smooth.bind(thisProperty);\r\n      }\r\n\r\n      function loopInDuration(type, duration) {\r\n        return loopIn(type, duration, true);\r\n      }\r\n\r\n      function loopOutDuration(type, duration) {\r\n        return loopOut(type, duration, true);\r\n      }\r\n\r\n      if (this.getValueAtTime) {\r\n        valueAtTime = this.getValueAtTime.bind(this);\r\n      }\r\n\r\n      if (this.getVelocityAtTime) {\r\n        velocityAtTime = this.getVelocityAtTime.bind(this);\r\n      }\r\n\r\n      var comp = elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);\r\n\r\n      function lookAt(elem1, elem2) {\r\n        var fVec = [elem2[0] - elem1[0], elem2[1] - elem1[1], elem2[2] - elem1[2]];\r\n        var pitch = Math.atan2(fVec[0], Math.sqrt(fVec[1] * fVec[1] + fVec[2] * fVec[2])) / degToRads;\r\n        var yaw = -Math.atan2(fVec[1], fVec[2]) / degToRads;\r\n        return [yaw, pitch, 0];\r\n      }\r\n\r\n      function easeOut(t, tMin, tMax, val1, val2) {\r\n        return applyEase(easeOutBez, t, tMin, tMax, val1, val2);\r\n      }\r\n\r\n      function easeIn(t, tMin, tMax, val1, val2) {\r\n        return applyEase(easeInBez, t, tMin, tMax, val1, val2);\r\n      }\r\n\r\n      function ease(t, tMin, tMax, val1, val2) {\r\n        return applyEase(easeInOutBez, t, tMin, tMax, val1, val2);\r\n      }\r\n\r\n      function applyEase(fn, t, tMin, tMax, val1, val2) {\r\n        if (val1 === undefined) {\r\n          val1 = tMin;\r\n          val2 = tMax;\r\n        } else {\r\n          t = (t - tMin) / (tMax - tMin);\r\n        }\r\n\r\n        if (t > 1) {\r\n          t = 1;\r\n        } else if (t < 0) {\r\n          t = 0;\r\n        }\r\n\r\n        var mult = fn(t);\r\n\r\n        if ($bm_isInstanceOfArray(val1)) {\r\n          var iKey;\r\n          var lenKey = val1.length;\r\n          var arr = createTypedArray('float32', lenKey);\r\n\r\n          for (iKey = 0; iKey < lenKey; iKey += 1) {\r\n            arr[iKey] = (val2[iKey] - val1[iKey]) * mult + val1[iKey];\r\n          }\r\n\r\n          return arr;\r\n        }\r\n\r\n        return (val2 - val1) * mult + val1;\r\n      }\r\n\r\n      function nearestKey(time) {\r\n        var iKey;\r\n        var lenKey = data.k.length;\r\n        var index;\r\n        var keyTime;\r\n\r\n        if (!data.k.length || typeof data.k[0] === 'number') {\r\n          index = 0;\r\n          keyTime = 0;\r\n        } else {\r\n          index = -1;\r\n          time *= elem.comp.globalData.frameRate;\r\n\r\n          if (time < data.k[0].t) {\r\n            index = 1;\r\n            keyTime = data.k[0].t;\r\n          } else {\r\n            for (iKey = 0; iKey < lenKey - 1; iKey += 1) {\r\n              if (time === data.k[iKey].t) {\r\n                index = iKey + 1;\r\n                keyTime = data.k[iKey].t;\r\n                break;\r\n              } else if (time > data.k[iKey].t && time < data.k[iKey + 1].t) {\r\n                if (time - data.k[iKey].t > data.k[iKey + 1].t - time) {\r\n                  index = iKey + 2;\r\n                  keyTime = data.k[iKey + 1].t;\r\n                } else {\r\n                  index = iKey + 1;\r\n                  keyTime = data.k[iKey].t;\r\n                }\r\n\r\n                break;\r\n              }\r\n            }\r\n\r\n            if (index === -1) {\r\n              index = iKey + 1;\r\n              keyTime = data.k[iKey].t;\r\n            }\r\n          }\r\n        }\r\n\r\n        var obKey = {};\r\n        obKey.index = index;\r\n        obKey.time = keyTime / elem.comp.globalData.frameRate;\r\n        return obKey;\r\n      }\r\n\r\n      function key(ind) {\r\n        var obKey;\r\n        var iKey;\r\n        var lenKey;\r\n\r\n        if (!data.k.length || typeof data.k[0] === 'number') {\r\n          throw new Error('The property has no keyframe at index ' + ind);\r\n        }\r\n\r\n        ind -= 1;\r\n        obKey = {\r\n          time: data.k[ind].t / elem.comp.globalData.frameRate,\r\n          value: []\r\n        };\r\n        var arr = Object.prototype.hasOwnProperty.call(data.k[ind], 's') ? data.k[ind].s : data.k[ind - 1].e;\r\n        lenKey = arr.length;\r\n\r\n        for (iKey = 0; iKey < lenKey; iKey += 1) {\r\n          obKey[iKey] = arr[iKey];\r\n          obKey.value[iKey] = arr[iKey];\r\n        }\r\n\r\n        return obKey;\r\n      }\r\n\r\n      function framesToTime(fr, fps) {\r\n        if (!fps) {\r\n          fps = elem.comp.globalData.frameRate;\r\n        }\r\n\r\n        return fr / fps;\r\n      }\r\n\r\n      function timeToFrames(t, fps) {\r\n        if (!t && t !== 0) {\r\n          t = time;\r\n        }\r\n\r\n        if (!fps) {\r\n          fps = elem.comp.globalData.frameRate;\r\n        }\r\n\r\n        return t * fps;\r\n      }\r\n\r\n      function seedRandom(seed) {\r\n        BMMath.seedrandom(randSeed + seed);\r\n      }\r\n\r\n      function sourceRectAtTime() {\r\n        return elem.sourceRectAtTime();\r\n      }\r\n\r\n      function substring(init, end) {\r\n        if (typeof value === 'string') {\r\n          if (end === undefined) {\r\n            return value.substring(init);\r\n          }\r\n\r\n          return value.substring(init, end);\r\n        }\r\n\r\n        return '';\r\n      }\r\n\r\n      function substr(init, end) {\r\n        if (typeof value === 'string') {\r\n          if (end === undefined) {\r\n            return value.substr(init);\r\n          }\r\n\r\n          return value.substr(init, end);\r\n        }\r\n\r\n        return '';\r\n      }\r\n\r\n      function posterizeTime(framesPerSecond) {\r\n        time = framesPerSecond === 0 ? 0 : Math.floor(time * framesPerSecond) / framesPerSecond;\r\n        value = valueAtTime(time);\r\n      }\r\n\r\n      var time;\r\n      var velocity;\r\n      var value;\r\n      var text;\r\n      var textIndex;\r\n      var textTotal;\r\n      var selectorValue;\r\n      var index = elem.data.ind;\r\n      var hasParent = !!(elem.hierarchy && elem.hierarchy.length);\r\n      var parent;\r\n      var randSeed = Math.floor(Math.random() * 1000000);\r\n      var globalData = elem.globalData;\r\n\r\n      function executeExpression(_value) {\r\n        // globalData.pushExpression();\r\n        value = _value;\r\n\r\n        if (this.frameExpressionId === elem.globalData.frameId && this.propType !== 'textSelector') {\r\n          return value;\r\n        }\r\n\r\n        if (this.propType === 'textSelector') {\r\n          textIndex = this.textIndex;\r\n          textTotal = this.textTotal;\r\n          selectorValue = this.selectorValue;\r\n        }\r\n\r\n        if (!thisLayer) {\r\n          text = elem.layerInterface.text;\r\n          thisLayer = elem.layerInterface;\r\n          thisComp = elem.comp.compInterface;\r\n          toWorld = thisLayer.toWorld.bind(thisLayer);\r\n          fromWorld = thisLayer.fromWorld.bind(thisLayer);\r\n          fromComp = thisLayer.fromComp.bind(thisLayer);\r\n          toComp = thisLayer.toComp.bind(thisLayer);\r\n          mask = thisLayer.mask ? thisLayer.mask.bind(thisLayer) : null;\r\n          fromCompToSurface = fromComp;\r\n        }\r\n\r\n        if (!transform) {\r\n          transform = elem.layerInterface('ADBE Transform Group');\r\n          $bm_transform = transform;\r\n\r\n          if (transform) {\r\n            anchorPoint = transform.anchorPoint;\r\n            /* position = transform.position;\r\n                      rotation = transform.rotation;\r\n                      scale = transform.scale; */\r\n          }\r\n        }\r\n\r\n        if (elemType === 4 && !content) {\r\n          content = thisLayer('ADBE Root Vectors Group');\r\n        }\r\n\r\n        if (!effect) {\r\n          effect = thisLayer(4);\r\n        }\r\n\r\n        hasParent = !!(elem.hierarchy && elem.hierarchy.length);\r\n\r\n        if (hasParent && !parent) {\r\n          parent = elem.hierarchy[0].layerInterface;\r\n        }\r\n\r\n        time = this.comp.renderedFrame / this.comp.globalData.frameRate;\r\n\r\n        if (_needsRandom) {\r\n          seedRandom(randSeed + time);\r\n        }\r\n\r\n        if (needsVelocity) {\r\n          velocity = velocityAtTime(time);\r\n        }\r\n\r\n        expression_function();\r\n        this.frameExpressionId = elem.globalData.frameId; // TODO: Check if it's possible to return on ShapeInterface the .v value\r\n        // Changed this to a ternary operation because Rollup failed compiling it correctly\r\n\r\n        scoped_bm_rt = scoped_bm_rt.propType === propTypes.SHAPE ? scoped_bm_rt.v : scoped_bm_rt;\r\n        return scoped_bm_rt;\r\n      } // Bundlers will see these as dead code and unless we reference them\r\n\r\n\r\n      executeExpression.__preventDeadCodeRemoval = [$bm_transform, anchorPoint, time, velocity, inPoint, outPoint, width, height, name, loop_in, loop_out, smooth, toComp, fromCompToSurface, toWorld, fromWorld, mask, position, rotation, scale, thisComp, numKeys, active, wiggle, loopInDuration, loopOutDuration, comp, lookAt, easeOut, easeIn, ease, nearestKey, key, text, textIndex, textTotal, selectorValue, framesToTime, timeToFrames, sourceRectAtTime, substring, substr, posterizeTime, index, globalData];\r\n      return executeExpression;\r\n    }\r\n\r\n    ob.initiateExpression = initiateExpression;\r\n    ob.__preventDeadCodeRemoval = [window, document, XMLHttpRequest, fetch, frames, $bm_neg, add, $bm_sum, $bm_sub, $bm_mul, $bm_div, $bm_mod, clamp, radians_to_degrees, degreesToRadians, degrees_to_radians, normalize, rgbToHsl, hslToRgb, linear, random, createPath, _lottieGlobal];\r\n    ob.resetFrame = resetFrame;\r\n    return ob;\r\n  }();\r\n\r\n  var Expressions = function () {\r\n    var ob = {};\r\n    ob.initExpressions = initExpressions;\r\n    ob.resetFrame = ExpressionManager.resetFrame;\r\n\r\n    function initExpressions(animation) {\r\n      var stackCount = 0;\r\n      var registers = [];\r\n\r\n      function pushExpression() {\r\n        stackCount += 1;\r\n      }\r\n\r\n      function popExpression() {\r\n        stackCount -= 1;\r\n\r\n        if (stackCount === 0) {\r\n          releaseInstances();\r\n        }\r\n      }\r\n\r\n      function registerExpressionProperty(expression) {\r\n        if (registers.indexOf(expression) === -1) {\r\n          registers.push(expression);\r\n        }\r\n      }\r\n\r\n      function releaseInstances() {\r\n        var i;\r\n        var len = registers.length;\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n          registers[i].release();\r\n        }\r\n\r\n        registers.length = 0;\r\n      }\r\n\r\n      animation.renderer.compInterface = CompExpressionInterface(animation.renderer);\r\n      animation.renderer.globalData.projectInterface.registerComposition(animation.renderer);\r\n      animation.renderer.globalData.pushExpression = pushExpression;\r\n      animation.renderer.globalData.popExpression = popExpression;\r\n      animation.renderer.globalData.registerExpressionProperty = registerExpressionProperty;\r\n    }\r\n\r\n    return ob;\r\n  }();\r\n\r\n  var MaskManagerInterface = function () {\r\n    function MaskInterface(mask, data) {\r\n      this._mask = mask;\r\n      this._data = data;\r\n    }\r\n\r\n    Object.defineProperty(MaskInterface.prototype, 'maskPath', {\r\n      get: function get() {\r\n        if (this._mask.prop.k) {\r\n          this._mask.prop.getValue();\r\n        }\r\n\r\n        return this._mask.prop;\r\n      }\r\n    });\r\n    Object.defineProperty(MaskInterface.prototype, 'maskOpacity', {\r\n      get: function get() {\r\n        if (this._mask.op.k) {\r\n          this._mask.op.getValue();\r\n        }\r\n\r\n        return this._mask.op.v * 100;\r\n      }\r\n    });\r\n\r\n    var MaskManager = function MaskManager(maskManager) {\r\n      var _masksInterfaces = createSizedArray(maskManager.viewData.length);\r\n\r\n      var i;\r\n      var len = maskManager.viewData.length;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        _masksInterfaces[i] = new MaskInterface(maskManager.viewData[i], maskManager.masksProperties[i]);\r\n      }\r\n\r\n      var maskFunction = function maskFunction(name) {\r\n        i = 0;\r\n\r\n        while (i < len) {\r\n          if (maskManager.masksProperties[i].nm === name) {\r\n            return _masksInterfaces[i];\r\n          }\r\n\r\n          i += 1;\r\n        }\r\n\r\n        return null;\r\n      };\r\n\r\n      return maskFunction;\r\n    };\r\n\r\n    return MaskManager;\r\n  }();\r\n\r\n  var ExpressionPropertyInterface = function () {\r\n    var defaultUnidimensionalValue = {\r\n      pv: 0,\r\n      v: 0,\r\n      mult: 1\r\n    };\r\n    var defaultMultidimensionalValue = {\r\n      pv: [0, 0, 0],\r\n      v: [0, 0, 0],\r\n      mult: 1\r\n    };\r\n\r\n    function completeProperty(expressionValue, property, type) {\r\n      Object.defineProperty(expressionValue, 'velocity', {\r\n        get: function get() {\r\n          return property.getVelocityAtTime(property.comp.currentFrame);\r\n        }\r\n      });\r\n      expressionValue.numKeys = property.keyframes ? property.keyframes.length : 0;\r\n\r\n      expressionValue.key = function (pos) {\r\n        if (!expressionValue.numKeys) {\r\n          return 0;\r\n        }\r\n\r\n        var value = '';\r\n\r\n        if ('s' in property.keyframes[pos - 1]) {\r\n          value = property.keyframes[pos - 1].s;\r\n        } else if ('e' in property.keyframes[pos - 2]) {\r\n          value = property.keyframes[pos - 2].e;\r\n        } else {\r\n          value = property.keyframes[pos - 2].s;\r\n        }\r\n\r\n        var valueProp = type === 'unidimensional' ? new Number(value) : Object.assign({}, value); // eslint-disable-line no-new-wrappers\r\n\r\n        valueProp.time = property.keyframes[pos - 1].t / property.elem.comp.globalData.frameRate;\r\n        valueProp.value = type === 'unidimensional' ? value[0] : value;\r\n        return valueProp;\r\n      };\r\n\r\n      expressionValue.valueAtTime = property.getValueAtTime;\r\n      expressionValue.speedAtTime = property.getSpeedAtTime;\r\n      expressionValue.velocityAtTime = property.getVelocityAtTime;\r\n      expressionValue.propertyGroup = property.propertyGroup;\r\n    }\r\n\r\n    function UnidimensionalPropertyInterface(property) {\r\n      if (!property || !('pv' in property)) {\r\n        property = defaultUnidimensionalValue;\r\n      }\r\n\r\n      var mult = 1 / property.mult;\r\n      var val = property.pv * mult;\r\n      var expressionValue = new Number(val); // eslint-disable-line no-new-wrappers\r\n\r\n      expressionValue.value = val;\r\n      completeProperty(expressionValue, property, 'unidimensional');\r\n      return function () {\r\n        if (property.k) {\r\n          property.getValue();\r\n        }\r\n\r\n        val = property.v * mult;\r\n\r\n        if (expressionValue.value !== val) {\r\n          expressionValue = new Number(val); // eslint-disable-line no-new-wrappers\r\n\r\n          expressionValue.value = val;\r\n          completeProperty(expressionValue, property, 'unidimensional');\r\n        }\r\n\r\n        return expressionValue;\r\n      };\r\n    }\r\n\r\n    function MultidimensionalPropertyInterface(property) {\r\n      if (!property || !('pv' in property)) {\r\n        property = defaultMultidimensionalValue;\r\n      }\r\n\r\n      var mult = 1 / property.mult;\r\n      var len = property.data && property.data.l || property.pv.length;\r\n      var expressionValue = createTypedArray('float32', len);\r\n      var arrValue = createTypedArray('float32', len);\r\n      expressionValue.value = arrValue;\r\n      completeProperty(expressionValue, property, 'multidimensional');\r\n      return function () {\r\n        if (property.k) {\r\n          property.getValue();\r\n        }\r\n\r\n        for (var i = 0; i < len; i += 1) {\r\n          arrValue[i] = property.v[i] * mult;\r\n          expressionValue[i] = arrValue[i];\r\n        }\r\n\r\n        return expressionValue;\r\n      };\r\n    } // TODO: try to avoid using this getter\r\n\r\n\r\n    function defaultGetter() {\r\n      return defaultUnidimensionalValue;\r\n    }\r\n\r\n    return function (property) {\r\n      if (!property) {\r\n        return defaultGetter;\r\n      }\r\n\r\n      if (property.propType === 'unidimensional') {\r\n        return UnidimensionalPropertyInterface(property);\r\n      }\r\n\r\n      return MultidimensionalPropertyInterface(property);\r\n    };\r\n  }();\r\n\r\n  var TransformExpressionInterface = function () {\r\n    return function (transform) {\r\n      function _thisFunction(name) {\r\n        switch (name) {\r\n          case 'scale':\r\n          case 'Scale':\r\n          case 'ADBE Scale':\r\n          case 6:\r\n            return _thisFunction.scale;\r\n\r\n          case 'rotation':\r\n          case 'Rotation':\r\n          case 'ADBE Rotation':\r\n          case 'ADBE Rotate Z':\r\n          case 10:\r\n            return _thisFunction.rotation;\r\n\r\n          case 'ADBE Rotate X':\r\n            return _thisFunction.xRotation;\r\n\r\n          case 'ADBE Rotate Y':\r\n            return _thisFunction.yRotation;\r\n\r\n          case 'position':\r\n          case 'Position':\r\n          case 'ADBE Position':\r\n          case 2:\r\n            return _thisFunction.position;\r\n\r\n          case 'ADBE Position_0':\r\n            return _thisFunction.xPosition;\r\n\r\n          case 'ADBE Position_1':\r\n            return _thisFunction.yPosition;\r\n\r\n          case 'ADBE Position_2':\r\n            return _thisFunction.zPosition;\r\n\r\n          case 'anchorPoint':\r\n          case 'AnchorPoint':\r\n          case 'Anchor Point':\r\n          case 'ADBE AnchorPoint':\r\n          case 1:\r\n            return _thisFunction.anchorPoint;\r\n\r\n          case 'opacity':\r\n          case 'Opacity':\r\n          case 11:\r\n            return _thisFunction.opacity;\r\n\r\n          default:\r\n            return null;\r\n        }\r\n      }\r\n\r\n      Object.defineProperty(_thisFunction, 'rotation', {\r\n        get: ExpressionPropertyInterface(transform.r || transform.rz)\r\n      });\r\n      Object.defineProperty(_thisFunction, 'zRotation', {\r\n        get: ExpressionPropertyInterface(transform.rz || transform.r)\r\n      });\r\n      Object.defineProperty(_thisFunction, 'xRotation', {\r\n        get: ExpressionPropertyInterface(transform.rx)\r\n      });\r\n      Object.defineProperty(_thisFunction, 'yRotation', {\r\n        get: ExpressionPropertyInterface(transform.ry)\r\n      });\r\n      Object.defineProperty(_thisFunction, 'scale', {\r\n        get: ExpressionPropertyInterface(transform.s)\r\n      });\r\n\r\n      var _px;\r\n\r\n      var _py;\r\n\r\n      var _pz;\r\n\r\n      var _transformFactory;\r\n\r\n      if (transform.p) {\r\n        _transformFactory = ExpressionPropertyInterface(transform.p);\r\n      } else {\r\n        _px = ExpressionPropertyInterface(transform.px);\r\n        _py = ExpressionPropertyInterface(transform.py);\r\n\r\n        if (transform.pz) {\r\n          _pz = ExpressionPropertyInterface(transform.pz);\r\n        }\r\n      }\r\n\r\n      Object.defineProperty(_thisFunction, 'position', {\r\n        get: function get() {\r\n          if (transform.p) {\r\n            return _transformFactory();\r\n          }\r\n\r\n          return [_px(), _py(), _pz ? _pz() : 0];\r\n        }\r\n      });\r\n      Object.defineProperty(_thisFunction, 'xPosition', {\r\n        get: ExpressionPropertyInterface(transform.px)\r\n      });\r\n      Object.defineProperty(_thisFunction, 'yPosition', {\r\n        get: ExpressionPropertyInterface(transform.py)\r\n      });\r\n      Object.defineProperty(_thisFunction, 'zPosition', {\r\n        get: ExpressionPropertyInterface(transform.pz)\r\n      });\r\n      Object.defineProperty(_thisFunction, 'anchorPoint', {\r\n        get: ExpressionPropertyInterface(transform.a)\r\n      });\r\n      Object.defineProperty(_thisFunction, 'opacity', {\r\n        get: ExpressionPropertyInterface(transform.o)\r\n      });\r\n      Object.defineProperty(_thisFunction, 'skew', {\r\n        get: ExpressionPropertyInterface(transform.sk)\r\n      });\r\n      Object.defineProperty(_thisFunction, 'skewAxis', {\r\n        get: ExpressionPropertyInterface(transform.sa)\r\n      });\r\n      Object.defineProperty(_thisFunction, 'orientation', {\r\n        get: ExpressionPropertyInterface(transform.or)\r\n      });\r\n      return _thisFunction;\r\n    };\r\n  }();\r\n\r\n  var LayerExpressionInterface = function () {\r\n    function getMatrix(time) {\r\n      var toWorldMat = new Matrix();\r\n\r\n      if (time !== undefined) {\r\n        var propMatrix = this._elem.finalTransform.mProp.getValueAtTime(time);\r\n\r\n        propMatrix.clone(toWorldMat);\r\n      } else {\r\n        var transformMat = this._elem.finalTransform.mProp;\r\n        transformMat.applyToMatrix(toWorldMat);\r\n      }\r\n\r\n      return toWorldMat;\r\n    }\r\n\r\n    function toWorldVec(arr, time) {\r\n      var toWorldMat = this.getMatrix(time);\r\n      toWorldMat.props[12] = 0;\r\n      toWorldMat.props[13] = 0;\r\n      toWorldMat.props[14] = 0;\r\n      return this.applyPoint(toWorldMat, arr);\r\n    }\r\n\r\n    function toWorld(arr, time) {\r\n      var toWorldMat = this.getMatrix(time);\r\n      return this.applyPoint(toWorldMat, arr);\r\n    }\r\n\r\n    function fromWorldVec(arr, time) {\r\n      var toWorldMat = this.getMatrix(time);\r\n      toWorldMat.props[12] = 0;\r\n      toWorldMat.props[13] = 0;\r\n      toWorldMat.props[14] = 0;\r\n      return this.invertPoint(toWorldMat, arr);\r\n    }\r\n\r\n    function fromWorld(arr, time) {\r\n      var toWorldMat = this.getMatrix(time);\r\n      return this.invertPoint(toWorldMat, arr);\r\n    }\r\n\r\n    function applyPoint(matrix, arr) {\r\n      if (this._elem.hierarchy && this._elem.hierarchy.length) {\r\n        var i;\r\n        var len = this._elem.hierarchy.length;\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n          this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);\r\n        }\r\n      }\r\n\r\n      return matrix.applyToPointArray(arr[0], arr[1], arr[2] || 0);\r\n    }\r\n\r\n    function invertPoint(matrix, arr) {\r\n      if (this._elem.hierarchy && this._elem.hierarchy.length) {\r\n        var i;\r\n        var len = this._elem.hierarchy.length;\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n          this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);\r\n        }\r\n      }\r\n\r\n      return matrix.inversePoint(arr);\r\n    }\r\n\r\n    function fromComp(arr) {\r\n      var toWorldMat = new Matrix();\r\n      toWorldMat.reset();\r\n\r\n      this._elem.finalTransform.mProp.applyToMatrix(toWorldMat);\r\n\r\n      if (this._elem.hierarchy && this._elem.hierarchy.length) {\r\n        var i;\r\n        var len = this._elem.hierarchy.length;\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n          this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\r\n        }\r\n\r\n        return toWorldMat.inversePoint(arr);\r\n      }\r\n\r\n      return toWorldMat.inversePoint(arr);\r\n    }\r\n\r\n    function sampleImage() {\r\n      return [1, 1, 1, 1];\r\n    }\r\n\r\n    return function (elem) {\r\n      var transformInterface;\r\n\r\n      function _registerMaskInterface(maskManager) {\r\n        _thisLayerFunction.mask = new MaskManagerInterface(maskManager, elem);\r\n      }\r\n\r\n      function _registerEffectsInterface(effects) {\r\n        _thisLayerFunction.effect = effects;\r\n      }\r\n\r\n      function _thisLayerFunction(name) {\r\n        switch (name) {\r\n          case 'ADBE Root Vectors Group':\r\n          case 'Contents':\r\n          case 2:\r\n            return _thisLayerFunction.shapeInterface;\r\n\r\n          case 1:\r\n          case 6:\r\n          case 'Transform':\r\n          case 'transform':\r\n          case 'ADBE Transform Group':\r\n            return transformInterface;\r\n\r\n          case 4:\r\n          case 'ADBE Effect Parade':\r\n          case 'effects':\r\n          case 'Effects':\r\n            return _thisLayerFunction.effect;\r\n\r\n          case 'ADBE Text Properties':\r\n            return _thisLayerFunction.textInterface;\r\n\r\n          default:\r\n            return null;\r\n        }\r\n      }\r\n\r\n      _thisLayerFunction.getMatrix = getMatrix;\r\n      _thisLayerFunction.invertPoint = invertPoint;\r\n      _thisLayerFunction.applyPoint = applyPoint;\r\n      _thisLayerFunction.toWorld = toWorld;\r\n      _thisLayerFunction.toWorldVec = toWorldVec;\r\n      _thisLayerFunction.fromWorld = fromWorld;\r\n      _thisLayerFunction.fromWorldVec = fromWorldVec;\r\n      _thisLayerFunction.toComp = toWorld;\r\n      _thisLayerFunction.fromComp = fromComp;\r\n      _thisLayerFunction.sampleImage = sampleImage;\r\n      _thisLayerFunction.sourceRectAtTime = elem.sourceRectAtTime.bind(elem);\r\n      _thisLayerFunction._elem = elem;\r\n      transformInterface = TransformExpressionInterface(elem.finalTransform.mProp);\r\n      var anchorPointDescriptor = getDescriptor(transformInterface, 'anchorPoint');\r\n      Object.defineProperties(_thisLayerFunction, {\r\n        hasParent: {\r\n          get: function get() {\r\n            return elem.hierarchy.length;\r\n          }\r\n        },\r\n        parent: {\r\n          get: function get() {\r\n            return elem.hierarchy[0].layerInterface;\r\n          }\r\n        },\r\n        rotation: getDescriptor(transformInterface, 'rotation'),\r\n        scale: getDescriptor(transformInterface, 'scale'),\r\n        position: getDescriptor(transformInterface, 'position'),\r\n        opacity: getDescriptor(transformInterface, 'opacity'),\r\n        anchorPoint: anchorPointDescriptor,\r\n        anchor_point: anchorPointDescriptor,\r\n        transform: {\r\n          get: function get() {\r\n            return transformInterface;\r\n          }\r\n        },\r\n        active: {\r\n          get: function get() {\r\n            return elem.isInRange;\r\n          }\r\n        }\r\n      });\r\n      _thisLayerFunction.startTime = elem.data.st;\r\n      _thisLayerFunction.index = elem.data.ind;\r\n      _thisLayerFunction.source = elem.data.refId;\r\n      _thisLayerFunction.height = elem.data.ty === 0 ? elem.data.h : 100;\r\n      _thisLayerFunction.width = elem.data.ty === 0 ? elem.data.w : 100;\r\n      _thisLayerFunction.inPoint = elem.data.ip / elem.comp.globalData.frameRate;\r\n      _thisLayerFunction.outPoint = elem.data.op / elem.comp.globalData.frameRate;\r\n      _thisLayerFunction._name = elem.data.nm;\r\n      _thisLayerFunction.registerMaskInterface = _registerMaskInterface;\r\n      _thisLayerFunction.registerEffectsInterface = _registerEffectsInterface;\r\n      return _thisLayerFunction;\r\n    };\r\n  }();\r\n\r\n  var propertyGroupFactory = function () {\r\n    return function (interfaceFunction, parentPropertyGroup) {\r\n      return function (val) {\r\n        val = val === undefined ? 1 : val;\r\n\r\n        if (val <= 0) {\r\n          return interfaceFunction;\r\n        }\r\n\r\n        return parentPropertyGroup(val - 1);\r\n      };\r\n    };\r\n  }();\r\n\r\n  var PropertyInterface = function () {\r\n    return function (propertyName, propertyGroup) {\r\n      var interfaceFunction = {\r\n        _name: propertyName\r\n      };\r\n\r\n      function _propertyGroup(val) {\r\n        val = val === undefined ? 1 : val;\r\n\r\n        if (val <= 0) {\r\n          return interfaceFunction;\r\n        }\r\n\r\n        return propertyGroup(val - 1);\r\n      }\r\n\r\n      return _propertyGroup;\r\n    };\r\n  }();\r\n\r\n  var EffectsExpressionInterface = function () {\r\n    var ob = {\r\n      createEffectsInterface: createEffectsInterface\r\n    };\r\n\r\n    function createEffectsInterface(elem, propertyGroup) {\r\n      if (elem.effectsManager) {\r\n        var effectElements = [];\r\n        var effectsData = elem.data.ef;\r\n        var i;\r\n        var len = elem.effectsManager.effectElements.length;\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n          effectElements.push(createGroupInterface(effectsData[i], elem.effectsManager.effectElements[i], propertyGroup, elem));\r\n        }\r\n\r\n        var effects = elem.data.ef || [];\r\n\r\n        var groupInterface = function groupInterface(name) {\r\n          i = 0;\r\n          len = effects.length;\r\n\r\n          while (i < len) {\r\n            if (name === effects[i].nm || name === effects[i].mn || name === effects[i].ix) {\r\n              return effectElements[i];\r\n            }\r\n\r\n            i += 1;\r\n          }\r\n\r\n          return null;\r\n        };\r\n\r\n        Object.defineProperty(groupInterface, 'numProperties', {\r\n          get: function get() {\r\n            return effects.length;\r\n          }\r\n        });\r\n        return groupInterface;\r\n      }\r\n\r\n      return null;\r\n    }\r\n\r\n    function createGroupInterface(data, elements, propertyGroup, elem) {\r\n      function groupInterface(name) {\r\n        var effects = data.ef;\r\n        var i = 0;\r\n        var len = effects.length;\r\n\r\n        while (i < len) {\r\n          if (name === effects[i].nm || name === effects[i].mn || name === effects[i].ix) {\r\n            if (effects[i].ty === 5) {\r\n              return effectElements[i];\r\n            }\r\n\r\n            return effectElements[i]();\r\n          }\r\n\r\n          i += 1;\r\n        }\r\n\r\n        throw new Error();\r\n      }\r\n\r\n      var _propertyGroup = propertyGroupFactory(groupInterface, propertyGroup);\r\n\r\n      var effectElements = [];\r\n      var i;\r\n      var len = data.ef.length;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        if (data.ef[i].ty === 5) {\r\n          effectElements.push(createGroupInterface(data.ef[i], elements.effectElements[i], elements.effectElements[i].propertyGroup, elem));\r\n        } else {\r\n          effectElements.push(createValueInterface(elements.effectElements[i], data.ef[i].ty, elem, _propertyGroup));\r\n        }\r\n      }\r\n\r\n      if (data.mn === 'ADBE Color Control') {\r\n        Object.defineProperty(groupInterface, 'color', {\r\n          get: function get() {\r\n            return effectElements[0]();\r\n          }\r\n        });\r\n      }\r\n\r\n      Object.defineProperties(groupInterface, {\r\n        numProperties: {\r\n          get: function get() {\r\n            return data.np;\r\n          }\r\n        },\r\n        _name: {\r\n          value: data.nm\r\n        },\r\n        propertyGroup: {\r\n          value: _propertyGroup\r\n        }\r\n      });\r\n      groupInterface.enabled = data.en !== 0;\r\n      groupInterface.active = groupInterface.enabled;\r\n      return groupInterface;\r\n    }\r\n\r\n    function createValueInterface(element, type, elem, propertyGroup) {\r\n      var expressionProperty = ExpressionPropertyInterface(element.p);\r\n\r\n      function interfaceFunction() {\r\n        if (type === 10) {\r\n          return elem.comp.compInterface(element.p.v);\r\n        }\r\n\r\n        return expressionProperty();\r\n      }\r\n\r\n      if (element.p.setGroupProperty) {\r\n        element.p.setGroupProperty(PropertyInterface('', propertyGroup));\r\n      }\r\n\r\n      return interfaceFunction;\r\n    }\r\n\r\n    return ob;\r\n  }();\r\n\r\n  var ShapePathInterface = function () {\r\n    return function pathInterfaceFactory(shape, view, propertyGroup) {\r\n      var prop = view.sh;\r\n\r\n      function interfaceFunction(val) {\r\n        if (val === 'Shape' || val === 'shape' || val === 'Path' || val === 'path' || val === 'ADBE Vector Shape' || val === 2) {\r\n          return interfaceFunction.path;\r\n        }\r\n\r\n        return null;\r\n      }\r\n\r\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n\r\n      prop.setGroupProperty(PropertyInterface('Path', _propertyGroup));\r\n      Object.defineProperties(interfaceFunction, {\r\n        path: {\r\n          get: function get() {\r\n            if (prop.k) {\r\n              prop.getValue();\r\n            }\r\n\r\n            return prop;\r\n          }\r\n        },\r\n        shape: {\r\n          get: function get() {\r\n            if (prop.k) {\r\n              prop.getValue();\r\n            }\r\n\r\n            return prop;\r\n          }\r\n        },\r\n        _name: {\r\n          value: shape.nm\r\n        },\r\n        ix: {\r\n          value: shape.ix\r\n        },\r\n        propertyIndex: {\r\n          value: shape.ix\r\n        },\r\n        mn: {\r\n          value: shape.mn\r\n        },\r\n        propertyGroup: {\r\n          value: propertyGroup\r\n        }\r\n      });\r\n      return interfaceFunction;\r\n    };\r\n  }();\r\n\r\n  var ShapeExpressionInterface = function () {\r\n    function iterateElements(shapes, view, propertyGroup) {\r\n      var arr = [];\r\n      var i;\r\n      var len = shapes ? shapes.length : 0;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        if (shapes[i].ty === 'gr') {\r\n          arr.push(groupInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n        } else if (shapes[i].ty === 'fl') {\r\n          arr.push(fillInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n        } else if (shapes[i].ty === 'st') {\r\n          arr.push(strokeInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n        } else if (shapes[i].ty === 'tm') {\r\n          arr.push(trimInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n        } else if (shapes[i].ty === 'tr') {// arr.push(transformInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n        } else if (shapes[i].ty === 'el') {\r\n          arr.push(ellipseInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n        } else if (shapes[i].ty === 'sr') {\r\n          arr.push(starInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n        } else if (shapes[i].ty === 'sh') {\r\n          arr.push(ShapePathInterface(shapes[i], view[i], propertyGroup));\r\n        } else if (shapes[i].ty === 'rc') {\r\n          arr.push(rectInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n        } else if (shapes[i].ty === 'rd') {\r\n          arr.push(roundedInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n        } else if (shapes[i].ty === 'rp') {\r\n          arr.push(repeaterInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n        } else if (shapes[i].ty === 'gf') {\r\n          arr.push(gradientFillInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n        } else {\r\n          arr.push(defaultInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n        }\r\n      }\r\n\r\n      return arr;\r\n    }\r\n\r\n    function contentsInterfaceFactory(shape, view, propertyGroup) {\r\n      var interfaces;\r\n\r\n      var interfaceFunction = function _interfaceFunction(value) {\r\n        var i = 0;\r\n        var len = interfaces.length;\r\n\r\n        while (i < len) {\r\n          if (interfaces[i]._name === value || interfaces[i].mn === value || interfaces[i].propertyIndex === value || interfaces[i].ix === value || interfaces[i].ind === value) {\r\n            return interfaces[i];\r\n          }\r\n\r\n          i += 1;\r\n        }\r\n\r\n        if (typeof value === 'number') {\r\n          return interfaces[value - 1];\r\n        }\r\n\r\n        return null;\r\n      };\r\n\r\n      interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n      interfaces = iterateElements(shape.it, view.it, interfaceFunction.propertyGroup);\r\n      interfaceFunction.numProperties = interfaces.length;\r\n      var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1], view.it[view.it.length - 1], interfaceFunction.propertyGroup);\r\n      interfaceFunction.transform = transformInterface;\r\n      interfaceFunction.propertyIndex = shape.cix;\r\n      interfaceFunction._name = shape.nm;\r\n      return interfaceFunction;\r\n    }\r\n\r\n    function groupInterfaceFactory(shape, view, propertyGroup) {\r\n      var interfaceFunction = function _interfaceFunction(value) {\r\n        switch (value) {\r\n          case 'ADBE Vectors Group':\r\n          case 'Contents':\r\n          case 2:\r\n            return interfaceFunction.content;\r\n          // Not necessary for now. Keeping them here in case a new case appears\r\n          // case 'ADBE Vector Transform Group':\r\n          // case 3:\r\n\r\n          default:\r\n            return interfaceFunction.transform;\r\n        }\r\n      };\r\n\r\n      interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n      var content = contentsInterfaceFactory(shape, view, interfaceFunction.propertyGroup);\r\n      var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1], view.it[view.it.length - 1], interfaceFunction.propertyGroup);\r\n      interfaceFunction.content = content;\r\n      interfaceFunction.transform = transformInterface;\r\n      Object.defineProperty(interfaceFunction, '_name', {\r\n        get: function get() {\r\n          return shape.nm;\r\n        }\r\n      }); // interfaceFunction.content = interfaceFunction;\r\n\r\n      interfaceFunction.numProperties = shape.np;\r\n      interfaceFunction.propertyIndex = shape.ix;\r\n      interfaceFunction.nm = shape.nm;\r\n      interfaceFunction.mn = shape.mn;\r\n      return interfaceFunction;\r\n    }\r\n\r\n    function fillInterfaceFactory(shape, view, propertyGroup) {\r\n      function interfaceFunction(val) {\r\n        if (val === 'Color' || val === 'color') {\r\n          return interfaceFunction.color;\r\n        }\r\n\r\n        if (val === 'Opacity' || val === 'opacity') {\r\n          return interfaceFunction.opacity;\r\n        }\r\n\r\n        return null;\r\n      }\r\n\r\n      Object.defineProperties(interfaceFunction, {\r\n        color: {\r\n          get: ExpressionPropertyInterface(view.c)\r\n        },\r\n        opacity: {\r\n          get: ExpressionPropertyInterface(view.o)\r\n        },\r\n        _name: {\r\n          value: shape.nm\r\n        },\r\n        mn: {\r\n          value: shape.mn\r\n        }\r\n      });\r\n      view.c.setGroupProperty(PropertyInterface('Color', propertyGroup));\r\n      view.o.setGroupProperty(PropertyInterface('Opacity', propertyGroup));\r\n      return interfaceFunction;\r\n    }\r\n\r\n    function gradientFillInterfaceFactory(shape, view, propertyGroup) {\r\n      function interfaceFunction(val) {\r\n        if (val === 'Start Point' || val === 'start point') {\r\n          return interfaceFunction.startPoint;\r\n        }\r\n\r\n        if (val === 'End Point' || val === 'end point') {\r\n          return interfaceFunction.endPoint;\r\n        }\r\n\r\n        if (val === 'Opacity' || val === 'opacity') {\r\n          return interfaceFunction.opacity;\r\n        }\r\n\r\n        return null;\r\n      }\r\n\r\n      Object.defineProperties(interfaceFunction, {\r\n        startPoint: {\r\n          get: ExpressionPropertyInterface(view.s)\r\n        },\r\n        endPoint: {\r\n          get: ExpressionPropertyInterface(view.e)\r\n        },\r\n        opacity: {\r\n          get: ExpressionPropertyInterface(view.o)\r\n        },\r\n        type: {\r\n          get: function get() {\r\n            return 'a';\r\n          }\r\n        },\r\n        _name: {\r\n          value: shape.nm\r\n        },\r\n        mn: {\r\n          value: shape.mn\r\n        }\r\n      });\r\n      view.s.setGroupProperty(PropertyInterface('Start Point', propertyGroup));\r\n      view.e.setGroupProperty(PropertyInterface('End Point', propertyGroup));\r\n      view.o.setGroupProperty(PropertyInterface('Opacity', propertyGroup));\r\n      return interfaceFunction;\r\n    }\r\n\r\n    function defaultInterfaceFactory() {\r\n      function interfaceFunction() {\r\n        return null;\r\n      }\r\n\r\n      return interfaceFunction;\r\n    }\r\n\r\n    function strokeInterfaceFactory(shape, view, propertyGroup) {\r\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n\r\n      var _dashPropertyGroup = propertyGroupFactory(dashOb, _propertyGroup);\r\n\r\n      function addPropertyToDashOb(i) {\r\n        Object.defineProperty(dashOb, shape.d[i].nm, {\r\n          get: ExpressionPropertyInterface(view.d.dataProps[i].p)\r\n        });\r\n      }\r\n\r\n      var i;\r\n      var len = shape.d ? shape.d.length : 0;\r\n      var dashOb = {};\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        addPropertyToDashOb(i);\r\n        view.d.dataProps[i].p.setGroupProperty(_dashPropertyGroup);\r\n      }\r\n\r\n      function interfaceFunction(val) {\r\n        if (val === 'Color' || val === 'color') {\r\n          return interfaceFunction.color;\r\n        }\r\n\r\n        if (val === 'Opacity' || val === 'opacity') {\r\n          return interfaceFunction.opacity;\r\n        }\r\n\r\n        if (val === 'Stroke Width' || val === 'stroke width') {\r\n          return interfaceFunction.strokeWidth;\r\n        }\r\n\r\n        return null;\r\n      }\r\n\r\n      Object.defineProperties(interfaceFunction, {\r\n        color: {\r\n          get: ExpressionPropertyInterface(view.c)\r\n        },\r\n        opacity: {\r\n          get: ExpressionPropertyInterface(view.o)\r\n        },\r\n        strokeWidth: {\r\n          get: ExpressionPropertyInterface(view.w)\r\n        },\r\n        dash: {\r\n          get: function get() {\r\n            return dashOb;\r\n          }\r\n        },\r\n        _name: {\r\n          value: shape.nm\r\n        },\r\n        mn: {\r\n          value: shape.mn\r\n        }\r\n      });\r\n      view.c.setGroupProperty(PropertyInterface('Color', _propertyGroup));\r\n      view.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\r\n      view.w.setGroupProperty(PropertyInterface('Stroke Width', _propertyGroup));\r\n      return interfaceFunction;\r\n    }\r\n\r\n    function trimInterfaceFactory(shape, view, propertyGroup) {\r\n      function interfaceFunction(val) {\r\n        if (val === shape.e.ix || val === 'End' || val === 'end') {\r\n          return interfaceFunction.end;\r\n        }\r\n\r\n        if (val === shape.s.ix) {\r\n          return interfaceFunction.start;\r\n        }\r\n\r\n        if (val === shape.o.ix) {\r\n          return interfaceFunction.offset;\r\n        }\r\n\r\n        return null;\r\n      }\r\n\r\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n\r\n      interfaceFunction.propertyIndex = shape.ix;\r\n      view.s.setGroupProperty(PropertyInterface('Start', _propertyGroup));\r\n      view.e.setGroupProperty(PropertyInterface('End', _propertyGroup));\r\n      view.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\r\n      interfaceFunction.propertyIndex = shape.ix;\r\n      interfaceFunction.propertyGroup = propertyGroup;\r\n      Object.defineProperties(interfaceFunction, {\r\n        start: {\r\n          get: ExpressionPropertyInterface(view.s)\r\n        },\r\n        end: {\r\n          get: ExpressionPropertyInterface(view.e)\r\n        },\r\n        offset: {\r\n          get: ExpressionPropertyInterface(view.o)\r\n        },\r\n        _name: {\r\n          value: shape.nm\r\n        }\r\n      });\r\n      interfaceFunction.mn = shape.mn;\r\n      return interfaceFunction;\r\n    }\r\n\r\n    function transformInterfaceFactory(shape, view, propertyGroup) {\r\n      function interfaceFunction(value) {\r\n        if (shape.a.ix === value || value === 'Anchor Point') {\r\n          return interfaceFunction.anchorPoint;\r\n        }\r\n\r\n        if (shape.o.ix === value || value === 'Opacity') {\r\n          return interfaceFunction.opacity;\r\n        }\r\n\r\n        if (shape.p.ix === value || value === 'Position') {\r\n          return interfaceFunction.position;\r\n        }\r\n\r\n        if (shape.r.ix === value || value === 'Rotation' || value === 'ADBE Vector Rotation') {\r\n          return interfaceFunction.rotation;\r\n        }\r\n\r\n        if (shape.s.ix === value || value === 'Scale') {\r\n          return interfaceFunction.scale;\r\n        }\r\n\r\n        if (shape.sk && shape.sk.ix === value || value === 'Skew') {\r\n          return interfaceFunction.skew;\r\n        }\r\n\r\n        if (shape.sa && shape.sa.ix === value || value === 'Skew Axis') {\r\n          return interfaceFunction.skewAxis;\r\n        }\r\n\r\n        return null;\r\n      }\r\n\r\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n\r\n      view.transform.mProps.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\r\n      view.transform.mProps.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n      view.transform.mProps.a.setGroupProperty(PropertyInterface('Anchor Point', _propertyGroup));\r\n      view.transform.mProps.s.setGroupProperty(PropertyInterface('Scale', _propertyGroup));\r\n      view.transform.mProps.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\r\n\r\n      if (view.transform.mProps.sk) {\r\n        view.transform.mProps.sk.setGroupProperty(PropertyInterface('Skew', _propertyGroup));\r\n        view.transform.mProps.sa.setGroupProperty(PropertyInterface('Skew Angle', _propertyGroup));\r\n      }\r\n\r\n      view.transform.op.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\r\n      Object.defineProperties(interfaceFunction, {\r\n        opacity: {\r\n          get: ExpressionPropertyInterface(view.transform.mProps.o)\r\n        },\r\n        position: {\r\n          get: ExpressionPropertyInterface(view.transform.mProps.p)\r\n        },\r\n        anchorPoint: {\r\n          get: ExpressionPropertyInterface(view.transform.mProps.a)\r\n        },\r\n        scale: {\r\n          get: ExpressionPropertyInterface(view.transform.mProps.s)\r\n        },\r\n        rotation: {\r\n          get: ExpressionPropertyInterface(view.transform.mProps.r)\r\n        },\r\n        skew: {\r\n          get: ExpressionPropertyInterface(view.transform.mProps.sk)\r\n        },\r\n        skewAxis: {\r\n          get: ExpressionPropertyInterface(view.transform.mProps.sa)\r\n        },\r\n        _name: {\r\n          value: shape.nm\r\n        }\r\n      });\r\n      interfaceFunction.ty = 'tr';\r\n      interfaceFunction.mn = shape.mn;\r\n      interfaceFunction.propertyGroup = propertyGroup;\r\n      return interfaceFunction;\r\n    }\r\n\r\n    function ellipseInterfaceFactory(shape, view, propertyGroup) {\r\n      function interfaceFunction(value) {\r\n        if (shape.p.ix === value) {\r\n          return interfaceFunction.position;\r\n        }\r\n\r\n        if (shape.s.ix === value) {\r\n          return interfaceFunction.size;\r\n        }\r\n\r\n        return null;\r\n      }\r\n\r\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n\r\n      interfaceFunction.propertyIndex = shape.ix;\r\n      var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\r\n      prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\r\n      prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n      Object.defineProperties(interfaceFunction, {\r\n        size: {\r\n          get: ExpressionPropertyInterface(prop.s)\r\n        },\r\n        position: {\r\n          get: ExpressionPropertyInterface(prop.p)\r\n        },\r\n        _name: {\r\n          value: shape.nm\r\n        }\r\n      });\r\n      interfaceFunction.mn = shape.mn;\r\n      return interfaceFunction;\r\n    }\r\n\r\n    function starInterfaceFactory(shape, view, propertyGroup) {\r\n      function interfaceFunction(value) {\r\n        if (shape.p.ix === value) {\r\n          return interfaceFunction.position;\r\n        }\r\n\r\n        if (shape.r.ix === value) {\r\n          return interfaceFunction.rotation;\r\n        }\r\n\r\n        if (shape.pt.ix === value) {\r\n          return interfaceFunction.points;\r\n        }\r\n\r\n        if (shape.or.ix === value || value === 'ADBE Vector Star Outer Radius') {\r\n          return interfaceFunction.outerRadius;\r\n        }\r\n\r\n        if (shape.os.ix === value) {\r\n          return interfaceFunction.outerRoundness;\r\n        }\r\n\r\n        if (shape.ir && (shape.ir.ix === value || value === 'ADBE Vector Star Inner Radius')) {\r\n          return interfaceFunction.innerRadius;\r\n        }\r\n\r\n        if (shape.is && shape.is.ix === value) {\r\n          return interfaceFunction.innerRoundness;\r\n        }\r\n\r\n        return null;\r\n      }\r\n\r\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n\r\n      var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\r\n      interfaceFunction.propertyIndex = shape.ix;\r\n      prop.or.setGroupProperty(PropertyInterface('Outer Radius', _propertyGroup));\r\n      prop.os.setGroupProperty(PropertyInterface('Outer Roundness', _propertyGroup));\r\n      prop.pt.setGroupProperty(PropertyInterface('Points', _propertyGroup));\r\n      prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n      prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\r\n\r\n      if (shape.ir) {\r\n        prop.ir.setGroupProperty(PropertyInterface('Inner Radius', _propertyGroup));\r\n        prop.is.setGroupProperty(PropertyInterface('Inner Roundness', _propertyGroup));\r\n      }\r\n\r\n      Object.defineProperties(interfaceFunction, {\r\n        position: {\r\n          get: ExpressionPropertyInterface(prop.p)\r\n        },\r\n        rotation: {\r\n          get: ExpressionPropertyInterface(prop.r)\r\n        },\r\n        points: {\r\n          get: ExpressionPropertyInterface(prop.pt)\r\n        },\r\n        outerRadius: {\r\n          get: ExpressionPropertyInterface(prop.or)\r\n        },\r\n        outerRoundness: {\r\n          get: ExpressionPropertyInterface(prop.os)\r\n        },\r\n        innerRadius: {\r\n          get: ExpressionPropertyInterface(prop.ir)\r\n        },\r\n        innerRoundness: {\r\n          get: ExpressionPropertyInterface(prop.is)\r\n        },\r\n        _name: {\r\n          value: shape.nm\r\n        }\r\n      });\r\n      interfaceFunction.mn = shape.mn;\r\n      return interfaceFunction;\r\n    }\r\n\r\n    function rectInterfaceFactory(shape, view, propertyGroup) {\r\n      function interfaceFunction(value) {\r\n        if (shape.p.ix === value) {\r\n          return interfaceFunction.position;\r\n        }\r\n\r\n        if (shape.r.ix === value) {\r\n          return interfaceFunction.roundness;\r\n        }\r\n\r\n        if (shape.s.ix === value || value === 'Size' || value === 'ADBE Vector Rect Size') {\r\n          return interfaceFunction.size;\r\n        }\r\n\r\n        return null;\r\n      }\r\n\r\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n\r\n      var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\r\n      interfaceFunction.propertyIndex = shape.ix;\r\n      prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n      prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\r\n      prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\r\n      Object.defineProperties(interfaceFunction, {\r\n        position: {\r\n          get: ExpressionPropertyInterface(prop.p)\r\n        },\r\n        roundness: {\r\n          get: ExpressionPropertyInterface(prop.r)\r\n        },\r\n        size: {\r\n          get: ExpressionPropertyInterface(prop.s)\r\n        },\r\n        _name: {\r\n          value: shape.nm\r\n        }\r\n      });\r\n      interfaceFunction.mn = shape.mn;\r\n      return interfaceFunction;\r\n    }\r\n\r\n    function roundedInterfaceFactory(shape, view, propertyGroup) {\r\n      function interfaceFunction(value) {\r\n        if (shape.r.ix === value || value === 'Round Corners 1') {\r\n          return interfaceFunction.radius;\r\n        }\r\n\r\n        return null;\r\n      }\r\n\r\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n\r\n      var prop = view;\r\n      interfaceFunction.propertyIndex = shape.ix;\r\n      prop.rd.setGroupProperty(PropertyInterface('Radius', _propertyGroup));\r\n      Object.defineProperties(interfaceFunction, {\r\n        radius: {\r\n          get: ExpressionPropertyInterface(prop.rd)\r\n        },\r\n        _name: {\r\n          value: shape.nm\r\n        }\r\n      });\r\n      interfaceFunction.mn = shape.mn;\r\n      return interfaceFunction;\r\n    }\r\n\r\n    function repeaterInterfaceFactory(shape, view, propertyGroup) {\r\n      function interfaceFunction(value) {\r\n        if (shape.c.ix === value || value === 'Copies') {\r\n          return interfaceFunction.copies;\r\n        }\r\n\r\n        if (shape.o.ix === value || value === 'Offset') {\r\n          return interfaceFunction.offset;\r\n        }\r\n\r\n        return null;\r\n      }\r\n\r\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n\r\n      var prop = view;\r\n      interfaceFunction.propertyIndex = shape.ix;\r\n      prop.c.setGroupProperty(PropertyInterface('Copies', _propertyGroup));\r\n      prop.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\r\n      Object.defineProperties(interfaceFunction, {\r\n        copies: {\r\n          get: ExpressionPropertyInterface(prop.c)\r\n        },\r\n        offset: {\r\n          get: ExpressionPropertyInterface(prop.o)\r\n        },\r\n        _name: {\r\n          value: shape.nm\r\n        }\r\n      });\r\n      interfaceFunction.mn = shape.mn;\r\n      return interfaceFunction;\r\n    }\r\n\r\n    return function (shapes, view, propertyGroup) {\r\n      var interfaces;\r\n\r\n      function _interfaceFunction(value) {\r\n        if (typeof value === 'number') {\r\n          value = value === undefined ? 1 : value;\r\n\r\n          if (value === 0) {\r\n            return propertyGroup;\r\n          }\r\n\r\n          return interfaces[value - 1];\r\n        }\r\n\r\n        var i = 0;\r\n        var len = interfaces.length;\r\n\r\n        while (i < len) {\r\n          if (interfaces[i]._name === value) {\r\n            return interfaces[i];\r\n          }\r\n\r\n          i += 1;\r\n        }\r\n\r\n        return null;\r\n      }\r\n\r\n      function parentGroupWrapper() {\r\n        return propertyGroup;\r\n      }\r\n\r\n      _interfaceFunction.propertyGroup = propertyGroupFactory(_interfaceFunction, parentGroupWrapper);\r\n      interfaces = iterateElements(shapes, view, _interfaceFunction.propertyGroup);\r\n      _interfaceFunction.numProperties = interfaces.length;\r\n      _interfaceFunction._name = 'Contents';\r\n      return _interfaceFunction;\r\n    };\r\n  }();\r\n\r\n  var TextExpressionInterface = function () {\r\n    return function (elem) {\r\n      var _sourceText;\r\n\r\n      function _thisLayerFunction(name) {\r\n        switch (name) {\r\n          case 'ADBE Text Document':\r\n            return _thisLayerFunction.sourceText;\r\n\r\n          default:\r\n            return null;\r\n        }\r\n      }\r\n\r\n      Object.defineProperty(_thisLayerFunction, 'sourceText', {\r\n        get: function get() {\r\n          elem.textProperty.getValue();\r\n          var stringValue = elem.textProperty.currentData.t;\r\n\r\n          if (!_sourceText || stringValue !== _sourceText.value) {\r\n            _sourceText = new String(stringValue); // eslint-disable-line no-new-wrappers\r\n            // If stringValue is an empty string, eval returns undefined, so it has to be returned as a String primitive\r\n\r\n            _sourceText.value = stringValue || new String(stringValue); // eslint-disable-line no-new-wrappers\r\n\r\n            Object.defineProperty(_sourceText, 'style', {\r\n              get: function get() {\r\n                return {\r\n                  fillColor: elem.textProperty.currentData.fc\r\n                };\r\n              }\r\n            });\r\n          }\r\n\r\n          return _sourceText;\r\n        }\r\n      });\r\n      return _thisLayerFunction;\r\n    };\r\n  }();\r\n\r\n  function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\r\n\r\n  var FootageInterface = function () {\r\n    var outlineInterfaceFactory = function outlineInterfaceFactory(elem) {\r\n      var currentPropertyName = '';\r\n      var currentProperty = elem.getFootageData();\r\n\r\n      function init() {\r\n        currentPropertyName = '';\r\n        currentProperty = elem.getFootageData();\r\n        return searchProperty;\r\n      }\r\n\r\n      function searchProperty(value) {\r\n        if (currentProperty[value]) {\r\n          currentPropertyName = value;\r\n          currentProperty = currentProperty[value];\r\n\r\n          if (_typeof(currentProperty) === 'object') {\r\n            return searchProperty;\r\n          }\r\n\r\n          return currentProperty;\r\n        }\r\n\r\n        var propertyNameIndex = value.indexOf(currentPropertyName);\r\n\r\n        if (propertyNameIndex !== -1) {\r\n          var index = parseInt(value.substr(propertyNameIndex + currentPropertyName.length), 10);\r\n          currentProperty = currentProperty[index];\r\n\r\n          if (_typeof(currentProperty) === 'object') {\r\n            return searchProperty;\r\n          }\r\n\r\n          return currentProperty;\r\n        }\r\n\r\n        return '';\r\n      }\r\n\r\n      return init;\r\n    };\r\n\r\n    var dataInterfaceFactory = function dataInterfaceFactory(elem) {\r\n      function interfaceFunction(value) {\r\n        if (value === 'Outline') {\r\n          return interfaceFunction.outlineInterface();\r\n        }\r\n\r\n        return null;\r\n      }\r\n\r\n      interfaceFunction._name = 'Outline';\r\n      interfaceFunction.outlineInterface = outlineInterfaceFactory(elem);\r\n      return interfaceFunction;\r\n    };\r\n\r\n    return function (elem) {\r\n      function _interfaceFunction(value) {\r\n        if (value === 'Data') {\r\n          return _interfaceFunction.dataInterface;\r\n        }\r\n\r\n        return null;\r\n      }\r\n\r\n      _interfaceFunction._name = 'Data';\r\n      _interfaceFunction.dataInterface = dataInterfaceFactory(elem);\r\n      return _interfaceFunction;\r\n    };\r\n  }();\r\n\r\n  var interfaces = {\r\n    layer: LayerExpressionInterface,\r\n    effects: EffectsExpressionInterface,\r\n    comp: CompExpressionInterface,\r\n    shape: ShapeExpressionInterface,\r\n    text: TextExpressionInterface,\r\n    footage: FootageInterface\r\n  };\r\n\r\n  function getInterface(type) {\r\n    return interfaces[type] || null;\r\n  }\r\n\r\n  var expressionHelpers = function () {\r\n    function searchExpressions(elem, data, prop) {\r\n      if (data.x) {\r\n        prop.k = true;\r\n        prop.x = true;\r\n        prop.initiateExpression = ExpressionManager.initiateExpression;\r\n        prop.effectsSequence.push(prop.initiateExpression(elem, data, prop).bind(prop));\r\n      }\r\n    }\r\n\r\n    function getValueAtTime(frameNum) {\r\n      frameNum *= this.elem.globalData.frameRate;\r\n      frameNum -= this.offsetTime;\r\n\r\n      if (frameNum !== this._cachingAtTime.lastFrame) {\r\n        this._cachingAtTime.lastIndex = this._cachingAtTime.lastFrame < frameNum ? this._cachingAtTime.lastIndex : 0;\r\n        this._cachingAtTime.value = this.interpolateValue(frameNum, this._cachingAtTime);\r\n        this._cachingAtTime.lastFrame = frameNum;\r\n      }\r\n\r\n      return this._cachingAtTime.value;\r\n    }\r\n\r\n    function getSpeedAtTime(frameNum) {\r\n      var delta = -0.01;\r\n      var v1 = this.getValueAtTime(frameNum);\r\n      var v2 = this.getValueAtTime(frameNum + delta);\r\n      var speed = 0;\r\n\r\n      if (v1.length) {\r\n        var i;\r\n\r\n        for (i = 0; i < v1.length; i += 1) {\r\n          speed += Math.pow(v2[i] - v1[i], 2);\r\n        }\r\n\r\n        speed = Math.sqrt(speed) * 100;\r\n      } else {\r\n        speed = 0;\r\n      }\r\n\r\n      return speed;\r\n    }\r\n\r\n    function getVelocityAtTime(frameNum) {\r\n      if (this.vel !== undefined) {\r\n        return this.vel;\r\n      }\r\n\r\n      var delta = -0.001; // frameNum += this.elem.data.st;\r\n\r\n      var v1 = this.getValueAtTime(frameNum);\r\n      var v2 = this.getValueAtTime(frameNum + delta);\r\n      var velocity;\r\n\r\n      if (v1.length) {\r\n        velocity = createTypedArray('float32', v1.length);\r\n        var i;\r\n\r\n        for (i = 0; i < v1.length; i += 1) {\r\n          // removing frameRate\r\n          // if needed, don't add it here\r\n          // velocity[i] = this.elem.globalData.frameRate*((v2[i] - v1[i])/delta);\r\n          velocity[i] = (v2[i] - v1[i]) / delta;\r\n        }\r\n      } else {\r\n        velocity = (v2 - v1) / delta;\r\n      }\r\n\r\n      return velocity;\r\n    }\r\n\r\n    function getStaticValueAtTime() {\r\n      return this.pv;\r\n    }\r\n\r\n    function setGroupProperty(propertyGroup) {\r\n      this.propertyGroup = propertyGroup;\r\n    }\r\n\r\n    return {\r\n      searchExpressions: searchExpressions,\r\n      getSpeedAtTime: getSpeedAtTime,\r\n      getVelocityAtTime: getVelocityAtTime,\r\n      getValueAtTime: getValueAtTime,\r\n      getStaticValueAtTime: getStaticValueAtTime,\r\n      setGroupProperty: setGroupProperty\r\n    };\r\n  }();\r\n\r\n  function addPropertyDecorator() {\r\n    function loopOut(type, duration, durationFlag) {\r\n      if (!this.k || !this.keyframes) {\r\n        return this.pv;\r\n      }\r\n\r\n      type = type ? type.toLowerCase() : '';\r\n      var currentFrame = this.comp.renderedFrame;\r\n      var keyframes = this.keyframes;\r\n      var lastKeyFrame = keyframes[keyframes.length - 1].t;\r\n\r\n      if (currentFrame <= lastKeyFrame) {\r\n        return this.pv;\r\n      }\r\n\r\n      var cycleDuration;\r\n      var firstKeyFrame;\r\n\r\n      if (!durationFlag) {\r\n        if (!duration || duration > keyframes.length - 1) {\r\n          duration = keyframes.length - 1;\r\n        }\r\n\r\n        firstKeyFrame = keyframes[keyframes.length - 1 - duration].t;\r\n        cycleDuration = lastKeyFrame - firstKeyFrame;\r\n      } else {\r\n        if (!duration) {\r\n          cycleDuration = Math.max(0, lastKeyFrame - this.elem.data.ip);\r\n        } else {\r\n          cycleDuration = Math.abs(lastKeyFrame - this.elem.comp.globalData.frameRate * duration);\r\n        }\r\n\r\n        firstKeyFrame = lastKeyFrame - cycleDuration;\r\n      }\r\n\r\n      var i;\r\n      var len;\r\n      var ret;\r\n\r\n      if (type === 'pingpong') {\r\n        var iterations = Math.floor((currentFrame - firstKeyFrame) / cycleDuration);\r\n\r\n        if (iterations % 2 !== 0) {\r\n          return this.getValueAtTime((cycleDuration - (currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\r\n        }\r\n      } else if (type === 'offset') {\r\n        var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\r\n        var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\r\n        var current = this.getValueAtTime(((currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\r\n\r\n        var repeats = Math.floor((currentFrame - firstKeyFrame) / cycleDuration);\r\n\r\n        if (this.pv.length) {\r\n          ret = new Array(initV.length);\r\n          len = ret.length;\r\n\r\n          for (i = 0; i < len; i += 1) {\r\n            ret[i] = (endV[i] - initV[i]) * repeats + current[i];\r\n          }\r\n\r\n          return ret;\r\n        }\r\n\r\n        return (endV - initV) * repeats + current;\r\n      } else if (type === 'continue') {\r\n        var lastValue = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\r\n        var nextLastValue = this.getValueAtTime((lastKeyFrame - 0.001) / this.comp.globalData.frameRate, 0);\r\n\r\n        if (this.pv.length) {\r\n          ret = new Array(lastValue.length);\r\n          len = ret.length;\r\n\r\n          for (i = 0; i < len; i += 1) {\r\n            ret[i] = lastValue[i] + (lastValue[i] - nextLastValue[i]) * ((currentFrame - lastKeyFrame) / this.comp.globalData.frameRate) / 0.0005; // eslint-disable-line\r\n          }\r\n\r\n          return ret;\r\n        }\r\n\r\n        return lastValue + (lastValue - nextLastValue) * ((currentFrame - lastKeyFrame) / 0.001);\r\n      }\r\n\r\n      return this.getValueAtTime(((currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\r\n    }\r\n\r\n    function loopIn(type, duration, durationFlag) {\r\n      if (!this.k) {\r\n        return this.pv;\r\n      }\r\n\r\n      type = type ? type.toLowerCase() : '';\r\n      var currentFrame = this.comp.renderedFrame;\r\n      var keyframes = this.keyframes;\r\n      var firstKeyFrame = keyframes[0].t;\r\n\r\n      if (currentFrame >= firstKeyFrame) {\r\n        return this.pv;\r\n      }\r\n\r\n      var cycleDuration;\r\n      var lastKeyFrame;\r\n\r\n      if (!durationFlag) {\r\n        if (!duration || duration > keyframes.length - 1) {\r\n          duration = keyframes.length - 1;\r\n        }\r\n\r\n        lastKeyFrame = keyframes[duration].t;\r\n        cycleDuration = lastKeyFrame - firstKeyFrame;\r\n      } else {\r\n        if (!duration) {\r\n          cycleDuration = Math.max(0, this.elem.data.op - firstKeyFrame);\r\n        } else {\r\n          cycleDuration = Math.abs(this.elem.comp.globalData.frameRate * duration);\r\n        }\r\n\r\n        lastKeyFrame = firstKeyFrame + cycleDuration;\r\n      }\r\n\r\n      var i;\r\n      var len;\r\n      var ret;\r\n\r\n      if (type === 'pingpong') {\r\n        var iterations = Math.floor((firstKeyFrame - currentFrame) / cycleDuration);\r\n\r\n        if (iterations % 2 === 0) {\r\n          return this.getValueAtTime(((firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\r\n        }\r\n      } else if (type === 'offset') {\r\n        var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\r\n        var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\r\n        var current = this.getValueAtTime((cycleDuration - (firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0);\r\n        var repeats = Math.floor((firstKeyFrame - currentFrame) / cycleDuration) + 1;\r\n\r\n        if (this.pv.length) {\r\n          ret = new Array(initV.length);\r\n          len = ret.length;\r\n\r\n          for (i = 0; i < len; i += 1) {\r\n            ret[i] = current[i] - (endV[i] - initV[i]) * repeats;\r\n          }\r\n\r\n          return ret;\r\n        }\r\n\r\n        return current - (endV - initV) * repeats;\r\n      } else if (type === 'continue') {\r\n        var firstValue = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\r\n        var nextFirstValue = this.getValueAtTime((firstKeyFrame + 0.001) / this.comp.globalData.frameRate, 0);\r\n\r\n        if (this.pv.length) {\r\n          ret = new Array(firstValue.length);\r\n          len = ret.length;\r\n\r\n          for (i = 0; i < len; i += 1) {\r\n            ret[i] = firstValue[i] + (firstValue[i] - nextFirstValue[i]) * (firstKeyFrame - currentFrame) / 0.001;\r\n          }\r\n\r\n          return ret;\r\n        }\r\n\r\n        return firstValue + (firstValue - nextFirstValue) * (firstKeyFrame - currentFrame) / 0.001;\r\n      }\r\n\r\n      return this.getValueAtTime((cycleDuration - ((firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame)) / this.comp.globalData.frameRate, 0); // eslint-disable-line\r\n    }\r\n\r\n    function smooth(width, samples) {\r\n      if (!this.k) {\r\n        return this.pv;\r\n      }\r\n\r\n      width = (width || 0.4) * 0.5;\r\n      samples = Math.floor(samples || 5);\r\n\r\n      if (samples <= 1) {\r\n        return this.pv;\r\n      }\r\n\r\n      var currentTime = this.comp.renderedFrame / this.comp.globalData.frameRate;\r\n      var initFrame = currentTime - width;\r\n      var endFrame = currentTime + width;\r\n      var sampleFrequency = samples > 1 ? (endFrame - initFrame) / (samples - 1) : 1;\r\n      var i = 0;\r\n      var j = 0;\r\n      var value;\r\n\r\n      if (this.pv.length) {\r\n        value = createTypedArray('float32', this.pv.length);\r\n      } else {\r\n        value = 0;\r\n      }\r\n\r\n      var sampleValue;\r\n\r\n      while (i < samples) {\r\n        sampleValue = this.getValueAtTime(initFrame + i * sampleFrequency);\r\n\r\n        if (this.pv.length) {\r\n          for (j = 0; j < this.pv.length; j += 1) {\r\n            value[j] += sampleValue[j];\r\n          }\r\n        } else {\r\n          value += sampleValue;\r\n        }\r\n\r\n        i += 1;\r\n      }\r\n\r\n      if (this.pv.length) {\r\n        for (j = 0; j < this.pv.length; j += 1) {\r\n          value[j] /= samples;\r\n        }\r\n      } else {\r\n        value /= samples;\r\n      }\r\n\r\n      return value;\r\n    }\r\n\r\n    function getTransformValueAtTime(time) {\r\n      if (!this._transformCachingAtTime) {\r\n        this._transformCachingAtTime = {\r\n          v: new Matrix()\r\n        };\r\n      } /// /\r\n\r\n\r\n      var matrix = this._transformCachingAtTime.v;\r\n      matrix.cloneFromProps(this.pre.props);\r\n\r\n      if (this.appliedTransformations < 1) {\r\n        var anchor = this.a.getValueAtTime(time);\r\n        matrix.translate(-anchor[0] * this.a.mult, -anchor[1] * this.a.mult, anchor[2] * this.a.mult);\r\n      }\r\n\r\n      if (this.appliedTransformations < 2) {\r\n        var scale = this.s.getValueAtTime(time);\r\n        matrix.scale(scale[0] * this.s.mult, scale[1] * this.s.mult, scale[2] * this.s.mult);\r\n      }\r\n\r\n      if (this.sk && this.appliedTransformations < 3) {\r\n        var skew = this.sk.getValueAtTime(time);\r\n        var skewAxis = this.sa.getValueAtTime(time);\r\n        matrix.skewFromAxis(-skew * this.sk.mult, skewAxis * this.sa.mult);\r\n      }\r\n\r\n      if (this.r && this.appliedTransformations < 4) {\r\n        var rotation = this.r.getValueAtTime(time);\r\n        matrix.rotate(-rotation * this.r.mult);\r\n      } else if (!this.r && this.appliedTransformations < 4) {\r\n        var rotationZ = this.rz.getValueAtTime(time);\r\n        var rotationY = this.ry.getValueAtTime(time);\r\n        var rotationX = this.rx.getValueAtTime(time);\r\n        var orientation = this.or.getValueAtTime(time);\r\n        matrix.rotateZ(-rotationZ * this.rz.mult).rotateY(rotationY * this.ry.mult).rotateX(rotationX * this.rx.mult).rotateZ(-orientation[2] * this.or.mult).rotateY(orientation[1] * this.or.mult).rotateX(orientation[0] * this.or.mult);\r\n      }\r\n\r\n      if (this.data.p && this.data.p.s) {\r\n        var positionX = this.px.getValueAtTime(time);\r\n        var positionY = this.py.getValueAtTime(time);\r\n\r\n        if (this.data.p.z) {\r\n          var positionZ = this.pz.getValueAtTime(time);\r\n          matrix.translate(positionX * this.px.mult, positionY * this.py.mult, -positionZ * this.pz.mult);\r\n        } else {\r\n          matrix.translate(positionX * this.px.mult, positionY * this.py.mult, 0);\r\n        }\r\n      } else {\r\n        var position = this.p.getValueAtTime(time);\r\n        matrix.translate(position[0] * this.p.mult, position[1] * this.p.mult, -position[2] * this.p.mult);\r\n      }\r\n\r\n      return matrix; /// /\r\n    }\r\n\r\n    function getTransformStaticValueAtTime() {\r\n      return this.v.clone(new Matrix());\r\n    }\r\n\r\n    var getTransformProperty = TransformPropertyFactory.getTransformProperty;\r\n\r\n    TransformPropertyFactory.getTransformProperty = function (elem, data, container) {\r\n      var prop = getTransformProperty(elem, data, container);\r\n\r\n      if (prop.dynamicProperties.length) {\r\n        prop.getValueAtTime = getTransformValueAtTime.bind(prop);\r\n      } else {\r\n        prop.getValueAtTime = getTransformStaticValueAtTime.bind(prop);\r\n      }\r\n\r\n      prop.setGroupProperty = expressionHelpers.setGroupProperty;\r\n      return prop;\r\n    };\r\n\r\n    var propertyGetProp = PropertyFactory.getProp;\r\n\r\n    PropertyFactory.getProp = function (elem, data, type, mult, container) {\r\n      var prop = propertyGetProp(elem, data, type, mult, container); // prop.getVelocityAtTime = getVelocityAtTime;\r\n      // prop.loopOut = loopOut;\r\n      // prop.loopIn = loopIn;\r\n\r\n      if (prop.kf) {\r\n        prop.getValueAtTime = expressionHelpers.getValueAtTime.bind(prop);\r\n      } else {\r\n        prop.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(prop);\r\n      }\r\n\r\n      prop.setGroupProperty = expressionHelpers.setGroupProperty;\r\n      prop.loopOut = loopOut;\r\n      prop.loopIn = loopIn;\r\n      prop.smooth = smooth;\r\n      prop.getVelocityAtTime = expressionHelpers.getVelocityAtTime.bind(prop);\r\n      prop.getSpeedAtTime = expressionHelpers.getSpeedAtTime.bind(prop);\r\n      prop.numKeys = data.a === 1 ? data.k.length : 0;\r\n      prop.propertyIndex = data.ix;\r\n      var value = 0;\r\n\r\n      if (type !== 0) {\r\n        value = createTypedArray('float32', data.a === 1 ? data.k[0].s.length : data.k.length);\r\n      }\r\n\r\n      prop._cachingAtTime = {\r\n        lastFrame: initialDefaultFrame,\r\n        lastIndex: 0,\r\n        value: value\r\n      };\r\n      expressionHelpers.searchExpressions(elem, data, prop);\r\n\r\n      if (prop.k) {\r\n        container.addDynamicProperty(prop);\r\n      }\r\n\r\n      return prop;\r\n    };\r\n\r\n    function getShapeValueAtTime(frameNum) {\r\n      // For now this caching object is created only when needed instead of creating it when the shape is initialized.\r\n      if (!this._cachingAtTime) {\r\n        this._cachingAtTime = {\r\n          shapeValue: shapePool.clone(this.pv),\r\n          lastIndex: 0,\r\n          lastTime: initialDefaultFrame\r\n        };\r\n      }\r\n\r\n      frameNum *= this.elem.globalData.frameRate;\r\n      frameNum -= this.offsetTime;\r\n\r\n      if (frameNum !== this._cachingAtTime.lastTime) {\r\n        this._cachingAtTime.lastIndex = this._cachingAtTime.lastTime < frameNum ? this._caching.lastIndex : 0;\r\n        this._cachingAtTime.lastTime = frameNum;\r\n        this.interpolateShape(frameNum, this._cachingAtTime.shapeValue, this._cachingAtTime);\r\n      }\r\n\r\n      return this._cachingAtTime.shapeValue;\r\n    }\r\n\r\n    var ShapePropertyConstructorFunction = ShapePropertyFactory.getConstructorFunction();\r\n    var KeyframedShapePropertyConstructorFunction = ShapePropertyFactory.getKeyframedConstructorFunction();\r\n\r\n    function ShapeExpressions() {}\r\n\r\n    ShapeExpressions.prototype = {\r\n      vertices: function vertices(prop, time) {\r\n        if (this.k) {\r\n          this.getValue();\r\n        }\r\n\r\n        var shapePath = this.v;\r\n\r\n        if (time !== undefined) {\r\n          shapePath = this.getValueAtTime(time, 0);\r\n        }\r\n\r\n        var i;\r\n        var len = shapePath._length;\r\n        var vertices = shapePath[prop];\r\n        var points = shapePath.v;\r\n        var arr = createSizedArray(len);\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n          if (prop === 'i' || prop === 'o') {\r\n            arr[i] = [vertices[i][0] - points[i][0], vertices[i][1] - points[i][1]];\r\n          } else {\r\n            arr[i] = [vertices[i][0], vertices[i][1]];\r\n          }\r\n        }\r\n\r\n        return arr;\r\n      },\r\n      points: function points(time) {\r\n        return this.vertices('v', time);\r\n      },\r\n      inTangents: function inTangents(time) {\r\n        return this.vertices('i', time);\r\n      },\r\n      outTangents: function outTangents(time) {\r\n        return this.vertices('o', time);\r\n      },\r\n      isClosed: function isClosed() {\r\n        return this.v.c;\r\n      },\r\n      pointOnPath: function pointOnPath(perc, time) {\r\n        var shapePath = this.v;\r\n\r\n        if (time !== undefined) {\r\n          shapePath = this.getValueAtTime(time, 0);\r\n        }\r\n\r\n        if (!this._segmentsLength) {\r\n          this._segmentsLength = bez.getSegmentsLength(shapePath);\r\n        }\r\n\r\n        var segmentsLength = this._segmentsLength;\r\n        var lengths = segmentsLength.lengths;\r\n        var lengthPos = segmentsLength.totalLength * perc;\r\n        var i = 0;\r\n        var len = lengths.length;\r\n        var accumulatedLength = 0;\r\n        var pt;\r\n\r\n        while (i < len) {\r\n          if (accumulatedLength + lengths[i].addedLength > lengthPos) {\r\n            var initIndex = i;\r\n            var endIndex = shapePath.c && i === len - 1 ? 0 : i + 1;\r\n            var segmentPerc = (lengthPos - accumulatedLength) / lengths[i].addedLength;\r\n            pt = bez.getPointInSegment(shapePath.v[initIndex], shapePath.v[endIndex], shapePath.o[initIndex], shapePath.i[endIndex], segmentPerc, lengths[i]);\r\n            break;\r\n          } else {\r\n            accumulatedLength += lengths[i].addedLength;\r\n          }\r\n\r\n          i += 1;\r\n        }\r\n\r\n        if (!pt) {\r\n          pt = shapePath.c ? [shapePath.v[0][0], shapePath.v[0][1]] : [shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1]];\r\n        }\r\n\r\n        return pt;\r\n      },\r\n      vectorOnPath: function vectorOnPath(perc, time, vectorType) {\r\n        // perc doesn't use triple equality because it can be a Number object as well as a primitive.\r\n        if (perc == 1) {\r\n          // eslint-disable-line eqeqeq\r\n          perc = this.v.c;\r\n        } else if (perc == 0) {\r\n          // eslint-disable-line eqeqeq\r\n          perc = 0.999;\r\n        }\r\n\r\n        var pt1 = this.pointOnPath(perc, time);\r\n        var pt2 = this.pointOnPath(perc + 0.001, time);\r\n        var xLength = pt2[0] - pt1[0];\r\n        var yLength = pt2[1] - pt1[1];\r\n        var magnitude = Math.sqrt(Math.pow(xLength, 2) + Math.pow(yLength, 2));\r\n\r\n        if (magnitude === 0) {\r\n          return [0, 0];\r\n        }\r\n\r\n        var unitVector = vectorType === 'tangent' ? [xLength / magnitude, yLength / magnitude] : [-yLength / magnitude, xLength / magnitude];\r\n        return unitVector;\r\n      },\r\n      tangentOnPath: function tangentOnPath(perc, time) {\r\n        return this.vectorOnPath(perc, time, 'tangent');\r\n      },\r\n      normalOnPath: function normalOnPath(perc, time) {\r\n        return this.vectorOnPath(perc, time, 'normal');\r\n      },\r\n      setGroupProperty: expressionHelpers.setGroupProperty,\r\n      getValueAtTime: expressionHelpers.getStaticValueAtTime\r\n    };\r\n    extendPrototype([ShapeExpressions], ShapePropertyConstructorFunction);\r\n    extendPrototype([ShapeExpressions], KeyframedShapePropertyConstructorFunction);\r\n    KeyframedShapePropertyConstructorFunction.prototype.getValueAtTime = getShapeValueAtTime;\r\n    KeyframedShapePropertyConstructorFunction.prototype.initiateExpression = ExpressionManager.initiateExpression;\r\n    var propertyGetShapeProp = ShapePropertyFactory.getShapeProp;\r\n\r\n    ShapePropertyFactory.getShapeProp = function (elem, data, type, arr, trims) {\r\n      var prop = propertyGetShapeProp(elem, data, type, arr, trims);\r\n      prop.propertyIndex = data.ix;\r\n      prop.lock = false;\r\n\r\n      if (type === 3) {\r\n        expressionHelpers.searchExpressions(elem, data.pt, prop);\r\n      } else if (type === 4) {\r\n        expressionHelpers.searchExpressions(elem, data.ks, prop);\r\n      }\r\n\r\n      if (prop.k) {\r\n        elem.addDynamicProperty(prop);\r\n      }\r\n\r\n      return prop;\r\n    };\r\n  }\r\n\r\n  function initialize$1() {\r\n    addPropertyDecorator();\r\n  }\r\n\r\n  function addDecorator() {\r\n    function searchExpressions() {\r\n      if (this.data.d.x) {\r\n        this.calculateExpression = ExpressionManager.initiateExpression.bind(this)(this.elem, this.data.d, this);\r\n        this.addEffect(this.getExpressionValue.bind(this));\r\n        return true;\r\n      }\r\n\r\n      return null;\r\n    }\r\n\r\n    TextProperty.prototype.getExpressionValue = function (currentValue, text) {\r\n      var newValue = this.calculateExpression(text);\r\n\r\n      if (currentValue.t !== newValue) {\r\n        var newData = {};\r\n        this.copyData(newData, currentValue);\r\n        newData.t = newValue.toString();\r\n        newData.__complete = false;\r\n        return newData;\r\n      }\r\n\r\n      return currentValue;\r\n    };\r\n\r\n    TextProperty.prototype.searchProperty = function () {\r\n      var isKeyframed = this.searchKeyframes();\r\n      var hasExpressions = this.searchExpressions();\r\n      this.kf = isKeyframed || hasExpressions;\r\n      return this.kf;\r\n    };\r\n\r\n    TextProperty.prototype.searchExpressions = searchExpressions;\r\n  }\r\n\r\n  function initialize() {\r\n    addDecorator();\r\n  }\r\n\r\n  function SVGComposableEffect() {}\r\n\r\n  SVGComposableEffect.prototype = {\r\n    createMergeNode: function createMergeNode(resultId, ins) {\r\n      var feMerge = createNS('feMerge');\r\n      feMerge.setAttribute('result', resultId);\r\n      var feMergeNode;\r\n      var i;\r\n\r\n      for (i = 0; i < ins.length; i += 1) {\r\n        feMergeNode = createNS('feMergeNode');\r\n        feMergeNode.setAttribute('in', ins[i]);\r\n        feMerge.appendChild(feMergeNode);\r\n        feMerge.appendChild(feMergeNode);\r\n      }\r\n\r\n      return feMerge;\r\n    }\r\n  };\r\n\r\n  var linearFilterValue = '0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0';\r\n\r\n  function SVGTintFilter(filter, filterManager, elem, id, source) {\r\n    this.filterManager = filterManager;\r\n    var feColorMatrix = createNS('feColorMatrix');\r\n    feColorMatrix.setAttribute('type', 'matrix');\r\n    feColorMatrix.setAttribute('color-interpolation-filters', 'linearRGB');\r\n    feColorMatrix.setAttribute('values', linearFilterValue + ' 1 0');\r\n    this.linearFilter = feColorMatrix;\r\n    feColorMatrix.setAttribute('result', id + '_tint_1');\r\n    filter.appendChild(feColorMatrix);\r\n    feColorMatrix = createNS('feColorMatrix');\r\n    feColorMatrix.setAttribute('type', 'matrix');\r\n    feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n    feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\r\n    feColorMatrix.setAttribute('result', id + '_tint_2');\r\n    filter.appendChild(feColorMatrix);\r\n    this.matrixFilter = feColorMatrix;\r\n    var feMerge = this.createMergeNode(id, [source, id + '_tint_1', id + '_tint_2']);\r\n    filter.appendChild(feMerge);\r\n  }\r\n\r\n  extendPrototype([SVGComposableEffect], SVGTintFilter);\r\n\r\n  SVGTintFilter.prototype.renderFrame = function (forceRender) {\r\n    if (forceRender || this.filterManager._mdf) {\r\n      var colorBlack = this.filterManager.effectElements[0].p.v;\r\n      var colorWhite = this.filterManager.effectElements[1].p.v;\r\n      var opacity = this.filterManager.effectElements[2].p.v / 100;\r\n      this.linearFilter.setAttribute('values', linearFilterValue + ' ' + opacity + ' 0');\r\n      this.matrixFilter.setAttribute('values', colorWhite[0] - colorBlack[0] + ' 0 0 0 ' + colorBlack[0] + ' ' + (colorWhite[1] - colorBlack[1]) + ' 0 0 0 ' + colorBlack[1] + ' ' + (colorWhite[2] - colorBlack[2]) + ' 0 0 0 ' + colorBlack[2] + ' 0 0 0 1 0');\r\n    }\r\n  };\r\n\r\n  function SVGFillFilter(filter, filterManager, elem, id) {\r\n    this.filterManager = filterManager;\r\n    var feColorMatrix = createNS('feColorMatrix');\r\n    feColorMatrix.setAttribute('type', 'matrix');\r\n    feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n    feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\r\n    feColorMatrix.setAttribute('result', id);\r\n    filter.appendChild(feColorMatrix);\r\n    this.matrixFilter = feColorMatrix;\r\n  }\r\n\r\n  SVGFillFilter.prototype.renderFrame = function (forceRender) {\r\n    if (forceRender || this.filterManager._mdf) {\r\n      var color = this.filterManager.effectElements[2].p.v;\r\n      var opacity = this.filterManager.effectElements[6].p.v;\r\n      this.matrixFilter.setAttribute('values', '0 0 0 0 ' + color[0] + ' 0 0 0 0 ' + color[1] + ' 0 0 0 0 ' + color[2] + ' 0 0 0 ' + opacity + ' 0');\r\n    }\r\n  };\r\n\r\n  function SVGStrokeEffect(fil, filterManager, elem) {\r\n    this.initialized = false;\r\n    this.filterManager = filterManager;\r\n    this.elem = elem;\r\n    this.paths = [];\r\n  }\r\n\r\n  SVGStrokeEffect.prototype.initialize = function () {\r\n    var elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\r\n    var path;\r\n    var groupPath;\r\n    var i;\r\n    var len;\r\n\r\n    if (this.filterManager.effectElements[1].p.v === 1) {\r\n      len = this.elem.maskManager.masksProperties.length;\r\n      i = 0;\r\n    } else {\r\n      i = this.filterManager.effectElements[0].p.v - 1;\r\n      len = i + 1;\r\n    }\r\n\r\n    groupPath = createNS('g');\r\n    groupPath.setAttribute('fill', 'none');\r\n    groupPath.setAttribute('stroke-linecap', 'round');\r\n    groupPath.setAttribute('stroke-dashoffset', 1);\r\n\r\n    for (i; i < len; i += 1) {\r\n      path = createNS('path');\r\n      groupPath.appendChild(path);\r\n      this.paths.push({\r\n        p: path,\r\n        m: i\r\n      });\r\n    }\r\n\r\n    if (this.filterManager.effectElements[10].p.v === 3) {\r\n      var mask = createNS('mask');\r\n      var id = createElementID();\r\n      mask.setAttribute('id', id);\r\n      mask.setAttribute('mask-type', 'alpha');\r\n      mask.appendChild(groupPath);\r\n      this.elem.globalData.defs.appendChild(mask);\r\n      var g = createNS('g');\r\n      g.setAttribute('mask', 'url(' + getLocationHref() + '#' + id + ')');\r\n\r\n      while (elemChildren[0]) {\r\n        g.appendChild(elemChildren[0]);\r\n      }\r\n\r\n      this.elem.layerElement.appendChild(g);\r\n      this.masker = mask;\r\n      groupPath.setAttribute('stroke', '#fff');\r\n    } else if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {\r\n      if (this.filterManager.effectElements[10].p.v === 2) {\r\n        elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\r\n\r\n        while (elemChildren.length) {\r\n          this.elem.layerElement.removeChild(elemChildren[0]);\r\n        }\r\n      }\r\n\r\n      this.elem.layerElement.appendChild(groupPath);\r\n      this.elem.layerElement.removeAttribute('mask');\r\n      groupPath.setAttribute('stroke', '#fff');\r\n    }\r\n\r\n    this.initialized = true;\r\n    this.pathMasker = groupPath;\r\n  };\r\n\r\n  SVGStrokeEffect.prototype.renderFrame = function (forceRender) {\r\n    if (!this.initialized) {\r\n      this.initialize();\r\n    }\r\n\r\n    var i;\r\n    var len = this.paths.length;\r\n    var mask;\r\n    var path;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.paths[i].m !== -1) {\r\n        mask = this.elem.maskManager.viewData[this.paths[i].m];\r\n        path = this.paths[i].p;\r\n\r\n        if (forceRender || this.filterManager._mdf || mask.prop._mdf) {\r\n          path.setAttribute('d', mask.lastPath);\r\n        }\r\n\r\n        if (forceRender || this.filterManager.effectElements[9].p._mdf || this.filterManager.effectElements[4].p._mdf || this.filterManager.effectElements[7].p._mdf || this.filterManager.effectElements[8].p._mdf || mask.prop._mdf) {\r\n          var dasharrayValue;\r\n\r\n          if (this.filterManager.effectElements[7].p.v !== 0 || this.filterManager.effectElements[8].p.v !== 100) {\r\n            var s = Math.min(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;\r\n            var e = Math.max(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;\r\n            var l = path.getTotalLength();\r\n            dasharrayValue = '0 0 0 ' + l * s + ' ';\r\n            var lineLength = l * (e - s);\r\n            var segment = 1 + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;\r\n            var units = Math.floor(lineLength / segment);\r\n            var j;\r\n\r\n            for (j = 0; j < units; j += 1) {\r\n              dasharrayValue += '1 ' + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01 + ' ';\r\n            }\r\n\r\n            dasharrayValue += '0 ' + l * 10 + ' 0 0';\r\n          } else {\r\n            dasharrayValue = '1 ' + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;\r\n          }\r\n\r\n          path.setAttribute('stroke-dasharray', dasharrayValue);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (forceRender || this.filterManager.effectElements[4].p._mdf) {\r\n      this.pathMasker.setAttribute('stroke-width', this.filterManager.effectElements[4].p.v * 2);\r\n    }\r\n\r\n    if (forceRender || this.filterManager.effectElements[6].p._mdf) {\r\n      this.pathMasker.setAttribute('opacity', this.filterManager.effectElements[6].p.v);\r\n    }\r\n\r\n    if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {\r\n      if (forceRender || this.filterManager.effectElements[3].p._mdf) {\r\n        var color = this.filterManager.effectElements[3].p.v;\r\n        this.pathMasker.setAttribute('stroke', 'rgb(' + bmFloor(color[0] * 255) + ',' + bmFloor(color[1] * 255) + ',' + bmFloor(color[2] * 255) + ')');\r\n      }\r\n    }\r\n  };\r\n\r\n  function SVGTritoneFilter(filter, filterManager, elem, id) {\r\n    this.filterManager = filterManager;\r\n    var feColorMatrix = createNS('feColorMatrix');\r\n    feColorMatrix.setAttribute('type', 'matrix');\r\n    feColorMatrix.setAttribute('color-interpolation-filters', 'linearRGB');\r\n    feColorMatrix.setAttribute('values', '0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\r\n    filter.appendChild(feColorMatrix);\r\n    var feComponentTransfer = createNS('feComponentTransfer');\r\n    feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\r\n    feComponentTransfer.setAttribute('result', id);\r\n    this.matrixFilter = feComponentTransfer;\r\n    var feFuncR = createNS('feFuncR');\r\n    feFuncR.setAttribute('type', 'table');\r\n    feComponentTransfer.appendChild(feFuncR);\r\n    this.feFuncR = feFuncR;\r\n    var feFuncG = createNS('feFuncG');\r\n    feFuncG.setAttribute('type', 'table');\r\n    feComponentTransfer.appendChild(feFuncG);\r\n    this.feFuncG = feFuncG;\r\n    var feFuncB = createNS('feFuncB');\r\n    feFuncB.setAttribute('type', 'table');\r\n    feComponentTransfer.appendChild(feFuncB);\r\n    this.feFuncB = feFuncB;\r\n    filter.appendChild(feComponentTransfer);\r\n  }\r\n\r\n  SVGTritoneFilter.prototype.renderFrame = function (forceRender) {\r\n    if (forceRender || this.filterManager._mdf) {\r\n      var color1 = this.filterManager.effectElements[0].p.v;\r\n      var color2 = this.filterManager.effectElements[1].p.v;\r\n      var color3 = this.filterManager.effectElements[2].p.v;\r\n      var tableR = color3[0] + ' ' + color2[0] + ' ' + color1[0];\r\n      var tableG = color3[1] + ' ' + color2[1] + ' ' + color1[1];\r\n      var tableB = color3[2] + ' ' + color2[2] + ' ' + color1[2];\r\n      this.feFuncR.setAttribute('tableValues', tableR);\r\n      this.feFuncG.setAttribute('tableValues', tableG);\r\n      this.feFuncB.setAttribute('tableValues', tableB);\r\n    }\r\n  };\r\n\r\n  function SVGProLevelsFilter(filter, filterManager, elem, id) {\r\n    this.filterManager = filterManager;\r\n    var effectElements = this.filterManager.effectElements;\r\n    var feComponentTransfer = createNS('feComponentTransfer'); // Red\r\n\r\n    if (effectElements[10].p.k || effectElements[10].p.v !== 0 || effectElements[11].p.k || effectElements[11].p.v !== 1 || effectElements[12].p.k || effectElements[12].p.v !== 1 || effectElements[13].p.k || effectElements[13].p.v !== 0 || effectElements[14].p.k || effectElements[14].p.v !== 1) {\r\n      this.feFuncR = this.createFeFunc('feFuncR', feComponentTransfer);\r\n    } // Green\r\n\r\n\r\n    if (effectElements[17].p.k || effectElements[17].p.v !== 0 || effectElements[18].p.k || effectElements[18].p.v !== 1 || effectElements[19].p.k || effectElements[19].p.v !== 1 || effectElements[20].p.k || effectElements[20].p.v !== 0 || effectElements[21].p.k || effectElements[21].p.v !== 1) {\r\n      this.feFuncG = this.createFeFunc('feFuncG', feComponentTransfer);\r\n    } // Blue\r\n\r\n\r\n    if (effectElements[24].p.k || effectElements[24].p.v !== 0 || effectElements[25].p.k || effectElements[25].p.v !== 1 || effectElements[26].p.k || effectElements[26].p.v !== 1 || effectElements[27].p.k || effectElements[27].p.v !== 0 || effectElements[28].p.k || effectElements[28].p.v !== 1) {\r\n      this.feFuncB = this.createFeFunc('feFuncB', feComponentTransfer);\r\n    } // Alpha\r\n\r\n\r\n    if (effectElements[31].p.k || effectElements[31].p.v !== 0 || effectElements[32].p.k || effectElements[32].p.v !== 1 || effectElements[33].p.k || effectElements[33].p.v !== 1 || effectElements[34].p.k || effectElements[34].p.v !== 0 || effectElements[35].p.k || effectElements[35].p.v !== 1) {\r\n      this.feFuncA = this.createFeFunc('feFuncA', feComponentTransfer);\r\n    } // RGB\r\n\r\n\r\n    if (this.feFuncR || this.feFuncG || this.feFuncB || this.feFuncA) {\r\n      feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\r\n      filter.appendChild(feComponentTransfer);\r\n    }\r\n\r\n    if (effectElements[3].p.k || effectElements[3].p.v !== 0 || effectElements[4].p.k || effectElements[4].p.v !== 1 || effectElements[5].p.k || effectElements[5].p.v !== 1 || effectElements[6].p.k || effectElements[6].p.v !== 0 || effectElements[7].p.k || effectElements[7].p.v !== 1) {\r\n      feComponentTransfer = createNS('feComponentTransfer');\r\n      feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\r\n      feComponentTransfer.setAttribute('result', id);\r\n      filter.appendChild(feComponentTransfer);\r\n      this.feFuncRComposed = this.createFeFunc('feFuncR', feComponentTransfer);\r\n      this.feFuncGComposed = this.createFeFunc('feFuncG', feComponentTransfer);\r\n      this.feFuncBComposed = this.createFeFunc('feFuncB', feComponentTransfer);\r\n    }\r\n  }\r\n\r\n  SVGProLevelsFilter.prototype.createFeFunc = function (type, feComponentTransfer) {\r\n    var feFunc = createNS(type);\r\n    feFunc.setAttribute('type', 'table');\r\n    feComponentTransfer.appendChild(feFunc);\r\n    return feFunc;\r\n  };\r\n\r\n  SVGProLevelsFilter.prototype.getTableValue = function (inputBlack, inputWhite, gamma, outputBlack, outputWhite) {\r\n    var cnt = 0;\r\n    var segments = 256;\r\n    var perc;\r\n    var min = Math.min(inputBlack, inputWhite);\r\n    var max = Math.max(inputBlack, inputWhite);\r\n    var table = Array.call(null, {\r\n      length: segments\r\n    });\r\n    var colorValue;\r\n    var pos = 0;\r\n    var outputDelta = outputWhite - outputBlack;\r\n    var inputDelta = inputWhite - inputBlack;\r\n\r\n    while (cnt <= 256) {\r\n      perc = cnt / 256;\r\n\r\n      if (perc <= min) {\r\n        colorValue = inputDelta < 0 ? outputWhite : outputBlack;\r\n      } else if (perc >= max) {\r\n        colorValue = inputDelta < 0 ? outputBlack : outputWhite;\r\n      } else {\r\n        colorValue = outputBlack + outputDelta * Math.pow((perc - inputBlack) / inputDelta, 1 / gamma);\r\n      }\r\n\r\n      table[pos] = colorValue;\r\n      pos += 1;\r\n      cnt += 256 / (segments - 1);\r\n    }\r\n\r\n    return table.join(' ');\r\n  };\r\n\r\n  SVGProLevelsFilter.prototype.renderFrame = function (forceRender) {\r\n    if (forceRender || this.filterManager._mdf) {\r\n      var val;\r\n      var effectElements = this.filterManager.effectElements;\r\n\r\n      if (this.feFuncRComposed && (forceRender || effectElements[3].p._mdf || effectElements[4].p._mdf || effectElements[5].p._mdf || effectElements[6].p._mdf || effectElements[7].p._mdf)) {\r\n        val = this.getTableValue(effectElements[3].p.v, effectElements[4].p.v, effectElements[5].p.v, effectElements[6].p.v, effectElements[7].p.v);\r\n        this.feFuncRComposed.setAttribute('tableValues', val);\r\n        this.feFuncGComposed.setAttribute('tableValues', val);\r\n        this.feFuncBComposed.setAttribute('tableValues', val);\r\n      }\r\n\r\n      if (this.feFuncR && (forceRender || effectElements[10].p._mdf || effectElements[11].p._mdf || effectElements[12].p._mdf || effectElements[13].p._mdf || effectElements[14].p._mdf)) {\r\n        val = this.getTableValue(effectElements[10].p.v, effectElements[11].p.v, effectElements[12].p.v, effectElements[13].p.v, effectElements[14].p.v);\r\n        this.feFuncR.setAttribute('tableValues', val);\r\n      }\r\n\r\n      if (this.feFuncG && (forceRender || effectElements[17].p._mdf || effectElements[18].p._mdf || effectElements[19].p._mdf || effectElements[20].p._mdf || effectElements[21].p._mdf)) {\r\n        val = this.getTableValue(effectElements[17].p.v, effectElements[18].p.v, effectElements[19].p.v, effectElements[20].p.v, effectElements[21].p.v);\r\n        this.feFuncG.setAttribute('tableValues', val);\r\n      }\r\n\r\n      if (this.feFuncB && (forceRender || effectElements[24].p._mdf || effectElements[25].p._mdf || effectElements[26].p._mdf || effectElements[27].p._mdf || effectElements[28].p._mdf)) {\r\n        val = this.getTableValue(effectElements[24].p.v, effectElements[25].p.v, effectElements[26].p.v, effectElements[27].p.v, effectElements[28].p.v);\r\n        this.feFuncB.setAttribute('tableValues', val);\r\n      }\r\n\r\n      if (this.feFuncA && (forceRender || effectElements[31].p._mdf || effectElements[32].p._mdf || effectElements[33].p._mdf || effectElements[34].p._mdf || effectElements[35].p._mdf)) {\r\n        val = this.getTableValue(effectElements[31].p.v, effectElements[32].p.v, effectElements[33].p.v, effectElements[34].p.v, effectElements[35].p.v);\r\n        this.feFuncA.setAttribute('tableValues', val);\r\n      }\r\n    }\r\n  };\r\n\r\n  function SVGDropShadowEffect(filter, filterManager, elem, id, source) {\r\n    var globalFilterSize = filterManager.container.globalData.renderConfig.filterSize;\r\n    var filterSize = filterManager.data.fs || globalFilterSize;\r\n    filter.setAttribute('x', filterSize.x || globalFilterSize.x);\r\n    filter.setAttribute('y', filterSize.y || globalFilterSize.y);\r\n    filter.setAttribute('width', filterSize.width || globalFilterSize.width);\r\n    filter.setAttribute('height', filterSize.height || globalFilterSize.height);\r\n    this.filterManager = filterManager;\r\n    var feGaussianBlur = createNS('feGaussianBlur');\r\n    feGaussianBlur.setAttribute('in', 'SourceAlpha');\r\n    feGaussianBlur.setAttribute('result', id + '_drop_shadow_1');\r\n    feGaussianBlur.setAttribute('stdDeviation', '0');\r\n    this.feGaussianBlur = feGaussianBlur;\r\n    filter.appendChild(feGaussianBlur);\r\n    var feOffset = createNS('feOffset');\r\n    feOffset.setAttribute('dx', '25');\r\n    feOffset.setAttribute('dy', '0');\r\n    feOffset.setAttribute('in', id + '_drop_shadow_1');\r\n    feOffset.setAttribute('result', id + '_drop_shadow_2');\r\n    this.feOffset = feOffset;\r\n    filter.appendChild(feOffset);\r\n    var feFlood = createNS('feFlood');\r\n    feFlood.setAttribute('flood-color', '#00ff00');\r\n    feFlood.setAttribute('flood-opacity', '1');\r\n    feFlood.setAttribute('result', id + '_drop_shadow_3');\r\n    this.feFlood = feFlood;\r\n    filter.appendChild(feFlood);\r\n    var feComposite = createNS('feComposite');\r\n    feComposite.setAttribute('in', id + '_drop_shadow_3');\r\n    feComposite.setAttribute('in2', id + '_drop_shadow_2');\r\n    feComposite.setAttribute('operator', 'in');\r\n    feComposite.setAttribute('result', id + '_drop_shadow_4');\r\n    filter.appendChild(feComposite);\r\n    var feMerge = this.createMergeNode(id, [id + '_drop_shadow_4', source]);\r\n    filter.appendChild(feMerge); //\r\n  }\r\n\r\n  extendPrototype([SVGComposableEffect], SVGDropShadowEffect);\r\n\r\n  SVGDropShadowEffect.prototype.renderFrame = function (forceRender) {\r\n    if (forceRender || this.filterManager._mdf) {\r\n      if (forceRender || this.filterManager.effectElements[4].p._mdf) {\r\n        this.feGaussianBlur.setAttribute('stdDeviation', this.filterManager.effectElements[4].p.v / 4);\r\n      }\r\n\r\n      if (forceRender || this.filterManager.effectElements[0].p._mdf) {\r\n        var col = this.filterManager.effectElements[0].p.v;\r\n        this.feFlood.setAttribute('flood-color', rgbToHex(Math.round(col[0] * 255), Math.round(col[1] * 255), Math.round(col[2] * 255)));\r\n      }\r\n\r\n      if (forceRender || this.filterManager.effectElements[1].p._mdf) {\r\n        this.feFlood.setAttribute('flood-opacity', this.filterManager.effectElements[1].p.v / 255);\r\n      }\r\n\r\n      if (forceRender || this.filterManager.effectElements[2].p._mdf || this.filterManager.effectElements[3].p._mdf) {\r\n        var distance = this.filterManager.effectElements[3].p.v;\r\n        var angle = (this.filterManager.effectElements[2].p.v - 90) * degToRads;\r\n        var x = distance * Math.cos(angle);\r\n        var y = distance * Math.sin(angle);\r\n        this.feOffset.setAttribute('dx', x);\r\n        this.feOffset.setAttribute('dy', y);\r\n      }\r\n    }\r\n  };\r\n\r\n  var _svgMatteSymbols = [];\r\n\r\n  function SVGMatte3Effect(filterElem, filterManager, elem) {\r\n    this.initialized = false;\r\n    this.filterManager = filterManager;\r\n    this.filterElem = filterElem;\r\n    this.elem = elem;\r\n    elem.matteElement = createNS('g');\r\n    elem.matteElement.appendChild(elem.layerElement);\r\n    elem.matteElement.appendChild(elem.transformedElement);\r\n    elem.baseElement = elem.matteElement;\r\n  }\r\n\r\n  SVGMatte3Effect.prototype.findSymbol = function (mask) {\r\n    var i = 0;\r\n    var len = _svgMatteSymbols.length;\r\n\r\n    while (i < len) {\r\n      if (_svgMatteSymbols[i] === mask) {\r\n        return _svgMatteSymbols[i];\r\n      }\r\n\r\n      i += 1;\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  SVGMatte3Effect.prototype.replaceInParent = function (mask, symbolId) {\r\n    var parentNode = mask.layerElement.parentNode;\r\n\r\n    if (!parentNode) {\r\n      return;\r\n    }\r\n\r\n    var children = parentNode.children;\r\n    var i = 0;\r\n    var len = children.length;\r\n\r\n    while (i < len) {\r\n      if (children[i] === mask.layerElement) {\r\n        break;\r\n      }\r\n\r\n      i += 1;\r\n    }\r\n\r\n    var nextChild;\r\n\r\n    if (i <= len - 2) {\r\n      nextChild = children[i + 1];\r\n    }\r\n\r\n    var useElem = createNS('use');\r\n    useElem.setAttribute('href', '#' + symbolId);\r\n\r\n    if (nextChild) {\r\n      parentNode.insertBefore(useElem, nextChild);\r\n    } else {\r\n      parentNode.appendChild(useElem);\r\n    }\r\n  };\r\n\r\n  SVGMatte3Effect.prototype.setElementAsMask = function (elem, mask) {\r\n    if (!this.findSymbol(mask)) {\r\n      var symbolId = createElementID();\r\n      var masker = createNS('mask');\r\n      masker.setAttribute('id', mask.layerId);\r\n      masker.setAttribute('mask-type', 'alpha');\r\n\r\n      _svgMatteSymbols.push(mask);\r\n\r\n      var defs = elem.globalData.defs;\r\n      defs.appendChild(masker);\r\n      var symbol = createNS('symbol');\r\n      symbol.setAttribute('id', symbolId);\r\n      this.replaceInParent(mask, symbolId);\r\n      symbol.appendChild(mask.layerElement);\r\n      defs.appendChild(symbol);\r\n      var useElem = createNS('use');\r\n      useElem.setAttribute('href', '#' + symbolId);\r\n      masker.appendChild(useElem);\r\n      mask.data.hd = false;\r\n      mask.show();\r\n    }\r\n\r\n    elem.setMatte(mask.layerId);\r\n  };\r\n\r\n  SVGMatte3Effect.prototype.initialize = function () {\r\n    var ind = this.filterManager.effectElements[0].p.v;\r\n    var elements = this.elem.comp.elements;\r\n    var i = 0;\r\n    var len = elements.length;\r\n\r\n    while (i < len) {\r\n      if (elements[i] && elements[i].data.ind === ind) {\r\n        this.setElementAsMask(this.elem, elements[i]);\r\n      }\r\n\r\n      i += 1;\r\n    }\r\n\r\n    this.initialized = true;\r\n  };\r\n\r\n  SVGMatte3Effect.prototype.renderFrame = function () {\r\n    if (!this.initialized) {\r\n      this.initialize();\r\n    }\r\n  };\r\n\r\n  function SVGGaussianBlurEffect(filter, filterManager, elem, id) {\r\n    // Outset the filter region by 100% on all sides to accommodate blur expansion.\r\n    filter.setAttribute('x', '-100%');\r\n    filter.setAttribute('y', '-100%');\r\n    filter.setAttribute('width', '300%');\r\n    filter.setAttribute('height', '300%');\r\n    this.filterManager = filterManager;\r\n    var feGaussianBlur = createNS('feGaussianBlur');\r\n    feGaussianBlur.setAttribute('result', id);\r\n    filter.appendChild(feGaussianBlur);\r\n    this.feGaussianBlur = feGaussianBlur;\r\n  }\r\n\r\n  SVGGaussianBlurEffect.prototype.renderFrame = function (forceRender) {\r\n    if (forceRender || this.filterManager._mdf) {\r\n      // Empirical value, matching AE's blur appearance.\r\n      var kBlurrinessToSigma = 0.3;\r\n      var sigma = this.filterManager.effectElements[0].p.v * kBlurrinessToSigma; // Dimensions mapping:\r\n      //\r\n      //   1 -> horizontal & vertical\r\n      //   2 -> horizontal only\r\n      //   3 -> vertical only\r\n      //\r\n\r\n      var dimensions = this.filterManager.effectElements[1].p.v;\r\n      var sigmaX = dimensions == 3 ? 0 : sigma; // eslint-disable-line eqeqeq\r\n\r\n      var sigmaY = dimensions == 2 ? 0 : sigma; // eslint-disable-line eqeqeq\r\n\r\n      this.feGaussianBlur.setAttribute('stdDeviation', sigmaX + ' ' + sigmaY); // Repeat edges mapping:\r\n      //\r\n      //   0 -> off -> duplicate\r\n      //   1 -> on  -> wrap\r\n\r\n      var edgeMode = this.filterManager.effectElements[2].p.v == 1 ? 'wrap' : 'duplicate'; // eslint-disable-line eqeqeq\r\n\r\n      this.feGaussianBlur.setAttribute('edgeMode', edgeMode);\r\n    }\r\n  };\r\n\r\n  function TransformEffect() {}\r\n\r\n  TransformEffect.prototype.init = function (effectsManager) {\r\n    this.effectsManager = effectsManager;\r\n    this.type = effectTypes.TRANSFORM_EFFECT;\r\n    this.matrix = new Matrix();\r\n    this.opacity = -1;\r\n    this._mdf = false;\r\n    this._opMdf = false;\r\n  };\r\n\r\n  TransformEffect.prototype.renderFrame = function (forceFrame) {\r\n    this._opMdf = false;\r\n    this._mdf = false;\r\n\r\n    if (forceFrame || this.effectsManager._mdf) {\r\n      var effectElements = this.effectsManager.effectElements;\r\n      var anchor = effectElements[0].p.v;\r\n      var position = effectElements[1].p.v;\r\n      var isUniformScale = effectElements[2].p.v === 1;\r\n      var scaleHeight = effectElements[3].p.v;\r\n      var scaleWidth = isUniformScale ? scaleHeight : effectElements[4].p.v;\r\n      var skew = effectElements[5].p.v;\r\n      var skewAxis = effectElements[6].p.v;\r\n      var rotation = effectElements[7].p.v;\r\n      this.matrix.reset();\r\n      this.matrix.translate(-anchor[0], -anchor[1], anchor[2]);\r\n      this.matrix.scale(scaleWidth * 0.01, scaleHeight * 0.01, 1);\r\n      this.matrix.rotate(-rotation * degToRads);\r\n      this.matrix.skewFromAxis(-skew * degToRads, (skewAxis + 90) * degToRads);\r\n      this.matrix.translate(position[0], position[1], 0);\r\n      this._mdf = true;\r\n\r\n      if (this.opacity !== effectElements[8].p.v) {\r\n        this.opacity = effectElements[8].p.v;\r\n        this._opMdf = true;\r\n      }\r\n    }\r\n  };\r\n\r\n  function SVGTransformEffect(_, filterManager) {\r\n    this.init(filterManager);\r\n  }\r\n\r\n  extendPrototype([TransformEffect], SVGTransformEffect);\r\n\r\n  function CVTransformEffect(effectsManager) {\r\n    this.init(effectsManager);\r\n  }\r\n\r\n  extendPrototype([TransformEffect], CVTransformEffect);\r\n\r\n  registerRenderer('canvas', CanvasRenderer);\r\n  registerRenderer('html', HybridRenderer);\r\n  registerRenderer('svg', SVGRenderer); // Registering shape modifiers\r\n\r\n  ShapeModifiers.registerModifier('tm', TrimModifier);\r\n  ShapeModifiers.registerModifier('pb', PuckerAndBloatModifier);\r\n  ShapeModifiers.registerModifier('rp', RepeaterModifier);\r\n  ShapeModifiers.registerModifier('rd', RoundCornersModifier);\r\n  ShapeModifiers.registerModifier('zz', ZigZagModifier);\r\n  ShapeModifiers.registerModifier('op', OffsetPathModifier); // Registering expression plugin\r\n\r\n  setExpressionsPlugin(Expressions);\r\n  setExpressionInterfaces(getInterface);\r\n  initialize$1();\r\n  initialize(); // Registering svg effects\r\n\r\n  registerEffect$1(20, SVGTintFilter, true);\r\n  registerEffect$1(21, SVGFillFilter, true);\r\n  registerEffect$1(22, SVGStrokeEffect, false);\r\n  registerEffect$1(23, SVGTritoneFilter, true);\r\n  registerEffect$1(24, SVGProLevelsFilter, true);\r\n  registerEffect$1(25, SVGDropShadowEffect, true);\r\n  registerEffect$1(28, SVGMatte3Effect, false);\r\n  registerEffect$1(29, SVGGaussianBlurEffect, true);\r\n  registerEffect$1(35, SVGTransformEffect, false);\r\n  registerEffect(35, CVTransformEffect);\r\n\r\n  return lottie;\r\n\r\n}));\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}